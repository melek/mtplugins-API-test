{"lib:weather": {"v1.4.1": {
  "mtversion": "1.8.4",
  "timestamp": "2021-04-04T20:47:18.9684958-07:00",
  "notes": "Click Notes",
  "gmnotes": "",
  "properties":   {
    "controlPanel_css": "<style>\n:root {\n\tfont-size: 1em;\n\t--menucolour: blue;\n\t--menufontsize: small;\n\t}\n* {\tbox-sizing:border-box;\n\tmargin:0;\n\tpadding:0;\n\tcursor: default;\n\tfont-size: 1rem;\n}\nbody { background:#f8f8ff; }\na {\ttext-decoration: none;}\n.accordionhead { background:rgba(200,200,100,0.2);}\n.accordionbutton {\n\tbackground:rgba(255,255,255,0.3);\n\tborder: 1px dotted silver;\n\tborder-radius: 20%;\n\tfloat:left;\n\tline-height:1.2rem;\n\tmargin:auto;\n\twidth:2rem;\n}\n.accordionbutton:hover {\n\tbackground:rgba(200,200,200,0.3);\n\tborder: 1px solid silver;\n\tcursor:pointer;}\nh2 { font-size:1.16rem;\n\tfont-weight:normal;\n\twidth: 100%; \n\ttext-align: center; \n\tbox-shadow: 0 .1rem .5rem #444;\n\tpadding: .2rem 0;\n\tmargin: .2rem 0 .5rem 0;}\nh4{ font-size:.9rem;\n\tfont-weight: normal;\n\twidth: 100%; \n\ttext-align: center; \n\tmargin: .2rem 0;\n\tcolor: navy;}\n.hiding {display: none;}\nhr { border:none; border-bottom: 1px dotted silver; border-top:4px solid transparent;}\ninput, select {\tdisplay: inline-block;\n\tpadding: auto 0;\n\theight: 1.3rem;\n\tbackground-color: rgba(200,200,200,0.1);\n\tborder: 1px dotted silver;\n\t}\ninput[type=\"color\"] {\n\talign:center;\n\tpadding:auto;\n\tmargin:auto;\n\tmargin-left:15%;\n\ttext-align: center;\n\twidth:50%;\n\n\t}\ninput[type=\"range\"] {\n\talign:center;\n\tpadding:auto;\n\tmargin:auto;\n\twidth:100%;\n\tdisplay: table-cell;\n\t}\n.rangewrapper {\n\tdisplay: table;\n\twidth: 95%;\n\tmargin:.1rem .2rem;\n\tpadding: 0 auto;\n\n}\n.rangeval {\n\twidth: 3rem;\n\tdisplay: table-cell;\n\tborder-radius:.2rem;\n\tbox-shadow: 1px 1px 2px rgba(0,0,0,0.2);\n\tline-height: 1.1rem;\n\tpadding: .1rem .2rem;\n\ttext-align: center;\n}\ninput[type=\"radio\"] {\n\tborder:none;\n\talign:center;\n\tpadding:auto;\n\tmargin:.1rem 0;\n\theight:.9rem;\n}\n.radiowrapper {width:100%; align:center; line-height:.8rem; margin-top:0.4rem;}\n\nlabel {\tfont-size:1rem;\n\tdisplay: inline-block;\n\twhite-space:nowrap;\n\ttext-overflow: ellipsis;\n\ttext-indent:3%;}\nselect {width:100%;}\nselect optgroup {background-color:blue; font-style: oblique; font-variant:small-caps;}\n\n\n.soundprefs label, .soundprefs label span, .prefset label, .prefset label span  {font-size:smaller; text-shadow:none;}\n.soundprefs .rangelabel ,.prefset .rangelabel {width:100%; text-align:center;}\n.prefset .radiolabel {width:50%; text-align:right; margin-right: 1rem;}\n\n.actionbtngroup {\n\tborder-collapse:collapse; \n\tborder-spacing: 0; \n\tempty-cells: show;\n\tmargin:0;\n\tpadding:0;\n\twidth:100%;\n}\n.actionbtngroup td {padding:0; margin:0; padding-top:1rem;}\n.actionbtn {\n\theight:1.8rem;\n\tpadding: .2rem 1rem;\n\tmargin-left: 0;\n\tmargin-right: 0;\n\ttext-shadow: -2px -1px 1px white;\n\twidth:100%;\n\tborder-width: 1px;\n\t}\n.actionbtn:hover {border-width: 2px; }\n#launchbtn {\n\tbackground-color:#e8e8ff;\n\tborder-color: blue;\n\tborder-style: solid dotted solid solid;\n\tborder-radius:0.6rem 0 0 0.6rem;\n}\n#stopbtn {\n\tbackground-color:#ffe8e8;\n\tborder-color:red;\n\tborder-style: solid solid solid dotted;\n\tborder-radius: 0 0.6rem 0.6rem 0;\n}\n#launchbtn:hover {border-style: solid;}\n#stopbtn:hover {border-style: solid;}\n.layerNum {\n\ttext-align:center;\n\tcolor:#050;\n\ttext-shadow: -1px 0px 0px #66dd66;\n}\n.layeropacity {\n\tbackground: rgba(220,220,100,0.1);\n\tborder-top:1px solid bisque;\n\tborder-bottom:1px solid bisque;\n\tpadding: .2rem 0;\n}\n.playerSelect, .tokenSelect {min-width:10rem; margin: 0 90% 0 10%;}\n.prefButton {\n\talign:right;\n\tbackground: rgba(100,100,100,0.07);\n\tborder: 1px solid rgba(100,100,100,0.1);\n\theight:90%;\n\twidth:1.7rem;\n\tdisplay:inline-block;\n}\n.prefbtnactive { background: rgba(100,100,100,0.3);}\n.prefButton:hover {\n\tbackground: rgba(220,220,100,0.3);\n\tborder-color: rgba(100,100,100,0.4);\n\t}\n.layerselections {left:0;}\n.layerselections, .overlayPrefs {\n\twidth: 50%;\n\tmax-width:400px;\n\tmin-width:280px;\n\tborder: 1px dotted silver;\n\tposition: fixed;\n\ttop: 0;\n\toverflow-Y: auto;}\n.layerselections\ttable {\n\tborder-spacing: 0 .1rem ;\n\tempty-cells: show;\n}\n.overlayPrefs {\n\tleft: 50%;\n\t}\n.optioncontrol { width:100%; line-height:2rem;}\n.optionsPane { overflow-Y: auto; width: 100%; }\n.tablecell {display: table-cell; width: 40%; align: center; text-align: center; margin-left:1rem;  margin-right:1rem;}\n.tablecell:first-child {text-align: right; }\n.tablecell:last-child {text-align: left;}\n.tablerow {display: table-row; width:100%; align:center; text-align:center;}\n.tablerow  {margin: 0 90% 0 10%;}\nth {color: navy;\n\tfont-weight:normal;\n\tfont-variant-caps: petite-caps;\n\tfont-size: smaller;\n\tpadding:.2rem .3rem .1rem;\n\tborder-color: rgba(100,100,100,0.2) ;\n\tborder-style: solid ;\n\tborder-width: 1px 0 2px;\n}\ntd {padding:.1rem .3rem;\n\tborder-bottom: 1px solid rgba(100,100,100,0.2) ;\n}\n\n.rowend{border-right:  1px solid rgba(100,100,100,0.2);}\n.settingsbtn {\n\tbackground:rgba(255,255,255,0.3);\n\tborder: 1px dotted silver;\n\tborder-radius: 20%;\n\tfloat:right;\n\tline-height:1.2rem;\n\tmargin:0 auto;\n\twidth:2rem;\n}\n.settingsbtn:hover {\n\tbackground:rgba(200,200,200,0.3);\n\tborder: 1px solid silver;\n\tcursor:pointer;\n}\n@media screen and (max-width: 380px) {\n\t:root {font-size: .8em;}\n}\n@media screen and (max-width: 560px) {\n\t.layerselections, .overlayPrefs {width: 100%; position: relative;}\n\t.overlayPrefs {left:0;}\n}\n<\/style>",
    "controlPanel_js": "<script>\nwindow.addEventListener(\"load\", function() {\n\tvar rangeInputs = document.querySelectorAll(`input[type=\"range\"]`);\n\tfor(var i=0; i<rangeInputs.length; i++) {\n\t\tvar tId = rangeInputs[i].id+\"_valuetext\";\n\t\tvar valueTextElement = document.getElementById(tId);\n\t\tif(typeof valueTextElement != \"undefined\" && valueTextElement != null) {\t\t\t\t\t\n\t\t\trangeInputs[i].addEventListener(\"change\", function() {    \t\t\n\t\t\t\tvalueTextElement = document.getElementById(this.id+\"_valuetext\");\n\t\t\t\tvalueTextElement.innerText = this.value;\n\t\t\t});\n\t\t};\n\t};\n\tvar selectInputs = document.getElementsByClassName(\"layermenu\");\n\tfor(var i=0; i<selectInputs.length; i++) {\n\t\tselectInputs[i].addEventListener(\"change\", function(e) {prefClick(e, this.id);});\n\t}\n\tselectInputs = document.getElementsByClassName(\"soundmenu\");\n\tfor(var i=0; i<selectInputs.length; i++) {\n\t\tselectInputs[i].addEventListener(\"change\", function(e) {sndprefClick(e, this.id);});\n\t}\n\tvar accordionButtons = document.getElementsByClassName(\"accordionbutton\");\n\tfor(var i=0; i<accordionButtons.length; i++) {\n\t\taccordionButtons[i].addEventListener(\"click\", function() {accordion();});\n\t}\n});\nfunction sndprefClick(evt, sndval) {\n\tvar btns=document.getElementsByClassName(\"prefButton\");\n\tvar usebtnid=sndval+\"prefbtn\";\n\tvar soundprefs = document.getElementsByClassName(\"soundprefs\");\n\tvar soundprefsid=usebtnid.replace(\"prefbtn\",\"_prefs\");\n\n\tvar prefTbls = document.getElementsByClassName(\"prefsTable\");\n\tfor(i=prefTbls.length-1; i>-1; i--) {prefTbls[i].classList.add(\"hiding\");} \n\t\n\tfor(i=0; i<btns.length; i++) { \n\t\tif(btns[i].id != usebtnid) { btns[i].classList.remove(\"prefbtnactive\");} else {btns[i].classList.add(\"prefbtnactive\");}\n\t}\n\n\tfor(i=0; i<soundprefs.length; i++) {\n\t\tif(soundprefs[i].id != soundprefsid) {soundprefs[i].classList.add(\"hiding\");} else { soundprefs[i].classList.remove(\"hiding\"); }\n\t}\n\n}\nfunction prefClick(evt, layerval) {\n\tvar selVal = document.getElementById(layerval).value;\t\n\tvar idPrefsTbl=layerval+\"_prefs\";\n\tvar idPrefSet=idPrefsTbl+\"_\"+selVal.toLowerCase().split(\" \").join(\"\");\n\tvar idPrefOpacity =layerval+\"_prefs_opacity\";\n\tvar prefTbls = document.getElementsByClassName(\"prefsTable\");\n\tvar btns=document.getElementsByClassName(\"prefButton\");\n\tvar usebtnid=layerval.replace(\"layer\", \"prefbtn\");\n\tfor(i=0; i<btns.length; i++) { \n\t\tif(btns[i].id != usebtnid) { btns[i].classList.remove(\"prefbtnactive\");} else {btns[i].classList.add(\"prefbtnactive\");}\n\t}\n\n\tvar soundprefs = document.getElementsByClassName(\"soundprefs\");\n\tfor(i=0; i<soundprefs.length; i++) {soundprefs[i].classList.add(\"hiding\");}\n\t\n\tfor(i=prefTbls.length-1; i>-1; i--) {\n\t\tif(prefTbls[i].id != idPrefsTbl) {prefTbls[i].classList.add(\"hiding\");} else { prefTbls[i].classList.remove(\"hiding\"); }\n\t}\n\tprefSets=document.getElementById(idPrefsTbl).getElementsByClassName(\"prefset\");\n\tfor(i=prefSets.length-1; i>-1; i--) {\n\t\tif(prefSets[i].id == idPrefSet || prefSets[i].id == idPrefOpacity)\n\t\t\t{ prefSets[i].classList.remove(\"hiding\");} else {prefSets[i].classList.add(\"hiding\");}\n\t}\n}\nfunction accordion() {\n\tvar btns=document.getElementsByClassName(\"accordionbutton\");\n\tfor(var i=0; i<btns.length; i++) {\n\t\tif(btns[i].classList.contains(\"btnopen\")) {\n\t\t\tbtns[i].innerHTML=\"▾\";\n\t\t\tbtns[i].classList.remove(\"btnopen\");\n\t\t} else {\n\t\t\tbtns[i].innerHTML=\"▴\";\n\t\t\tbtns[i].classList.add(\"btnopen\");\n\t\t}\n\t}\n\tvar rows=document.getElementsByClassName(\"accordionrow\");\n\tfor(var i=0; i<rows.length; i++) {\n\t\tif(rows[i].classList.contains(\"hiding\")) {\n\t\t\trows[i].classList.remove(\"hiding\")\n\t\t} else {\n\t\t\trows[i].classList.add(\"hiding\")\n\t\t}\n\t}\t\n};\n<\/script>",
    "controlPanel_layerMenu": "<select class=\"layermenu\" id=\"layer%{i}\" name=\"layer%{i}\"><option value=\"none\" selected>none<\/option><optgroup label=\"Lighting\"><option value=\"Environment Lighting\">Environment Lighting<\/option><\/optgroup><optgroup label=\"Ground\"><option value=\"Drifting Light Rays\">Drifting Light Rays<\/option><option value=\"Fog\">Fog<\/option><option value=\"Smoke\">Smoke<\/option><option value=\"Stalag 13\">Stalag 13<\/option><\/optgroup><optgroup label=\"Fruit\"><option value=\"Birds\">Birds<\/option><option value=\"Bubbles Overhead\">Bubbles Overhead<\/option><option value=\"Falling Leaves\">Falling Leaves<\/option><option value=\"Firefight\">Firefight<\/option><option value=\"Firefront\">Firefront<\/option><option value=\"Parade\">Parade<\/option><option value=\"Sandstorm\">Sandstorm<\/option><option value=\"Swarm\">Swarm<\/option><\/optgroup><optgroup label=\"Rain\"><option value=\"Lightning\">Lightning<\/option><option value=\"Rainbow\">Rainbow<\/option><option value=\"Rain\">Rain<\/option><option value=\"Rain Heavy\">Rain Heavy<\/option><option value=\"Rain Overhead\">Rain Overhead<\/option><option value=\"Thunderstorm\">Thunderstorm<\/option><\/optgroup><optgroup label=\"Snow\"><option value=\"Blizzard\">Blizzard<\/option><option value=\"Snow\">Snow<\/option><option value=\"Snow2\">Snow2<\/option><\/optgroup><optgroup label=\"Space\"><option value=\"Meteor1\">Meteor1<\/option><option value=\"Meteor2\">Meteor2<\/option><option value=\"Meteor3\">Meteor3<\/option><option value=\"Starfield1\">Starfield1<\/option><option value=\"Starfield2\">Starfield2<\/option><\/optgroup><optgroup label=\"Border\"><option value=\"Bloodied\">Bloodied<\/option><option value=\"Gradient Edge\">Gradient Edge<\/option><option value=\"Neon Border\">Neon Border<\/option><option value=\"Splat\">Splat<\/option><\/optgroup><\/select>",
    "controlPanel_layerPrefHTML": "\n\t\t<div id=\"layer3_prefs\" class=\" prefsTable\" >\n\t\t\t<div id=\"layer3_prefs_opacity\" class=\"hiding prefset layeropacity\">\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer3_prefs_layeropacity\" title=\"This applies to the layer as a whole. It does not provide fine-grained control for the layer content\">Layer Opacity\n\t\t\t\t\t(<span id=\"layer3_prefs_layeropacity_valuetext\">1<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.00<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.00\" max=\"1.00\" value=\"1\" step=\".01\" class=\"\" name=\"layer3_prefs_layeropacity\" id=\"layer3_prefs_layeropacity\">\n\t\t\t\t\t\t<div class=\"rangeval\">1.00<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t\n\t\t\t<div id=\"layer3_prefs_birds\" class=\"hiding prefset\">\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer3_prefs_birds_birdsize\">Bird Size \n\t\t\t\t\t\t(<span id=\"layer3_prefs_birds_birdsize_valuetext\">1.8<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">1.7<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"1.7\" max=\"4.1\" value=\"3.6\" step=\"0.1\" class=\"\" name=\"layer3_prefs_birds_birdsize\" id=\"layer3_prefs_birds_birdsize\">\n\t\t\t\t\t\t<div class=\"rangeval\">4.1<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer3_prefs_birds_nBoidsMultiplier\">Number of Birds Multiplier\n\t\t\t\t\t\t(<span id=\"layer3_prefs_birds_nBoidsMultiplier_valuetext\">1<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.2<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.2\" max=\"3\" value=\"1\" step=\"0.1\" class=\"\" name=\"layer3_prefs_birds_nBoidsMultiplier\" id=\"layer3_prefs_birds_nBoidsMultiplier\">\n\t\t\t\t\t\t<div class=\"rangeval\">3<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer3_prefs_birds_birdSpeed\">Bird Speed\n\t\t\t\t\t\t(<span id=\"layer3_prefs_birds_birdSpeed_valuetext\">0.003<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.001<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.001\" max=\"0.008\" value=\"0.003\" step=\"0.0001\" class=\"\" name=\"layer3_prefs_birds_birdSpeed\" id=\"layer3_prefs_birds_birdSpeed\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.008<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer3_prefs_birds_alignmentRange\">Alignment Range\n\t\t\t\t\t\t(<span id=\"layer3_prefs_birds_alignmentRange_valuetext\">0.003<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.001<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.001\" max=\"0.008\" value=\"0.003\" step=\"0.0001\" class=\"\" name=\"layer3_prefs_birds_alignmentRange\" id=\"layer3_prefs_birds_alignmentRange\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.008<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer3_prefs_birds_alignmentStrength\">Alignment Strength\n\t\t\t\t\t\t(<span id=\"layer3_prefs_birds_alignmentStrength_valuetext\">0.02<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.01<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.01\" max=\"0.08\" value=\"0.02\" step=\"0.001\" class=\"\" name=\"layer3_prefs_birds_alignmentStrength\" id=\"layer3_prefs_birds_alignmentStrength\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.08<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer3_prefs_birds_attractionRange\">Attraction Range\n\t\t\t\t\t\t(<span id=\"layer3_prefs_birds_attractionRange_valuetext\">0.015<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.001<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.001\" max=\"0.03\" value=\"0.015\" step=\"0.0001\" class=\"\" name=\"layer3_prefs_birds_attractionRange\" id=\"layer3_prefs_birds_attractionRange\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.03<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer3_prefs_birds_attractionStrength\">Attraction Strength\n\t\t\t\t\t\t(<span id=\"layer3_prefs_birds_attractionStrength_valuetext\">0.008<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.002<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.002\" max=\"0.012\" value=\"0.008\" step=\"0.001\" class=\"\" name=\"layer3_prefs_birds_attractionStrength\" id=\"layer3_prefs_birds_attractionStrength\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.012<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer3_prefs_birds_avoidanceRange\">Avoidance Range\n\t\t\t\t\t\t(<span id=\"layer3_prefs_birds_avoidanceRange_valuetext\">0.0018<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.001<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.001\" max=\"0.003\" value=\"0.0018\" step=\"0.0001\" class=\"\" name=\"layer3_prefs_birds_avoidanceRange\" id=\"layer3_prefs_birds_avoidanceRange\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.003<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer3_prefs_birds_avoidanceStrength\">Avoidance Strength\n\t\t\t\t\t\t(<span id=\"layer3_prefs_birds_avoidanceStrength_valuetext\">0.52<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.2<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.2\" max=\"0.8\" value=\"0.52\" step=\"0.001\" class=\"\" name=\"layer3_prefs_birds_avoidanceStrength\" id=\"layer3_prefs_birds_avoidanceStrength\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.8<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\n\t\t\t<div id=\"layer3_prefs_fallingleaves\" class=\"hiding prefset\">\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer3_prefs_fallingleaves_leafsize\">Leaf Size\n\t\t\t\t\t(<span id=\"layer3_prefs_fallingleaves_leafsize_valuetext\">20<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">8<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"8\" max=\"28\" value=\"20\" step=\"1\" class=\"\" name=\"layer3_prefs_fallingleaves_leafsize\" id=\"layer3_prefs_fallingleaves_leafsize\">\n\t\t\t\t\t\t<div class=\"rangeval\">28<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer3_prefs_fallingleaves_numLeaves\">Number of Leaves\n\t\t\t\t\t(<span id=\"layer3_prefs_fallingleaves_numLeaves_valuetext\">20<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">8<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"8\" max=\"40\" value=\"20\" step=\"1\" class=\"\" name=\"layer3_prefs_fallingleaves_numLeaves\" id=\"layer3_prefs_fallingleaves_numLeaves\">\n\t\t\t\t\t\t<div class=\"rangeval\">40<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer3_prefs_fallingleaves_magnitude\">Wind Cycle Magnitude\n\t\t\t\t\t(<span id=\"layer3_prefs_fallingleaves_magnitude_valuetext\">1.2<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.3<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.3\" max=\"1.8\" value=\"1.2\" step=\"0.1\" class=\"\" name=\"layer3_prefs_fallingleaves_magnitude\" id=\"layer3_prefs_fallingleaves_magnitude\">\n\t\t\t\t\t\t<div class=\"rangeval\">1.8<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer3_prefs_fallingleaves_maxSpeed\">Wind Max Speed\n\t\t\t\t\t(<span id=\"layer3_prefs_fallingleaves_maxSpeed_valuetext\">12<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">3<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"3\" max=\"24\" value=\"12\" step=\"1\" class=\"\" name=\"layer3_prefs_fallingleaves_maxSpeed\" id=\"layer3_prefs_fallingleaves_maxSpeed\">\n\t\t\t\t\t\t<div class=\"rangeval\">24<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer3_prefs_fallingleaves_duration\">Wind Max Duration\n\t\t\t\t\t(<span id=\"layer3_prefs_fallingleaves_duration_valuetext\">300<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">3<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"50\" max=\"600\" value=\"300\" step=\"10\" class=\"\" name=\"layer3_prefs_fallingleaves_duration\" id=\"layer3_prefs_fallingleaves_duration\">\n\t\t\t\t\t\t<div class=\"rangeval\">24<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\n\t\t\t<div id=\"layer3_prefs_bubblesoverhead\" class=\"hiding prefset\">\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer3_prefs_bubblesoverhead_bubblesize\">Bubble Size Multiplier\n\t\t\t\t\t(<span id=\"layer3_prefs_bubblesoverhead_bubblesize_valuetext\">0.4<\/span>)\n\t\t\t\t\t<\/label>\t\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">x0.1<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.1\" max=\"2.0\" value=\"0.4\" step=\".05\" class=\"\" name=\"layer3_prefs_bubblesoverhead_bubblesize\" id=\"layer3_prefs_bubblesoverhead_bubblesize\">\n\t\t\t\t\t\t<div class=\"rangeval\">x2.0<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer3_prefs_bubblesoverhead_bubblefactor\">Bubble Number Multiplier\n\t\t\t\t\t(<span id=\"layer3_prefs_bubblesoverhead_bubblefactor_valuetext\">0.6<\/span>)\n\t\t\t\t\t<\/label>\t\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">x0.1<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.1\" max=\"3.0\" value=\"0.6\" step=\".05\" class=\"\" name=\"layer3_prefs_bubblesoverhead_bubblefactor\" id=\"layer3_prefs_bubblesoverhead_bubblefactor\">\n\t\t\t\t\t\t<div class=\"rangeval\">x3.0<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer3_prefs_bubblesoverhead_bubbleAcceleration\">Bubble Rise Acceleration\n\t\t\t\t\t(<span id=\"layer3_prefs_bubblesoverhead_bubbleAcceleration_valuetext\">22<\/span>)\n\t\t\t\t\t<\/label>\t\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">1<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"1\" max=\"44\" value=\"22\" step=\"1\" class=\"\" name=\"layer3_prefs_bubblesoverhead_bubbleAcceleration\" id=\"layer3_prefs_bubblesoverhead_bubbleAcceleration\">\n\t\t\t\t\t\t<div class=\"rangeval\">44<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer3_prefs_bubblesoverhead_bubbleDepth\">Vertical Travel Distance\n\t\t\t\t\t(<span id=\"layer3_prefs_bubblesoverhead_bubbleDepth_valuetext\">1240<\/span>)\n\t\t\t\t\t<\/label>\t\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">300<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"300\" max=\"3000\" value=\"1240\" step=\"10\" class=\"\" name=\"layer3_prefs_bubblesoverhead_bubbleDepth\" id=\"layer3_prefs_bubblesoverhead_bubbleDepth\">\n\t\t\t\t\t\t<div class=\"rangeval\">3k<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer3_prefs_bubblesoverhead_bubbleMassBase\">Bubble Base Mass\n\t\t\t\t\t(<span id=\"layer3_prefs_bubblesoverhead_bubbleMassBase_valuetext\">0.8<\/span>)\n\t\t\t\t\t<\/label>\t\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.2<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.2\" max=\"1.8\" value=\"0.8\" step=\".05\" class=\"\" name=\"layer3_prefs_bubblesoverhead_bubbleMassBase\" id=\"layer3_prefs_bubblesoverhead_bubbleMassBase\">\n\t\t\t\t\t\t<div class=\"rangeval\">1.8<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer3_prefs_bubblesoverhead_bubbleMassVariation\">Buble Mass Variation\n\t\t\t\t\t(<span id=\"layer3_prefs_bubblesoverhead_bubbleMassVariation_valuetext\">0.2<\/span>)\n\t\t\t\t\t<\/label>\t\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0\" max=\"1\" value=\"0.2\" step=\".05\" class=\"\" name=\"layer3_prefs_bubblesoverhead_bubbleMassVariation\" id=\"layer3_prefs_bubblesoverhead_bubbleMassVariation\">\n\t\t\t\t\t\t<div class=\"rangeval\">1.0<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer3_prefs_bubblesoverhead_wobbleStrength\">Wobble Distance\n\t\t\t\t\t(<span id=\"layer3_prefs_bubblesoverhead_wobbleStrength_valuetext\">0.1<\/span>)\n\t\t\t\t\t<\/label>\t\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0\" max=\"1.5\" value=\"0.1\" step=\".01\" class=\"\" name=\"layer3_prefs_bubblesoverhead_wobbleStrength\" id=\"layer3_prefs_bubblesoverhead_wobbleStrength\">\n\t\t\t\t\t\t<div class=\"rangeval\">2.05<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer3_prefs_bubblesoverhead_wobbleOmegaFactor\">Wobble Rotational Velocity\n\t\t\t\t\t(<span id=\"layer3_prefs_bubblesoverhead_wobbleOmegaFactor_valuetext\">0.1<\/span>)\n\t\t\t\t\t<\/label>\t\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0\" max=\"1.5\" value=\"0.1\" step=\".01\" class=\"\" name=\"layer3_prefs_bubblesoverhead_wobbleOmegaFactor\" id=\"layer3_prefs_bubblesoverhead_wobbleOmegaFactor\">\n\t\t\t\t\t\t<div class=\"rangeval\">1.5<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer3_prefs_bubblesoverhead_fov\">Field of View\n\t\t\t\t\t(<span id=\"layer3_prefs_bubblesoverhead_fov_valuetext\">250<\/span>)\n\t\t\t\t\t<\/label>\t\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">50<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"50\" max=\"600\" value=\"250\" step=\"10\" class=\"\" name=\"layer3_prefs_bubblesoverhead_fov\" id=\"layer3_prefs_bubblesoverhead_fov\">\n\t\t\t\t\t\t<div class=\"rangeval\">600<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer3_prefs_bubblesoverhead_currentOmegaFactor\">Current Direction Change Rate\n\t\t\t\t\t(<span id=\"layer3_prefs_bubblesoverhead_currentOmegaFactor_valuetext\">8<\/span>)\n\t\t\t\t\t<\/label>\t\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.1<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.1\" max=\"20\" value=\"8\" step=\".1\" class=\"\" name=\"layer3_prefs_bubblesoverhead_currentOmegaFactor\" id=\"layer3_prefs_bubblesoverhead_currentOmegaFactor\">\n\t\t\t\t\t\t<div class=\"rangeval\">20<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer3_prefs_bubblesoverhead_backgroundGradientOpacity\">Background Gradient Opacity\n\t\t\t\t\t(<span id=\"layer3_prefs_bubblesoverhead_backgroundGradientOpacity_valuetext\">0.3<\/span>)\n\t\t\t\t\t<\/label>\t\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0\" max=\"1\" value=\"0.3\" step=\".05\" class=\"\" name=\"layer3_prefs_bubblesoverhead_backgroundGradientOpacity\" id=\"layer3_prefs_bubblesoverhead_backgroundGradientOpacity\">\n\t\t\t\t\t\t<div class=\"rangeval\">1<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer3_prefs_bubblesoverhead_bubbleCanvasOpacity\">Bubble Opacity\n\t\t\t\t\t(<span id=\"layer3_prefs_bubblesoverhead_bubbleCanvasOpacity_valuetext\">1<\/span>)\n\t\t\t\t\t<\/label>\t\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.1<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.1\" max=\"1\" value=\"1\" step=\".05\" class=\"\" name=\"layer3_prefs_bubblesoverhead_bubbleCanvasOpacity\" id=\"layer3_prefs_bubblesoverhead_bubbleCanvasOpacity\">\n\t\t\t\t\t\t<div class=\"rangeval\">1.0<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t\n\t\t\t<div id=\"layer3_prefs_swarm\" class=\"hiding prefset\">\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer3_prefs_swarm_imagesize\">Bug Size\n\t\t\t\t\t(<span id=\"layer3_prefs_swarm_imagesize_valuetext\">1.55<\/span>)\n\t\t\t\t\t<\/label>\t\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.6<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.6\" max=\"2.05\" value=\"1.55\" step=\".05\" class=\"\" name=\"layer3_prefs_swarm_imagesize\" id=\"layer3_prefs_swarm_imagesize\">\n\t\t\t\t\t\t<div class=\"rangeval\">2.05<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer3_prefs_swarm_numfactor\">Bug Count Multiplier\n\t\t\t\t\t(<span id=\"layer3_prefs_swarm_numfactor_valuetext\">1<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t<div class=\"rangeval\">0.1<\/div>\n\t\t\t\t\t<input type=\"range\" min=\"0.1\" max=\"3.0\" value=\"1\" step=\".1\" class=\"\" name=\"layer3_prefs_swarm_numfactor\" id=\"layer3_prefs_swarm_numfactor\">\n\t\t\t\t\t<div class=\"rangeval\">3.0<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer3_prefs_swarm_birdSpeed\">Bug Speed\n\t\t\t\t\t\t(<span id=\"layer3_prefs_swarm_birdSpeed_valuetext\">0.003<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.001<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.001\" max=\"0.008\" value=\"0.003\" step=\"0.0001\" class=\"\" name=\"layer3_prefs_swarm_birdSpeed\" id=\"layer3_prefs_swarm_birdSpeed\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.008<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer3_prefs_swarm_alignmentRange\">Alignment Range\n\t\t\t\t\t\t(<span id=\"layer3_prefs_swarm_alignmentRange_valuetext\">0.003<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.001<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.001\" max=\"0.008\" value=\"0.003\" step=\"0.0001\" class=\"\" name=\"layer3_prefs_swarm_alignmentRange\" id=\"layer3_prefs_swarm_alignmentRange\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.008<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer3_prefs_swarm_alignmentStrength\">Alignment Strength\n\t\t\t\t\t\t(<span id=\"layer3_prefs_swarm_alignmentStrength_valuetext\">0.02<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.01<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.01\" max=\"0.08\" value=\"0.02\" step=\"0.001\" class=\"\" name=\"layer3_prefs_swarm_alignmentStrength\" id=\"layer3_prefs_swarm_alignmentStrength\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.08<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer3_prefs_swarm_attractionRange\">Attraction Range\n\t\t\t\t\t\t(<span id=\"layer3_prefs_swarm_attractionRange_valuetext\">0.015<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.001<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.001\" max=\"0.03\" value=\"0.015\" step=\"0.0001\" class=\"\" name=\"layer3_prefs_swarm_attractionRange\" id=\"layer3_prefs_swarm_attractionRange\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.03<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer3_prefs_swarm_attractionStrength\">Attraction Strength\n\t\t\t\t\t\t(<span id=\"layer3_prefs_swarm_attractionStrength_valuetext\">0.008<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.002<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.002\" max=\"0.012\" value=\"0.008\" step=\"0.001\" class=\"\" name=\"layer3_prefs_swarm_attractionStrength\" id=\"layer3_prefs_swarm_attractionStrength\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.012<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer3_prefs_swarm_avoidanceRange\">Avoidance Range\n\t\t\t\t\t\t(<span id=\"layer3_prefs_swarm_avoidanceRange_valuetext\">0.0018<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.001<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.001\" max=\"0.003\" value=\"0.0018\" step=\"0.0001\" class=\"\" name=\"layer3_prefs_swarm_avoidanceRange\" id=\"layer3_prefs_swarm_avoidanceRange\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.003<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer3_prefs_swarm_avoidanceStrength\">Avoidance Strength\n\t\t\t\t\t\t(<span id=\"layer3_prefs_swarm_avoidanceStrength_valuetext\">0.52<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.2<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.2\" max=\"0.8\" value=\"0.52\" step=\"0.001\" class=\"\" name=\"layer3_prefs_swarm_avoidanceStrength\" id=\"layer3_prefs_swarm_avoidanceStrength\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.8<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t<div id=\"layer3_prefs_environmentlighting\" class=\"hiding prefset\">\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t\n\t<div class=\"radiowrapper\">\n\t<label for=\"layer3_prefs_environmentlighting_none\" class=\"radiolabel\">none<\/label>\n\t<input type=\"radio\" name=\"layer3_prefs_environmentlighting_lightvalue\" \n\tid=\"layer3_prefs_environmentlighting_none\" value=\"rgba(0, 0, 0, 0)\" checked>\n\t<\/div>\n\t<div class=\"radiowrapper\">\n\t<label for=\"layer3_prefs_environmentlighting_Noon\" class=\"radiolabel\">Noon<\/label>\n\t<input type=\"radio\" name=\"layer3_prefs_environmentlighting_lightvalue\" \n\tid=\"layer3_prefs_environmentlighting_Noon\" value=\"rgba(255, 255, 251, .2)\" >\n\t<\/div>\n\t<div class=\"radiowrapper\">\n\t<label for=\"layer3_prefs_environmentlighting_Dawn\" class=\"radiolabel\">Dawn<\/label>\n\t<input type=\"radio\" name=\"layer3_prefs_environmentlighting_lightvalue\" \n\tid=\"layer3_prefs_environmentlighting_Dawn\" value=\"rgba(255, 128, 0, 0.1)\" >\n\t<\/div>\n\t<div class=\"radiowrapper\">\n\t<label for=\"layer3_prefs_environmentlighting_Dusk\" class=\"radiolabel\">Dusk<\/label>\n\t<input type=\"radio\" name=\"layer3_prefs_environmentlighting_lightvalue\" \n\tid=\"layer3_prefs_environmentlighting_Dusk\" value=\"rgba(255, 64, 0, 0.1)\" >\n\t<\/div>\n\t<div class=\"radiowrapper\">\n\t<label for=\"layer3_prefs_environmentlighting_Desert\" class=\"radiolabel\">Desert<\/label>\n\t<input type=\"radio\" name=\"layer3_prefs_environmentlighting_lightvalue\" \n\tid=\"layer3_prefs_environmentlighting_Desert\" value=\"rgba(255, 200, 0, 0.2)\" >\n\t<\/div>\n\t<div class=\"radiowrapper\">\n\t<label for=\"layer3_prefs_environmentlighting_Moonlight\" class=\"radiolabel\">Moonlight<\/label>\n\t<input type=\"radio\" name=\"layer3_prefs_environmentlighting_lightvalue\" \n\tid=\"layer3_prefs_environmentlighting_Moonlight\" value=\"rgba(0, 0, 200, 0.2)\" >\n\t<\/div>\n\t<div class=\"radiowrapper\">\n\t<label for=\"layer3_prefs_environmentlighting_Starlight\" class=\"radiolabel\">Starlight<\/label>\n\t<input type=\"radio\" name=\"layer3_prefs_environmentlighting_lightvalue\" \n\tid=\"layer3_prefs_environmentlighting_Starlight\" value=\"rgba(0, 0, 150, 0.3)\" >\n\t<\/div>\n\t<div class=\"radiowrapper\">\n\t<label for=\"layer3_prefs_environmentlighting_Twilight\" class=\"radiolabel\">Twilight<\/label>\n\t<input type=\"radio\" name=\"layer3_prefs_environmentlighting_lightvalue\" \n\tid=\"layer3_prefs_environmentlighting_Twilight\" value=\"rgba(0, 0, 100, 0.4)\" >\n\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t\n\t\t\t<div id=\"layer3_prefs_gradientedge\" class=\"hiding prefset\">\n\t\t\t\t<h4>Shape<\/h4>\n\t\t\t\t<div class=\"optioncontrol\" style=\"display:table;\">\n\t\t\t\t\t<div class=\"radiowrapper tablerow\">\n\t\t\t\t\t\t<label for=\"layer3_prefs_gradientedge_geGradientTypeRect\" class=\"tablecell\">Rectangular<\/label>\n\t\t\t\t\t\t<input type=\"radio\" class=\"tablecell\"\n\t\t\t\t\t\tname=\"layer3_prefs_gradientedge_geGradientType\" \n\t\t\t\t\t\tid=\"layer3_prefs_gradientedge_geGradientType\" value=\"1\" checked>\n\t\t\t\t\t\t<input type=\"radio\" class=\"tablecell\"\n\t\t\t\t\t\tname=\"layer3_prefs_gradientedge_geGradientType\" \n\t\t\t\t\t\tid=\"layer3_prefs_gradientedge_geGradientTypeRad\" value=\"0\" >\n\t\t\t\t\t\t<label for=\"layer3_prefs_gradientedge_geGradientType\" class=\"tablecell\">Radial<\/label>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer3_prefs_gradientedge_geWidth\">Width\n\t\t\t\t\t(<span id=\"layer3_prefs_gradientedge_geWidth_valuetext\">18<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t<div class=\"rangeval\">0%<\/div>\n\t\t\t\t\t<input type=\"range\" min=\"0\" max=\"49\" value=\"18\" step=\"1\" class=\"\" name=\"layer3_prefs_gradientedge_geWidth\" id=\"layer3_prefs_gradientedge_geWidth\">\n\t\t\t\t\t<div class=\"rangeval\">49%<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<h4>Colour<\/h4>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<input type=\"color\" class=\"\" value=\"#24243e\" name=\"layer3_prefs_gradientedge_geColorOutside\" id=\"layer3_prefs_gradientedge_geColorOutside\">\n\t\t\t\t\t<label for=\"layer3_prefs_gradientedge_geColorOutside\">Outside<\/label>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<input type=\"color\" class=\"\" value=\"#302b63\" name=\"layer3_prefs_gradientedge_geColorInside\" id=\"layer3_prefs_gradientedge_geColorInside\">\n\t\t\t\t\t<label for=\"layer3_prefs_gradientedge_geColorInside\">Inside<\/label>\n\t\t\t\t<\/div>\n\t\t\t\t<h4>Opacity<\/h4>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer3_prefs_gradientedge_geOpacityEdge\">Outside\n\t\t\t\t\t(<span id=\"layer3_prefs_gradientedge_geOpacityEdge_valuetext\">45<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t<div class=\"rangeval\">0%<\/div>\n\t\t\t\t\t<input type=\"range\" min=\"0\" max=\"100\" value=\"45\" step=\"1\" class=\"\" name=\"layer3_prefs_gradientedge_geOpacityEdge\" id=\"layer3_prefs_gradientedge_geOpacityEdge\">\n\t\t\t\t\t<div class=\"rangeval\">100%<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer3_prefs_gradientedge_geOpacityCenter\">Inside\n\t\t\t\t\t(<span id=\"layer3_prefs_gradientedge_geOpacityCenter_valuetext\">0<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t<div class=\"rangeval\">0%<\/div>\n\t\t\t\t\t<input type=\"range\" min=\"0\" max=\"100\" value=\"0\" step=\"1\" class=\"\" name=\"layer3_prefs_gradientedge_geOpacityCenter\" id=\"layer3_prefs_gradientedge_geOpacityCenter\">\n\t\t\t\t\t<div class=\"rangeval\">100%<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t<div id=\"layer3_prefs_splat\" class=\"hiding prefset\">\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer3_prefs_splat_duration\">Duration\n\t\t\t\t\t(<span id=\"layer3_prefs_splat_duration_valuetext\">15<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t<div class=\"rangeval\">6s<\/div>\n\t\t\t\t\t<input type=\"range\" min=\"6\" max=\"20\" value=\"15\" step=\"0.5\" class=\"\" name=\"layer3_prefs_splat_duration\" id=\"layer3_prefs_splat_duration\">\n\t\t\t\t\t<div class=\"rangeval\">20s<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol table\">\n\t\t\t\t\t<div class=\"optioncontrol tablerow\">\n\t\t\t\t\t\t<label class=\"selectlabel tablecell\" for=\"layer3_prefs_splat_ontoken\">Victim<\/label>\n\t\t\t\t\t\t<select class=\"tokenSelect tablecell\" id=\"layer3_prefs_splat_ontoken\" name=\"layer3_prefs_splat_ontoken\">\n\t\t\t\t\t\t<option value=\"none\" selected>none<\/option><option value=\"Furby\">Furby<\/option><\/select>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"optioncontrol tablerow\">\n\t\t\t\t\t\t<label class=\"checklabel tablecell\" for=\"layer3_prefs_splat_owneronly\">Show Owner Only<\/label>\n\t\t\t\t\t\t<input type=\"hidden\" name=\"layer3_prefs_splat_owneronly\" value=\"0\">\n\t\t\t\t\t\t<input type=\"checkbox\" name=\"layer3_prefs_splat_owneronly\" id=\"layer3_prefs_splat_owneronly\" value=1 checked>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"optioncontrol tablerow\">\n\t\t\t\t\t\t<label class=\"checklabel tablecell\" for=\"layer3_prefs_splat_runaandfade\">Fade away<\/label>\n\t\t\t\t\t\t<input type=\"hidden\" name=\"layer3_prefs_splat_runaandfade\" value=\"0\">\n\t\t\t\t\t\t<input type=\"checkbox\" name=\"layer3_prefs_splat_runaandfade\" id=\"layer3_prefs_splat_runaandfade\" value=1 checked>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t\n\t\t\t<div id=\"layer3_prefs_bloodied\" class=\"hiding prefset\">\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer3_prefs_bloodied_borderwidth\">Border Width\n\t\t\t\t\t(<span id=\"layer3_prefs_bloodied_borderwidth_valuetext\">12<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t<div class=\"rangeval\">6vw<\/div>\n\t\t\t\t\t<input type=\"range\" min=\"6\" max=\"30\" value=\"12\" step=\"0.5\" class=\"\" name=\"layer3_prefs_bloodied_borderwidth\" id=\"layer3_prefs_bloodied_borderwidth\">\n\t\t\t\t\t<div class=\"rangeval\">30vw<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer3_prefs_bloodied_bloodfilter\">Red Filter Opacty\n\t\t\t\t\t(<span id=\"layer3_prefs_bloodied_bloodfilter_valuetext\">0.5<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t<div class=\"rangeval\">0%<\/div>\n\t\t\t\t\t<input type=\"range\" min=\"0\" max=\"1\" value=\"0.5\" step=\"0.05\" class=\"\" name=\"layer3_prefs_bloodied_bloodfilter\" id=\"layer3_prefs_bloodied_bloodfilter\">\n\t\t\t\t\t<div class=\"rangeval\">100%<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t<\/div>\n\t\t<div id=\"layer2_prefs\" class=\" prefsTable\" >\n\t\t\t<div id=\"layer2_prefs_opacity\" class=\"hiding prefset layeropacity\">\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer2_prefs_layeropacity\" title=\"This applies to the layer as a whole. It does not provide fine-grained control for the layer content\">Layer Opacity\n\t\t\t\t\t(<span id=\"layer2_prefs_layeropacity_valuetext\">1<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.00<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.00\" max=\"1.00\" value=\"1\" step=\".01\" class=\"\" name=\"layer2_prefs_layeropacity\" id=\"layer2_prefs_layeropacity\">\n\t\t\t\t\t\t<div class=\"rangeval\">1.00<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t\n\t\t\t<div id=\"layer2_prefs_birds\" class=\"hiding prefset\">\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer2_prefs_birds_birdsize\">Bird Size \n\t\t\t\t\t\t(<span id=\"layer2_prefs_birds_birdsize_valuetext\">1.8<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">1.7<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"1.7\" max=\"4.1\" value=\"3.6\" step=\"0.1\" class=\"\" name=\"layer2_prefs_birds_birdsize\" id=\"layer2_prefs_birds_birdsize\">\n\t\t\t\t\t\t<div class=\"rangeval\">4.1<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer2_prefs_birds_nBoidsMultiplier\">Number of Birds Multiplier\n\t\t\t\t\t\t(<span id=\"layer2_prefs_birds_nBoidsMultiplier_valuetext\">1<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.2<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.2\" max=\"3\" value=\"1\" step=\"0.1\" class=\"\" name=\"layer2_prefs_birds_nBoidsMultiplier\" id=\"layer2_prefs_birds_nBoidsMultiplier\">\n\t\t\t\t\t\t<div class=\"rangeval\">3<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer2_prefs_birds_birdSpeed\">Bird Speed\n\t\t\t\t\t\t(<span id=\"layer2_prefs_birds_birdSpeed_valuetext\">0.003<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.001<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.001\" max=\"0.008\" value=\"0.003\" step=\"0.0001\" class=\"\" name=\"layer2_prefs_birds_birdSpeed\" id=\"layer2_prefs_birds_birdSpeed\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.008<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer2_prefs_birds_alignmentRange\">Alignment Range\n\t\t\t\t\t\t(<span id=\"layer2_prefs_birds_alignmentRange_valuetext\">0.003<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.001<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.001\" max=\"0.008\" value=\"0.003\" step=\"0.0001\" class=\"\" name=\"layer2_prefs_birds_alignmentRange\" id=\"layer2_prefs_birds_alignmentRange\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.008<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer2_prefs_birds_alignmentStrength\">Alignment Strength\n\t\t\t\t\t\t(<span id=\"layer2_prefs_birds_alignmentStrength_valuetext\">0.02<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.01<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.01\" max=\"0.08\" value=\"0.02\" step=\"0.001\" class=\"\" name=\"layer2_prefs_birds_alignmentStrength\" id=\"layer2_prefs_birds_alignmentStrength\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.08<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer2_prefs_birds_attractionRange\">Attraction Range\n\t\t\t\t\t\t(<span id=\"layer2_prefs_birds_attractionRange_valuetext\">0.015<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.001<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.001\" max=\"0.03\" value=\"0.015\" step=\"0.0001\" class=\"\" name=\"layer2_prefs_birds_attractionRange\" id=\"layer2_prefs_birds_attractionRange\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.03<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer2_prefs_birds_attractionStrength\">Attraction Strength\n\t\t\t\t\t\t(<span id=\"layer2_prefs_birds_attractionStrength_valuetext\">0.008<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.002<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.002\" max=\"0.012\" value=\"0.008\" step=\"0.001\" class=\"\" name=\"layer2_prefs_birds_attractionStrength\" id=\"layer2_prefs_birds_attractionStrength\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.012<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer2_prefs_birds_avoidanceRange\">Avoidance Range\n\t\t\t\t\t\t(<span id=\"layer2_prefs_birds_avoidanceRange_valuetext\">0.0018<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.001<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.001\" max=\"0.003\" value=\"0.0018\" step=\"0.0001\" class=\"\" name=\"layer2_prefs_birds_avoidanceRange\" id=\"layer2_prefs_birds_avoidanceRange\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.003<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer2_prefs_birds_avoidanceStrength\">Avoidance Strength\n\t\t\t\t\t\t(<span id=\"layer2_prefs_birds_avoidanceStrength_valuetext\">0.52<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.2<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.2\" max=\"0.8\" value=\"0.52\" step=\"0.001\" class=\"\" name=\"layer2_prefs_birds_avoidanceStrength\" id=\"layer2_prefs_birds_avoidanceStrength\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.8<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\n\t\t\t<div id=\"layer2_prefs_fallingleaves\" class=\"hiding prefset\">\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer2_prefs_fallingleaves_leafsize\">Leaf Size\n\t\t\t\t\t(<span id=\"layer2_prefs_fallingleaves_leafsize_valuetext\">20<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">8<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"8\" max=\"28\" value=\"20\" step=\"1\" class=\"\" name=\"layer2_prefs_fallingleaves_leafsize\" id=\"layer2_prefs_fallingleaves_leafsize\">\n\t\t\t\t\t\t<div class=\"rangeval\">28<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer2_prefs_fallingleaves_numLeaves\">Number of Leaves\n\t\t\t\t\t(<span id=\"layer2_prefs_fallingleaves_numLeaves_valuetext\">20<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">8<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"8\" max=\"40\" value=\"20\" step=\"1\" class=\"\" name=\"layer2_prefs_fallingleaves_numLeaves\" id=\"layer2_prefs_fallingleaves_numLeaves\">\n\t\t\t\t\t\t<div class=\"rangeval\">40<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer2_prefs_fallingleaves_magnitude\">Wind Cycle Magnitude\n\t\t\t\t\t(<span id=\"layer2_prefs_fallingleaves_magnitude_valuetext\">1.2<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.3<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.3\" max=\"1.8\" value=\"1.2\" step=\"0.1\" class=\"\" name=\"layer2_prefs_fallingleaves_magnitude\" id=\"layer2_prefs_fallingleaves_magnitude\">\n\t\t\t\t\t\t<div class=\"rangeval\">1.8<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer2_prefs_fallingleaves_maxSpeed\">Wind Max Speed\n\t\t\t\t\t(<span id=\"layer2_prefs_fallingleaves_maxSpeed_valuetext\">12<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">3<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"3\" max=\"24\" value=\"12\" step=\"1\" class=\"\" name=\"layer2_prefs_fallingleaves_maxSpeed\" id=\"layer2_prefs_fallingleaves_maxSpeed\">\n\t\t\t\t\t\t<div class=\"rangeval\">24<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer2_prefs_fallingleaves_duration\">Wind Max Duration\n\t\t\t\t\t(<span id=\"layer2_prefs_fallingleaves_duration_valuetext\">300<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">3<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"50\" max=\"600\" value=\"300\" step=\"10\" class=\"\" name=\"layer2_prefs_fallingleaves_duration\" id=\"layer2_prefs_fallingleaves_duration\">\n\t\t\t\t\t\t<div class=\"rangeval\">24<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\n\t\t\t<div id=\"layer2_prefs_bubblesoverhead\" class=\"hiding prefset\">\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer2_prefs_bubblesoverhead_bubblesize\">Bubble Size Multiplier\n\t\t\t\t\t(<span id=\"layer2_prefs_bubblesoverhead_bubblesize_valuetext\">0.4<\/span>)\n\t\t\t\t\t<\/label>\t\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">x0.1<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.1\" max=\"2.0\" value=\"0.4\" step=\".05\" class=\"\" name=\"layer2_prefs_bubblesoverhead_bubblesize\" id=\"layer2_prefs_bubblesoverhead_bubblesize\">\n\t\t\t\t\t\t<div class=\"rangeval\">x2.0<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer2_prefs_bubblesoverhead_bubblefactor\">Bubble Number Multiplier\n\t\t\t\t\t(<span id=\"layer2_prefs_bubblesoverhead_bubblefactor_valuetext\">0.6<\/span>)\n\t\t\t\t\t<\/label>\t\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">x0.1<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.1\" max=\"3.0\" value=\"0.6\" step=\".05\" class=\"\" name=\"layer2_prefs_bubblesoverhead_bubblefactor\" id=\"layer2_prefs_bubblesoverhead_bubblefactor\">\n\t\t\t\t\t\t<div class=\"rangeval\">x3.0<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer2_prefs_bubblesoverhead_bubbleAcceleration\">Bubble Rise Acceleration\n\t\t\t\t\t(<span id=\"layer2_prefs_bubblesoverhead_bubbleAcceleration_valuetext\">22<\/span>)\n\t\t\t\t\t<\/label>\t\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">1<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"1\" max=\"44\" value=\"22\" step=\"1\" class=\"\" name=\"layer2_prefs_bubblesoverhead_bubbleAcceleration\" id=\"layer2_prefs_bubblesoverhead_bubbleAcceleration\">\n\t\t\t\t\t\t<div class=\"rangeval\">44<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer2_prefs_bubblesoverhead_bubbleDepth\">Vertical Travel Distance\n\t\t\t\t\t(<span id=\"layer2_prefs_bubblesoverhead_bubbleDepth_valuetext\">1240<\/span>)\n\t\t\t\t\t<\/label>\t\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">300<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"300\" max=\"3000\" value=\"1240\" step=\"10\" class=\"\" name=\"layer2_prefs_bubblesoverhead_bubbleDepth\" id=\"layer2_prefs_bubblesoverhead_bubbleDepth\">\n\t\t\t\t\t\t<div class=\"rangeval\">3k<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer2_prefs_bubblesoverhead_bubbleMassBase\">Bubble Base Mass\n\t\t\t\t\t(<span id=\"layer2_prefs_bubblesoverhead_bubbleMassBase_valuetext\">0.8<\/span>)\n\t\t\t\t\t<\/label>\t\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.2<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.2\" max=\"1.8\" value=\"0.8\" step=\".05\" class=\"\" name=\"layer2_prefs_bubblesoverhead_bubbleMassBase\" id=\"layer2_prefs_bubblesoverhead_bubbleMassBase\">\n\t\t\t\t\t\t<div class=\"rangeval\">1.8<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer2_prefs_bubblesoverhead_bubbleMassVariation\">Buble Mass Variation\n\t\t\t\t\t(<span id=\"layer2_prefs_bubblesoverhead_bubbleMassVariation_valuetext\">0.2<\/span>)\n\t\t\t\t\t<\/label>\t\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0\" max=\"1\" value=\"0.2\" step=\".05\" class=\"\" name=\"layer2_prefs_bubblesoverhead_bubbleMassVariation\" id=\"layer2_prefs_bubblesoverhead_bubbleMassVariation\">\n\t\t\t\t\t\t<div class=\"rangeval\">1.0<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer2_prefs_bubblesoverhead_wobbleStrength\">Wobble Distance\n\t\t\t\t\t(<span id=\"layer2_prefs_bubblesoverhead_wobbleStrength_valuetext\">0.1<\/span>)\n\t\t\t\t\t<\/label>\t\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0\" max=\"1.5\" value=\"0.1\" step=\".01\" class=\"\" name=\"layer2_prefs_bubblesoverhead_wobbleStrength\" id=\"layer2_prefs_bubblesoverhead_wobbleStrength\">\n\t\t\t\t\t\t<div class=\"rangeval\">2.05<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer2_prefs_bubblesoverhead_wobbleOmegaFactor\">Wobble Rotational Velocity\n\t\t\t\t\t(<span id=\"layer2_prefs_bubblesoverhead_wobbleOmegaFactor_valuetext\">0.1<\/span>)\n\t\t\t\t\t<\/label>\t\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0\" max=\"1.5\" value=\"0.1\" step=\".01\" class=\"\" name=\"layer2_prefs_bubblesoverhead_wobbleOmegaFactor\" id=\"layer2_prefs_bubblesoverhead_wobbleOmegaFactor\">\n\t\t\t\t\t\t<div class=\"rangeval\">1.5<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer2_prefs_bubblesoverhead_fov\">Field of View\n\t\t\t\t\t(<span id=\"layer2_prefs_bubblesoverhead_fov_valuetext\">250<\/span>)\n\t\t\t\t\t<\/label>\t\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">50<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"50\" max=\"600\" value=\"250\" step=\"10\" class=\"\" name=\"layer2_prefs_bubblesoverhead_fov\" id=\"layer2_prefs_bubblesoverhead_fov\">\n\t\t\t\t\t\t<div class=\"rangeval\">600<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer2_prefs_bubblesoverhead_currentOmegaFactor\">Current Direction Change Rate\n\t\t\t\t\t(<span id=\"layer2_prefs_bubblesoverhead_currentOmegaFactor_valuetext\">8<\/span>)\n\t\t\t\t\t<\/label>\t\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.1<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.1\" max=\"20\" value=\"8\" step=\".1\" class=\"\" name=\"layer2_prefs_bubblesoverhead_currentOmegaFactor\" id=\"layer2_prefs_bubblesoverhead_currentOmegaFactor\">\n\t\t\t\t\t\t<div class=\"rangeval\">20<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer2_prefs_bubblesoverhead_backgroundGradientOpacity\">Background Gradient Opacity\n\t\t\t\t\t(<span id=\"layer2_prefs_bubblesoverhead_backgroundGradientOpacity_valuetext\">0.3<\/span>)\n\t\t\t\t\t<\/label>\t\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0\" max=\"1\" value=\"0.3\" step=\".05\" class=\"\" name=\"layer2_prefs_bubblesoverhead_backgroundGradientOpacity\" id=\"layer2_prefs_bubblesoverhead_backgroundGradientOpacity\">\n\t\t\t\t\t\t<div class=\"rangeval\">1<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer2_prefs_bubblesoverhead_bubbleCanvasOpacity\">Bubble Opacity\n\t\t\t\t\t(<span id=\"layer2_prefs_bubblesoverhead_bubbleCanvasOpacity_valuetext\">1<\/span>)\n\t\t\t\t\t<\/label>\t\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.1<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.1\" max=\"1\" value=\"1\" step=\".05\" class=\"\" name=\"layer2_prefs_bubblesoverhead_bubbleCanvasOpacity\" id=\"layer2_prefs_bubblesoverhead_bubbleCanvasOpacity\">\n\t\t\t\t\t\t<div class=\"rangeval\">1.0<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t\n\t\t\t<div id=\"layer2_prefs_swarm\" class=\"hiding prefset\">\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer2_prefs_swarm_imagesize\">Bug Size\n\t\t\t\t\t(<span id=\"layer2_prefs_swarm_imagesize_valuetext\">1.55<\/span>)\n\t\t\t\t\t<\/label>\t\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.6<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.6\" max=\"2.05\" value=\"1.55\" step=\".05\" class=\"\" name=\"layer2_prefs_swarm_imagesize\" id=\"layer2_prefs_swarm_imagesize\">\n\t\t\t\t\t\t<div class=\"rangeval\">2.05<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer2_prefs_swarm_numfactor\">Bug Count Multiplier\n\t\t\t\t\t(<span id=\"layer2_prefs_swarm_numfactor_valuetext\">1<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t<div class=\"rangeval\">0.1<\/div>\n\t\t\t\t\t<input type=\"range\" min=\"0.1\" max=\"3.0\" value=\"1\" step=\".1\" class=\"\" name=\"layer2_prefs_swarm_numfactor\" id=\"layer2_prefs_swarm_numfactor\">\n\t\t\t\t\t<div class=\"rangeval\">3.0<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer2_prefs_swarm_birdSpeed\">Bug Speed\n\t\t\t\t\t\t(<span id=\"layer2_prefs_swarm_birdSpeed_valuetext\">0.003<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.001<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.001\" max=\"0.008\" value=\"0.003\" step=\"0.0001\" class=\"\" name=\"layer2_prefs_swarm_birdSpeed\" id=\"layer2_prefs_swarm_birdSpeed\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.008<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer2_prefs_swarm_alignmentRange\">Alignment Range\n\t\t\t\t\t\t(<span id=\"layer2_prefs_swarm_alignmentRange_valuetext\">0.003<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.001<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.001\" max=\"0.008\" value=\"0.003\" step=\"0.0001\" class=\"\" name=\"layer2_prefs_swarm_alignmentRange\" id=\"layer2_prefs_swarm_alignmentRange\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.008<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer2_prefs_swarm_alignmentStrength\">Alignment Strength\n\t\t\t\t\t\t(<span id=\"layer2_prefs_swarm_alignmentStrength_valuetext\">0.02<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.01<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.01\" max=\"0.08\" value=\"0.02\" step=\"0.001\" class=\"\" name=\"layer2_prefs_swarm_alignmentStrength\" id=\"layer2_prefs_swarm_alignmentStrength\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.08<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer2_prefs_swarm_attractionRange\">Attraction Range\n\t\t\t\t\t\t(<span id=\"layer2_prefs_swarm_attractionRange_valuetext\">0.015<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.001<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.001\" max=\"0.03\" value=\"0.015\" step=\"0.0001\" class=\"\" name=\"layer2_prefs_swarm_attractionRange\" id=\"layer2_prefs_swarm_attractionRange\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.03<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer2_prefs_swarm_attractionStrength\">Attraction Strength\n\t\t\t\t\t\t(<span id=\"layer2_prefs_swarm_attractionStrength_valuetext\">0.008<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.002<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.002\" max=\"0.012\" value=\"0.008\" step=\"0.001\" class=\"\" name=\"layer2_prefs_swarm_attractionStrength\" id=\"layer2_prefs_swarm_attractionStrength\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.012<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer2_prefs_swarm_avoidanceRange\">Avoidance Range\n\t\t\t\t\t\t(<span id=\"layer2_prefs_swarm_avoidanceRange_valuetext\">0.0018<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.001<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.001\" max=\"0.003\" value=\"0.0018\" step=\"0.0001\" class=\"\" name=\"layer2_prefs_swarm_avoidanceRange\" id=\"layer2_prefs_swarm_avoidanceRange\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.003<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer2_prefs_swarm_avoidanceStrength\">Avoidance Strength\n\t\t\t\t\t\t(<span id=\"layer2_prefs_swarm_avoidanceStrength_valuetext\">0.52<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.2<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.2\" max=\"0.8\" value=\"0.52\" step=\"0.001\" class=\"\" name=\"layer2_prefs_swarm_avoidanceStrength\" id=\"layer2_prefs_swarm_avoidanceStrength\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.8<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t<div id=\"layer2_prefs_environmentlighting\" class=\"hiding prefset\">\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t\n\t<div class=\"radiowrapper\">\n\t<label for=\"layer2_prefs_environmentlighting_none\" class=\"radiolabel\">none<\/label>\n\t<input type=\"radio\" name=\"layer2_prefs_environmentlighting_lightvalue\" \n\tid=\"layer2_prefs_environmentlighting_none\" value=\"rgba(0, 0, 0, 0)\" checked>\n\t<\/div>\n\t<div class=\"radiowrapper\">\n\t<label for=\"layer2_prefs_environmentlighting_Noon\" class=\"radiolabel\">Noon<\/label>\n\t<input type=\"radio\" name=\"layer2_prefs_environmentlighting_lightvalue\" \n\tid=\"layer2_prefs_environmentlighting_Noon\" value=\"rgba(255, 255, 251, .2)\" >\n\t<\/div>\n\t<div class=\"radiowrapper\">\n\t<label for=\"layer2_prefs_environmentlighting_Dawn\" class=\"radiolabel\">Dawn<\/label>\n\t<input type=\"radio\" name=\"layer2_prefs_environmentlighting_lightvalue\" \n\tid=\"layer2_prefs_environmentlighting_Dawn\" value=\"rgba(255, 128, 0, 0.1)\" >\n\t<\/div>\n\t<div class=\"radiowrapper\">\n\t<label for=\"layer2_prefs_environmentlighting_Dusk\" class=\"radiolabel\">Dusk<\/label>\n\t<input type=\"radio\" name=\"layer2_prefs_environmentlighting_lightvalue\" \n\tid=\"layer2_prefs_environmentlighting_Dusk\" value=\"rgba(255, 64, 0, 0.1)\" >\n\t<\/div>\n\t<div class=\"radiowrapper\">\n\t<label for=\"layer2_prefs_environmentlighting_Desert\" class=\"radiolabel\">Desert<\/label>\n\t<input type=\"radio\" name=\"layer2_prefs_environmentlighting_lightvalue\" \n\tid=\"layer2_prefs_environmentlighting_Desert\" value=\"rgba(255, 200, 0, 0.2)\" >\n\t<\/div>\n\t<div class=\"radiowrapper\">\n\t<label for=\"layer2_prefs_environmentlighting_Moonlight\" class=\"radiolabel\">Moonlight<\/label>\n\t<input type=\"radio\" name=\"layer2_prefs_environmentlighting_lightvalue\" \n\tid=\"layer2_prefs_environmentlighting_Moonlight\" value=\"rgba(0, 0, 200, 0.2)\" >\n\t<\/div>\n\t<div class=\"radiowrapper\">\n\t<label for=\"layer2_prefs_environmentlighting_Starlight\" class=\"radiolabel\">Starlight<\/label>\n\t<input type=\"radio\" name=\"layer2_prefs_environmentlighting_lightvalue\" \n\tid=\"layer2_prefs_environmentlighting_Starlight\" value=\"rgba(0, 0, 150, 0.3)\" >\n\t<\/div>\n\t<div class=\"radiowrapper\">\n\t<label for=\"layer2_prefs_environmentlighting_Twilight\" class=\"radiolabel\">Twilight<\/label>\n\t<input type=\"radio\" name=\"layer2_prefs_environmentlighting_lightvalue\" \n\tid=\"layer2_prefs_environmentlighting_Twilight\" value=\"rgba(0, 0, 100, 0.4)\" >\n\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t\n\t\t\t<div id=\"layer2_prefs_gradientedge\" class=\"hiding prefset\">\n\t\t\t\t<h4>Shape<\/h4>\n\t\t\t\t<div class=\"optioncontrol\" style=\"display:table;\">\n\t\t\t\t\t<div class=\"radiowrapper tablerow\">\n\t\t\t\t\t\t<label for=\"layer2_prefs_gradientedge_geGradientTypeRect\" class=\"tablecell\">Rectangular<\/label>\n\t\t\t\t\t\t<input type=\"radio\" class=\"tablecell\"\n\t\t\t\t\t\tname=\"layer2_prefs_gradientedge_geGradientType\" \n\t\t\t\t\t\tid=\"layer2_prefs_gradientedge_geGradientType\" value=\"1\" checked>\n\t\t\t\t\t\t<input type=\"radio\" class=\"tablecell\"\n\t\t\t\t\t\tname=\"layer2_prefs_gradientedge_geGradientType\" \n\t\t\t\t\t\tid=\"layer2_prefs_gradientedge_geGradientTypeRad\" value=\"0\" >\n\t\t\t\t\t\t<label for=\"layer2_prefs_gradientedge_geGradientType\" class=\"tablecell\">Radial<\/label>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer2_prefs_gradientedge_geWidth\">Width\n\t\t\t\t\t(<span id=\"layer2_prefs_gradientedge_geWidth_valuetext\">18<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t<div class=\"rangeval\">0%<\/div>\n\t\t\t\t\t<input type=\"range\" min=\"0\" max=\"49\" value=\"18\" step=\"1\" class=\"\" name=\"layer2_prefs_gradientedge_geWidth\" id=\"layer2_prefs_gradientedge_geWidth\">\n\t\t\t\t\t<div class=\"rangeval\">49%<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<h4>Colour<\/h4>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<input type=\"color\" class=\"\" value=\"#24243e\" name=\"layer2_prefs_gradientedge_geColorOutside\" id=\"layer2_prefs_gradientedge_geColorOutside\">\n\t\t\t\t\t<label for=\"layer2_prefs_gradientedge_geColorOutside\">Outside<\/label>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<input type=\"color\" class=\"\" value=\"#302b63\" name=\"layer2_prefs_gradientedge_geColorInside\" id=\"layer2_prefs_gradientedge_geColorInside\">\n\t\t\t\t\t<label for=\"layer2_prefs_gradientedge_geColorInside\">Inside<\/label>\n\t\t\t\t<\/div>\n\t\t\t\t<h4>Opacity<\/h4>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer2_prefs_gradientedge_geOpacityEdge\">Outside\n\t\t\t\t\t(<span id=\"layer2_prefs_gradientedge_geOpacityEdge_valuetext\">45<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t<div class=\"rangeval\">0%<\/div>\n\t\t\t\t\t<input type=\"range\" min=\"0\" max=\"100\" value=\"45\" step=\"1\" class=\"\" name=\"layer2_prefs_gradientedge_geOpacityEdge\" id=\"layer2_prefs_gradientedge_geOpacityEdge\">\n\t\t\t\t\t<div class=\"rangeval\">100%<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer2_prefs_gradientedge_geOpacityCenter\">Inside\n\t\t\t\t\t(<span id=\"layer2_prefs_gradientedge_geOpacityCenter_valuetext\">0<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t<div class=\"rangeval\">0%<\/div>\n\t\t\t\t\t<input type=\"range\" min=\"0\" max=\"100\" value=\"0\" step=\"1\" class=\"\" name=\"layer2_prefs_gradientedge_geOpacityCenter\" id=\"layer2_prefs_gradientedge_geOpacityCenter\">\n\t\t\t\t\t<div class=\"rangeval\">100%<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t<div id=\"layer2_prefs_splat\" class=\"hiding prefset\">\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer2_prefs_splat_duration\">Duration\n\t\t\t\t\t(<span id=\"layer2_prefs_splat_duration_valuetext\">15<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t<div class=\"rangeval\">6s<\/div>\n\t\t\t\t\t<input type=\"range\" min=\"6\" max=\"20\" value=\"15\" step=\"0.5\" class=\"\" name=\"layer2_prefs_splat_duration\" id=\"layer2_prefs_splat_duration\">\n\t\t\t\t\t<div class=\"rangeval\">20s<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol table\">\n\t\t\t\t\t<div class=\"optioncontrol tablerow\">\n\t\t\t\t\t\t<label class=\"selectlabel tablecell\" for=\"layer2_prefs_splat_ontoken\">Victim<\/label>\n\t\t\t\t\t\t<select class=\"tokenSelect tablecell\" id=\"layer2_prefs_splat_ontoken\" name=\"layer2_prefs_splat_ontoken\">\n\t\t\t\t\t\t<option value=\"none\" selected>none<\/option><option value=\"Furby\">Furby<\/option><\/select>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"optioncontrol tablerow\">\n\t\t\t\t\t\t<label class=\"checklabel tablecell\" for=\"layer2_prefs_splat_owneronly\">Show Owner Only<\/label>\n\t\t\t\t\t\t<input type=\"hidden\" name=\"layer2_prefs_splat_owneronly\" value=\"0\">\n\t\t\t\t\t\t<input type=\"checkbox\" name=\"layer2_prefs_splat_owneronly\" id=\"layer2_prefs_splat_owneronly\" value=1 checked>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"optioncontrol tablerow\">\n\t\t\t\t\t\t<label class=\"checklabel tablecell\" for=\"layer2_prefs_splat_runaandfade\">Fade away<\/label>\n\t\t\t\t\t\t<input type=\"hidden\" name=\"layer2_prefs_splat_runaandfade\" value=\"0\">\n\t\t\t\t\t\t<input type=\"checkbox\" name=\"layer2_prefs_splat_runaandfade\" id=\"layer2_prefs_splat_runaandfade\" value=1 checked>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t\n\t\t\t<div id=\"layer2_prefs_bloodied\" class=\"hiding prefset\">\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer2_prefs_bloodied_borderwidth\">Border Width\n\t\t\t\t\t(<span id=\"layer2_prefs_bloodied_borderwidth_valuetext\">12<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t<div class=\"rangeval\">6vw<\/div>\n\t\t\t\t\t<input type=\"range\" min=\"6\" max=\"30\" value=\"12\" step=\"0.5\" class=\"\" name=\"layer2_prefs_bloodied_borderwidth\" id=\"layer2_prefs_bloodied_borderwidth\">\n\t\t\t\t\t<div class=\"rangeval\">30vw<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer2_prefs_bloodied_bloodfilter\">Red Filter Opacty\n\t\t\t\t\t(<span id=\"layer2_prefs_bloodied_bloodfilter_valuetext\">0.5<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t<div class=\"rangeval\">0%<\/div>\n\t\t\t\t\t<input type=\"range\" min=\"0\" max=\"1\" value=\"0.5\" step=\"0.05\" class=\"\" name=\"layer2_prefs_bloodied_bloodfilter\" id=\"layer2_prefs_bloodied_bloodfilter\">\n\t\t\t\t\t<div class=\"rangeval\">100%<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t<\/div>\n\t\t<div id=\"layer1_prefs\" class=\" prefsTable\" >\n\t\t\t<div id=\"layer1_prefs_opacity\" class=\"hiding prefset layeropacity\">\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer1_prefs_layeropacity\" title=\"This applies to the layer as a whole. It does not provide fine-grained control for the layer content\">Layer Opacity\n\t\t\t\t\t(<span id=\"layer1_prefs_layeropacity_valuetext\">1<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.00<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.00\" max=\"1.00\" value=\"1\" step=\".01\" class=\"\" name=\"layer1_prefs_layeropacity\" id=\"layer1_prefs_layeropacity\">\n\t\t\t\t\t\t<div class=\"rangeval\">1.00<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t\n\t\t\t<div id=\"layer1_prefs_birds\" class=\"hiding prefset\">\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer1_prefs_birds_birdsize\">Bird Size \n\t\t\t\t\t\t(<span id=\"layer1_prefs_birds_birdsize_valuetext\">1.8<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">1.7<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"1.7\" max=\"4.1\" value=\"3.6\" step=\"0.1\" class=\"\" name=\"layer1_prefs_birds_birdsize\" id=\"layer1_prefs_birds_birdsize\">\n\t\t\t\t\t\t<div class=\"rangeval\">4.1<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer1_prefs_birds_nBoidsMultiplier\">Number of Birds Multiplier\n\t\t\t\t\t\t(<span id=\"layer1_prefs_birds_nBoidsMultiplier_valuetext\">1<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.2<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.2\" max=\"3\" value=\"1\" step=\"0.1\" class=\"\" name=\"layer1_prefs_birds_nBoidsMultiplier\" id=\"layer1_prefs_birds_nBoidsMultiplier\">\n\t\t\t\t\t\t<div class=\"rangeval\">3<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer1_prefs_birds_birdSpeed\">Bird Speed\n\t\t\t\t\t\t(<span id=\"layer1_prefs_birds_birdSpeed_valuetext\">0.003<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.001<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.001\" max=\"0.008\" value=\"0.003\" step=\"0.0001\" class=\"\" name=\"layer1_prefs_birds_birdSpeed\" id=\"layer1_prefs_birds_birdSpeed\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.008<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer1_prefs_birds_alignmentRange\">Alignment Range\n\t\t\t\t\t\t(<span id=\"layer1_prefs_birds_alignmentRange_valuetext\">0.003<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.001<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.001\" max=\"0.008\" value=\"0.003\" step=\"0.0001\" class=\"\" name=\"layer1_prefs_birds_alignmentRange\" id=\"layer1_prefs_birds_alignmentRange\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.008<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer1_prefs_birds_alignmentStrength\">Alignment Strength\n\t\t\t\t\t\t(<span id=\"layer1_prefs_birds_alignmentStrength_valuetext\">0.02<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.01<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.01\" max=\"0.08\" value=\"0.02\" step=\"0.001\" class=\"\" name=\"layer1_prefs_birds_alignmentStrength\" id=\"layer1_prefs_birds_alignmentStrength\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.08<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer1_prefs_birds_attractionRange\">Attraction Range\n\t\t\t\t\t\t(<span id=\"layer1_prefs_birds_attractionRange_valuetext\">0.015<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.001<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.001\" max=\"0.03\" value=\"0.015\" step=\"0.0001\" class=\"\" name=\"layer1_prefs_birds_attractionRange\" id=\"layer1_prefs_birds_attractionRange\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.03<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer1_prefs_birds_attractionStrength\">Attraction Strength\n\t\t\t\t\t\t(<span id=\"layer1_prefs_birds_attractionStrength_valuetext\">0.008<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.002<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.002\" max=\"0.012\" value=\"0.008\" step=\"0.001\" class=\"\" name=\"layer1_prefs_birds_attractionStrength\" id=\"layer1_prefs_birds_attractionStrength\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.012<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer1_prefs_birds_avoidanceRange\">Avoidance Range\n\t\t\t\t\t\t(<span id=\"layer1_prefs_birds_avoidanceRange_valuetext\">0.0018<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.001<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.001\" max=\"0.003\" value=\"0.0018\" step=\"0.0001\" class=\"\" name=\"layer1_prefs_birds_avoidanceRange\" id=\"layer1_prefs_birds_avoidanceRange\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.003<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer1_prefs_birds_avoidanceStrength\">Avoidance Strength\n\t\t\t\t\t\t(<span id=\"layer1_prefs_birds_avoidanceStrength_valuetext\">0.52<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.2<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.2\" max=\"0.8\" value=\"0.52\" step=\"0.001\" class=\"\" name=\"layer1_prefs_birds_avoidanceStrength\" id=\"layer1_prefs_birds_avoidanceStrength\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.8<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\n\t\t\t<div id=\"layer1_prefs_fallingleaves\" class=\"hiding prefset\">\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer1_prefs_fallingleaves_leafsize\">Leaf Size\n\t\t\t\t\t(<span id=\"layer1_prefs_fallingleaves_leafsize_valuetext\">20<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">8<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"8\" max=\"28\" value=\"20\" step=\"1\" class=\"\" name=\"layer1_prefs_fallingleaves_leafsize\" id=\"layer1_prefs_fallingleaves_leafsize\">\n\t\t\t\t\t\t<div class=\"rangeval\">28<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer1_prefs_fallingleaves_numLeaves\">Number of Leaves\n\t\t\t\t\t(<span id=\"layer1_prefs_fallingleaves_numLeaves_valuetext\">20<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">8<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"8\" max=\"40\" value=\"20\" step=\"1\" class=\"\" name=\"layer1_prefs_fallingleaves_numLeaves\" id=\"layer1_prefs_fallingleaves_numLeaves\">\n\t\t\t\t\t\t<div class=\"rangeval\">40<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer1_prefs_fallingleaves_magnitude\">Wind Cycle Magnitude\n\t\t\t\t\t(<span id=\"layer1_prefs_fallingleaves_magnitude_valuetext\">1.2<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.3<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.3\" max=\"1.8\" value=\"1.2\" step=\"0.1\" class=\"\" name=\"layer1_prefs_fallingleaves_magnitude\" id=\"layer1_prefs_fallingleaves_magnitude\">\n\t\t\t\t\t\t<div class=\"rangeval\">1.8<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer1_prefs_fallingleaves_maxSpeed\">Wind Max Speed\n\t\t\t\t\t(<span id=\"layer1_prefs_fallingleaves_maxSpeed_valuetext\">12<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">3<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"3\" max=\"24\" value=\"12\" step=\"1\" class=\"\" name=\"layer1_prefs_fallingleaves_maxSpeed\" id=\"layer1_prefs_fallingleaves_maxSpeed\">\n\t\t\t\t\t\t<div class=\"rangeval\">24<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer1_prefs_fallingleaves_duration\">Wind Max Duration\n\t\t\t\t\t(<span id=\"layer1_prefs_fallingleaves_duration_valuetext\">300<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">3<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"50\" max=\"600\" value=\"300\" step=\"10\" class=\"\" name=\"layer1_prefs_fallingleaves_duration\" id=\"layer1_prefs_fallingleaves_duration\">\n\t\t\t\t\t\t<div class=\"rangeval\">24<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\n\t\t\t<div id=\"layer1_prefs_bubblesoverhead\" class=\"hiding prefset\">\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer1_prefs_bubblesoverhead_bubblesize\">Bubble Size Multiplier\n\t\t\t\t\t(<span id=\"layer1_prefs_bubblesoverhead_bubblesize_valuetext\">0.4<\/span>)\n\t\t\t\t\t<\/label>\t\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">x0.1<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.1\" max=\"2.0\" value=\"0.4\" step=\".05\" class=\"\" name=\"layer1_prefs_bubblesoverhead_bubblesize\" id=\"layer1_prefs_bubblesoverhead_bubblesize\">\n\t\t\t\t\t\t<div class=\"rangeval\">x2.0<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer1_prefs_bubblesoverhead_bubblefactor\">Bubble Number Multiplier\n\t\t\t\t\t(<span id=\"layer1_prefs_bubblesoverhead_bubblefactor_valuetext\">0.6<\/span>)\n\t\t\t\t\t<\/label>\t\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">x0.1<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.1\" max=\"3.0\" value=\"0.6\" step=\".05\" class=\"\" name=\"layer1_prefs_bubblesoverhead_bubblefactor\" id=\"layer1_prefs_bubblesoverhead_bubblefactor\">\n\t\t\t\t\t\t<div class=\"rangeval\">x3.0<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer1_prefs_bubblesoverhead_bubbleAcceleration\">Bubble Rise Acceleration\n\t\t\t\t\t(<span id=\"layer1_prefs_bubblesoverhead_bubbleAcceleration_valuetext\">22<\/span>)\n\t\t\t\t\t<\/label>\t\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">1<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"1\" max=\"44\" value=\"22\" step=\"1\" class=\"\" name=\"layer1_prefs_bubblesoverhead_bubbleAcceleration\" id=\"layer1_prefs_bubblesoverhead_bubbleAcceleration\">\n\t\t\t\t\t\t<div class=\"rangeval\">44<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer1_prefs_bubblesoverhead_bubbleDepth\">Vertical Travel Distance\n\t\t\t\t\t(<span id=\"layer1_prefs_bubblesoverhead_bubbleDepth_valuetext\">1240<\/span>)\n\t\t\t\t\t<\/label>\t\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">300<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"300\" max=\"3000\" value=\"1240\" step=\"10\" class=\"\" name=\"layer1_prefs_bubblesoverhead_bubbleDepth\" id=\"layer1_prefs_bubblesoverhead_bubbleDepth\">\n\t\t\t\t\t\t<div class=\"rangeval\">3k<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer1_prefs_bubblesoverhead_bubbleMassBase\">Bubble Base Mass\n\t\t\t\t\t(<span id=\"layer1_prefs_bubblesoverhead_bubbleMassBase_valuetext\">0.8<\/span>)\n\t\t\t\t\t<\/label>\t\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.2<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.2\" max=\"1.8\" value=\"0.8\" step=\".05\" class=\"\" name=\"layer1_prefs_bubblesoverhead_bubbleMassBase\" id=\"layer1_prefs_bubblesoverhead_bubbleMassBase\">\n\t\t\t\t\t\t<div class=\"rangeval\">1.8<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer1_prefs_bubblesoverhead_bubbleMassVariation\">Buble Mass Variation\n\t\t\t\t\t(<span id=\"layer1_prefs_bubblesoverhead_bubbleMassVariation_valuetext\">0.2<\/span>)\n\t\t\t\t\t<\/label>\t\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0\" max=\"1\" value=\"0.2\" step=\".05\" class=\"\" name=\"layer1_prefs_bubblesoverhead_bubbleMassVariation\" id=\"layer1_prefs_bubblesoverhead_bubbleMassVariation\">\n\t\t\t\t\t\t<div class=\"rangeval\">1.0<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer1_prefs_bubblesoverhead_wobbleStrength\">Wobble Distance\n\t\t\t\t\t(<span id=\"layer1_prefs_bubblesoverhead_wobbleStrength_valuetext\">0.1<\/span>)\n\t\t\t\t\t<\/label>\t\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0\" max=\"1.5\" value=\"0.1\" step=\".01\" class=\"\" name=\"layer1_prefs_bubblesoverhead_wobbleStrength\" id=\"layer1_prefs_bubblesoverhead_wobbleStrength\">\n\t\t\t\t\t\t<div class=\"rangeval\">2.05<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer1_prefs_bubblesoverhead_wobbleOmegaFactor\">Wobble Rotational Velocity\n\t\t\t\t\t(<span id=\"layer1_prefs_bubblesoverhead_wobbleOmegaFactor_valuetext\">0.1<\/span>)\n\t\t\t\t\t<\/label>\t\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0\" max=\"1.5\" value=\"0.1\" step=\".01\" class=\"\" name=\"layer1_prefs_bubblesoverhead_wobbleOmegaFactor\" id=\"layer1_prefs_bubblesoverhead_wobbleOmegaFactor\">\n\t\t\t\t\t\t<div class=\"rangeval\">1.5<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer1_prefs_bubblesoverhead_fov\">Field of View\n\t\t\t\t\t(<span id=\"layer1_prefs_bubblesoverhead_fov_valuetext\">250<\/span>)\n\t\t\t\t\t<\/label>\t\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">50<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"50\" max=\"600\" value=\"250\" step=\"10\" class=\"\" name=\"layer1_prefs_bubblesoverhead_fov\" id=\"layer1_prefs_bubblesoverhead_fov\">\n\t\t\t\t\t\t<div class=\"rangeval\">600<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer1_prefs_bubblesoverhead_currentOmegaFactor\">Current Direction Change Rate\n\t\t\t\t\t(<span id=\"layer1_prefs_bubblesoverhead_currentOmegaFactor_valuetext\">8<\/span>)\n\t\t\t\t\t<\/label>\t\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.1<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.1\" max=\"20\" value=\"8\" step=\".1\" class=\"\" name=\"layer1_prefs_bubblesoverhead_currentOmegaFactor\" id=\"layer1_prefs_bubblesoverhead_currentOmegaFactor\">\n\t\t\t\t\t\t<div class=\"rangeval\">20<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer1_prefs_bubblesoverhead_backgroundGradientOpacity\">Background Gradient Opacity\n\t\t\t\t\t(<span id=\"layer1_prefs_bubblesoverhead_backgroundGradientOpacity_valuetext\">0.3<\/span>)\n\t\t\t\t\t<\/label>\t\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0\" max=\"1\" value=\"0.3\" step=\".05\" class=\"\" name=\"layer1_prefs_bubblesoverhead_backgroundGradientOpacity\" id=\"layer1_prefs_bubblesoverhead_backgroundGradientOpacity\">\n\t\t\t\t\t\t<div class=\"rangeval\">1<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer1_prefs_bubblesoverhead_bubbleCanvasOpacity\">Bubble Opacity\n\t\t\t\t\t(<span id=\"layer1_prefs_bubblesoverhead_bubbleCanvasOpacity_valuetext\">1<\/span>)\n\t\t\t\t\t<\/label>\t\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.1<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.1\" max=\"1\" value=\"1\" step=\".05\" class=\"\" name=\"layer1_prefs_bubblesoverhead_bubbleCanvasOpacity\" id=\"layer1_prefs_bubblesoverhead_bubbleCanvasOpacity\">\n\t\t\t\t\t\t<div class=\"rangeval\">1.0<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t\n\t\t\t<div id=\"layer1_prefs_swarm\" class=\"hiding prefset\">\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer1_prefs_swarm_imagesize\">Bug Size\n\t\t\t\t\t(<span id=\"layer1_prefs_swarm_imagesize_valuetext\">1.55<\/span>)\n\t\t\t\t\t<\/label>\t\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.6<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.6\" max=\"2.05\" value=\"1.55\" step=\".05\" class=\"\" name=\"layer1_prefs_swarm_imagesize\" id=\"layer1_prefs_swarm_imagesize\">\n\t\t\t\t\t\t<div class=\"rangeval\">2.05<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer1_prefs_swarm_numfactor\">Bug Count Multiplier\n\t\t\t\t\t(<span id=\"layer1_prefs_swarm_numfactor_valuetext\">1<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t<div class=\"rangeval\">0.1<\/div>\n\t\t\t\t\t<input type=\"range\" min=\"0.1\" max=\"3.0\" value=\"1\" step=\".1\" class=\"\" name=\"layer1_prefs_swarm_numfactor\" id=\"layer1_prefs_swarm_numfactor\">\n\t\t\t\t\t<div class=\"rangeval\">3.0<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer1_prefs_swarm_birdSpeed\">Bug Speed\n\t\t\t\t\t\t(<span id=\"layer1_prefs_swarm_birdSpeed_valuetext\">0.003<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.001<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.001\" max=\"0.008\" value=\"0.003\" step=\"0.0001\" class=\"\" name=\"layer1_prefs_swarm_birdSpeed\" id=\"layer1_prefs_swarm_birdSpeed\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.008<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer1_prefs_swarm_alignmentRange\">Alignment Range\n\t\t\t\t\t\t(<span id=\"layer1_prefs_swarm_alignmentRange_valuetext\">0.003<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.001<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.001\" max=\"0.008\" value=\"0.003\" step=\"0.0001\" class=\"\" name=\"layer1_prefs_swarm_alignmentRange\" id=\"layer1_prefs_swarm_alignmentRange\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.008<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer1_prefs_swarm_alignmentStrength\">Alignment Strength\n\t\t\t\t\t\t(<span id=\"layer1_prefs_swarm_alignmentStrength_valuetext\">0.02<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.01<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.01\" max=\"0.08\" value=\"0.02\" step=\"0.001\" class=\"\" name=\"layer1_prefs_swarm_alignmentStrength\" id=\"layer1_prefs_swarm_alignmentStrength\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.08<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer1_prefs_swarm_attractionRange\">Attraction Range\n\t\t\t\t\t\t(<span id=\"layer1_prefs_swarm_attractionRange_valuetext\">0.015<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.001<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.001\" max=\"0.03\" value=\"0.015\" step=\"0.0001\" class=\"\" name=\"layer1_prefs_swarm_attractionRange\" id=\"layer1_prefs_swarm_attractionRange\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.03<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer1_prefs_swarm_attractionStrength\">Attraction Strength\n\t\t\t\t\t\t(<span id=\"layer1_prefs_swarm_attractionStrength_valuetext\">0.008<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.002<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.002\" max=\"0.012\" value=\"0.008\" step=\"0.001\" class=\"\" name=\"layer1_prefs_swarm_attractionStrength\" id=\"layer1_prefs_swarm_attractionStrength\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.012<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer1_prefs_swarm_avoidanceRange\">Avoidance Range\n\t\t\t\t\t\t(<span id=\"layer1_prefs_swarm_avoidanceRange_valuetext\">0.0018<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.001<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.001\" max=\"0.003\" value=\"0.0018\" step=\"0.0001\" class=\"\" name=\"layer1_prefs_swarm_avoidanceRange\" id=\"layer1_prefs_swarm_avoidanceRange\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.003<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer1_prefs_swarm_avoidanceStrength\">Avoidance Strength\n\t\t\t\t\t\t(<span id=\"layer1_prefs_swarm_avoidanceStrength_valuetext\">0.52<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.2<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.2\" max=\"0.8\" value=\"0.52\" step=\"0.001\" class=\"\" name=\"layer1_prefs_swarm_avoidanceStrength\" id=\"layer1_prefs_swarm_avoidanceStrength\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.8<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t<div id=\"layer1_prefs_environmentlighting\" class=\"hiding prefset\">\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t\n\t<div class=\"radiowrapper\">\n\t<label for=\"layer1_prefs_environmentlighting_none\" class=\"radiolabel\">none<\/label>\n\t<input type=\"radio\" name=\"layer1_prefs_environmentlighting_lightvalue\" \n\tid=\"layer1_prefs_environmentlighting_none\" value=\"rgba(0, 0, 0, 0)\" checked>\n\t<\/div>\n\t<div class=\"radiowrapper\">\n\t<label for=\"layer1_prefs_environmentlighting_Noon\" class=\"radiolabel\">Noon<\/label>\n\t<input type=\"radio\" name=\"layer1_prefs_environmentlighting_lightvalue\" \n\tid=\"layer1_prefs_environmentlighting_Noon\" value=\"rgba(255, 255, 251, .2)\" >\n\t<\/div>\n\t<div class=\"radiowrapper\">\n\t<label for=\"layer1_prefs_environmentlighting_Dawn\" class=\"radiolabel\">Dawn<\/label>\n\t<input type=\"radio\" name=\"layer1_prefs_environmentlighting_lightvalue\" \n\tid=\"layer1_prefs_environmentlighting_Dawn\" value=\"rgba(255, 128, 0, 0.1)\" >\n\t<\/div>\n\t<div class=\"radiowrapper\">\n\t<label for=\"layer1_prefs_environmentlighting_Dusk\" class=\"radiolabel\">Dusk<\/label>\n\t<input type=\"radio\" name=\"layer1_prefs_environmentlighting_lightvalue\" \n\tid=\"layer1_prefs_environmentlighting_Dusk\" value=\"rgba(255, 64, 0, 0.1)\" >\n\t<\/div>\n\t<div class=\"radiowrapper\">\n\t<label for=\"layer1_prefs_environmentlighting_Desert\" class=\"radiolabel\">Desert<\/label>\n\t<input type=\"radio\" name=\"layer1_prefs_environmentlighting_lightvalue\" \n\tid=\"layer1_prefs_environmentlighting_Desert\" value=\"rgba(255, 200, 0, 0.2)\" >\n\t<\/div>\n\t<div class=\"radiowrapper\">\n\t<label for=\"layer1_prefs_environmentlighting_Moonlight\" class=\"radiolabel\">Moonlight<\/label>\n\t<input type=\"radio\" name=\"layer1_prefs_environmentlighting_lightvalue\" \n\tid=\"layer1_prefs_environmentlighting_Moonlight\" value=\"rgba(0, 0, 200, 0.2)\" >\n\t<\/div>\n\t<div class=\"radiowrapper\">\n\t<label for=\"layer1_prefs_environmentlighting_Starlight\" class=\"radiolabel\">Starlight<\/label>\n\t<input type=\"radio\" name=\"layer1_prefs_environmentlighting_lightvalue\" \n\tid=\"layer1_prefs_environmentlighting_Starlight\" value=\"rgba(0, 0, 150, 0.3)\" >\n\t<\/div>\n\t<div class=\"radiowrapper\">\n\t<label for=\"layer1_prefs_environmentlighting_Twilight\" class=\"radiolabel\">Twilight<\/label>\n\t<input type=\"radio\" name=\"layer1_prefs_environmentlighting_lightvalue\" \n\tid=\"layer1_prefs_environmentlighting_Twilight\" value=\"rgba(0, 0, 100, 0.4)\" >\n\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t\n\t\t\t<div id=\"layer1_prefs_gradientedge\" class=\"hiding prefset\">\n\t\t\t\t<h4>Shape<\/h4>\n\t\t\t\t<div class=\"optioncontrol\" style=\"display:table;\">\n\t\t\t\t\t<div class=\"radiowrapper tablerow\">\n\t\t\t\t\t\t<label for=\"layer1_prefs_gradientedge_geGradientTypeRect\" class=\"tablecell\">Rectangular<\/label>\n\t\t\t\t\t\t<input type=\"radio\" class=\"tablecell\"\n\t\t\t\t\t\tname=\"layer1_prefs_gradientedge_geGradientType\" \n\t\t\t\t\t\tid=\"layer1_prefs_gradientedge_geGradientType\" value=\"1\" checked>\n\t\t\t\t\t\t<input type=\"radio\" class=\"tablecell\"\n\t\t\t\t\t\tname=\"layer1_prefs_gradientedge_geGradientType\" \n\t\t\t\t\t\tid=\"layer1_prefs_gradientedge_geGradientTypeRad\" value=\"0\" >\n\t\t\t\t\t\t<label for=\"layer1_prefs_gradientedge_geGradientType\" class=\"tablecell\">Radial<\/label>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer1_prefs_gradientedge_geWidth\">Width\n\t\t\t\t\t(<span id=\"layer1_prefs_gradientedge_geWidth_valuetext\">18<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t<div class=\"rangeval\">0%<\/div>\n\t\t\t\t\t<input type=\"range\" min=\"0\" max=\"49\" value=\"18\" step=\"1\" class=\"\" name=\"layer1_prefs_gradientedge_geWidth\" id=\"layer1_prefs_gradientedge_geWidth\">\n\t\t\t\t\t<div class=\"rangeval\">49%<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<h4>Colour<\/h4>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<input type=\"color\" class=\"\" value=\"#24243e\" name=\"layer1_prefs_gradientedge_geColorOutside\" id=\"layer1_prefs_gradientedge_geColorOutside\">\n\t\t\t\t\t<label for=\"layer1_prefs_gradientedge_geColorOutside\">Outside<\/label>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<input type=\"color\" class=\"\" value=\"#302b63\" name=\"layer1_prefs_gradientedge_geColorInside\" id=\"layer1_prefs_gradientedge_geColorInside\">\n\t\t\t\t\t<label for=\"layer1_prefs_gradientedge_geColorInside\">Inside<\/label>\n\t\t\t\t<\/div>\n\t\t\t\t<h4>Opacity<\/h4>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer1_prefs_gradientedge_geOpacityEdge\">Outside\n\t\t\t\t\t(<span id=\"layer1_prefs_gradientedge_geOpacityEdge_valuetext\">45<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t<div class=\"rangeval\">0%<\/div>\n\t\t\t\t\t<input type=\"range\" min=\"0\" max=\"100\" value=\"45\" step=\"1\" class=\"\" name=\"layer1_prefs_gradientedge_geOpacityEdge\" id=\"layer1_prefs_gradientedge_geOpacityEdge\">\n\t\t\t\t\t<div class=\"rangeval\">100%<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer1_prefs_gradientedge_geOpacityCenter\">Inside\n\t\t\t\t\t(<span id=\"layer1_prefs_gradientedge_geOpacityCenter_valuetext\">0<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t<div class=\"rangeval\">0%<\/div>\n\t\t\t\t\t<input type=\"range\" min=\"0\" max=\"100\" value=\"0\" step=\"1\" class=\"\" name=\"layer1_prefs_gradientedge_geOpacityCenter\" id=\"layer1_prefs_gradientedge_geOpacityCenter\">\n\t\t\t\t\t<div class=\"rangeval\">100%<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t<div id=\"layer1_prefs_splat\" class=\"hiding prefset\">\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer1_prefs_splat_duration\">Duration\n\t\t\t\t\t(<span id=\"layer1_prefs_splat_duration_valuetext\">15<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t<div class=\"rangeval\">6s<\/div>\n\t\t\t\t\t<input type=\"range\" min=\"6\" max=\"20\" value=\"15\" step=\"0.5\" class=\"\" name=\"layer1_prefs_splat_duration\" id=\"layer1_prefs_splat_duration\">\n\t\t\t\t\t<div class=\"rangeval\">20s<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol table\">\n\t\t\t\t\t<div class=\"optioncontrol tablerow\">\n\t\t\t\t\t\t<label class=\"selectlabel tablecell\" for=\"layer1_prefs_splat_ontoken\">Victim<\/label>\n\t\t\t\t\t\t<select class=\"tokenSelect tablecell\" id=\"layer1_prefs_splat_ontoken\" name=\"layer1_prefs_splat_ontoken\">\n\t\t\t\t\t\t<option value=\"none\" selected>none<\/option><option value=\"Furby\">Furby<\/option><\/select>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"optioncontrol tablerow\">\n\t\t\t\t\t\t<label class=\"checklabel tablecell\" for=\"layer1_prefs_splat_owneronly\">Show Owner Only<\/label>\n\t\t\t\t\t\t<input type=\"hidden\" name=\"layer1_prefs_splat_owneronly\" value=\"0\">\n\t\t\t\t\t\t<input type=\"checkbox\" name=\"layer1_prefs_splat_owneronly\" id=\"layer1_prefs_splat_owneronly\" value=1 checked>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"optioncontrol tablerow\">\n\t\t\t\t\t\t<label class=\"checklabel tablecell\" for=\"layer1_prefs_splat_runaandfade\">Fade away<\/label>\n\t\t\t\t\t\t<input type=\"hidden\" name=\"layer1_prefs_splat_runaandfade\" value=\"0\">\n\t\t\t\t\t\t<input type=\"checkbox\" name=\"layer1_prefs_splat_runaandfade\" id=\"layer1_prefs_splat_runaandfade\" value=1 checked>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t\n\t\t\t<div id=\"layer1_prefs_bloodied\" class=\"hiding prefset\">\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer1_prefs_bloodied_borderwidth\">Border Width\n\t\t\t\t\t(<span id=\"layer1_prefs_bloodied_borderwidth_valuetext\">12<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t<div class=\"rangeval\">6vw<\/div>\n\t\t\t\t\t<input type=\"range\" min=\"6\" max=\"30\" value=\"12\" step=\"0.5\" class=\"\" name=\"layer1_prefs_bloodied_borderwidth\" id=\"layer1_prefs_bloodied_borderwidth\">\n\t\t\t\t\t<div class=\"rangeval\">30vw<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer1_prefs_bloodied_bloodfilter\">Red Filter Opacty\n\t\t\t\t\t(<span id=\"layer1_prefs_bloodied_bloodfilter_valuetext\">0.5<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t<div class=\"rangeval\">0%<\/div>\n\t\t\t\t\t<input type=\"range\" min=\"0\" max=\"1\" value=\"0.5\" step=\"0.05\" class=\"\" name=\"layer1_prefs_bloodied_bloodfilter\" id=\"layer1_prefs_bloodied_bloodfilter\">\n\t\t\t\t\t<div class=\"rangeval\">100%<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t<\/div>\n\t\t<div id=\"layer0_prefs\" class=\" prefsTable\" >\n\t\t\t<div id=\"layer0_prefs_opacity\" class=\"hiding prefset layeropacity\">\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer0_prefs_layeropacity\" title=\"This applies to the layer as a whole. It does not provide fine-grained control for the layer content\">Layer Opacity\n\t\t\t\t\t(<span id=\"layer0_prefs_layeropacity_valuetext\">1<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.00<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.00\" max=\"1.00\" value=\"1\" step=\".01\" class=\"\" name=\"layer0_prefs_layeropacity\" id=\"layer0_prefs_layeropacity\">\n\t\t\t\t\t\t<div class=\"rangeval\">1.00<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t\n\t\t\t<div id=\"layer0_prefs_birds\" class=\"hiding prefset\">\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer0_prefs_birds_birdsize\">Bird Size \n\t\t\t\t\t\t(<span id=\"layer0_prefs_birds_birdsize_valuetext\">1.8<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">1.7<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"1.7\" max=\"4.1\" value=\"3.6\" step=\"0.1\" class=\"\" name=\"layer0_prefs_birds_birdsize\" id=\"layer0_prefs_birds_birdsize\">\n\t\t\t\t\t\t<div class=\"rangeval\">4.1<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer0_prefs_birds_nBoidsMultiplier\">Number of Birds Multiplier\n\t\t\t\t\t\t(<span id=\"layer0_prefs_birds_nBoidsMultiplier_valuetext\">1<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.2<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.2\" max=\"3\" value=\"1\" step=\"0.1\" class=\"\" name=\"layer0_prefs_birds_nBoidsMultiplier\" id=\"layer0_prefs_birds_nBoidsMultiplier\">\n\t\t\t\t\t\t<div class=\"rangeval\">3<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer0_prefs_birds_birdSpeed\">Bird Speed\n\t\t\t\t\t\t(<span id=\"layer0_prefs_birds_birdSpeed_valuetext\">0.003<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.001<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.001\" max=\"0.008\" value=\"0.003\" step=\"0.0001\" class=\"\" name=\"layer0_prefs_birds_birdSpeed\" id=\"layer0_prefs_birds_birdSpeed\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.008<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer0_prefs_birds_alignmentRange\">Alignment Range\n\t\t\t\t\t\t(<span id=\"layer0_prefs_birds_alignmentRange_valuetext\">0.003<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.001<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.001\" max=\"0.008\" value=\"0.003\" step=\"0.0001\" class=\"\" name=\"layer0_prefs_birds_alignmentRange\" id=\"layer0_prefs_birds_alignmentRange\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.008<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer0_prefs_birds_alignmentStrength\">Alignment Strength\n\t\t\t\t\t\t(<span id=\"layer0_prefs_birds_alignmentStrength_valuetext\">0.02<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.01<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.01\" max=\"0.08\" value=\"0.02\" step=\"0.001\" class=\"\" name=\"layer0_prefs_birds_alignmentStrength\" id=\"layer0_prefs_birds_alignmentStrength\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.08<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer0_prefs_birds_attractionRange\">Attraction Range\n\t\t\t\t\t\t(<span id=\"layer0_prefs_birds_attractionRange_valuetext\">0.015<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.001<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.001\" max=\"0.03\" value=\"0.015\" step=\"0.0001\" class=\"\" name=\"layer0_prefs_birds_attractionRange\" id=\"layer0_prefs_birds_attractionRange\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.03<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer0_prefs_birds_attractionStrength\">Attraction Strength\n\t\t\t\t\t\t(<span id=\"layer0_prefs_birds_attractionStrength_valuetext\">0.008<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.002<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.002\" max=\"0.012\" value=\"0.008\" step=\"0.001\" class=\"\" name=\"layer0_prefs_birds_attractionStrength\" id=\"layer0_prefs_birds_attractionStrength\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.012<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer0_prefs_birds_avoidanceRange\">Avoidance Range\n\t\t\t\t\t\t(<span id=\"layer0_prefs_birds_avoidanceRange_valuetext\">0.0018<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.001<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.001\" max=\"0.003\" value=\"0.0018\" step=\"0.0001\" class=\"\" name=\"layer0_prefs_birds_avoidanceRange\" id=\"layer0_prefs_birds_avoidanceRange\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.003<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer0_prefs_birds_avoidanceStrength\">Avoidance Strength\n\t\t\t\t\t\t(<span id=\"layer0_prefs_birds_avoidanceStrength_valuetext\">0.52<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.2<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.2\" max=\"0.8\" value=\"0.52\" step=\"0.001\" class=\"\" name=\"layer0_prefs_birds_avoidanceStrength\" id=\"layer0_prefs_birds_avoidanceStrength\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.8<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\n\t\t\t<div id=\"layer0_prefs_fallingleaves\" class=\"hiding prefset\">\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer0_prefs_fallingleaves_leafsize\">Leaf Size\n\t\t\t\t\t(<span id=\"layer0_prefs_fallingleaves_leafsize_valuetext\">20<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">8<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"8\" max=\"28\" value=\"20\" step=\"1\" class=\"\" name=\"layer0_prefs_fallingleaves_leafsize\" id=\"layer0_prefs_fallingleaves_leafsize\">\n\t\t\t\t\t\t<div class=\"rangeval\">28<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer0_prefs_fallingleaves_numLeaves\">Number of Leaves\n\t\t\t\t\t(<span id=\"layer0_prefs_fallingleaves_numLeaves_valuetext\">20<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">8<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"8\" max=\"40\" value=\"20\" step=\"1\" class=\"\" name=\"layer0_prefs_fallingleaves_numLeaves\" id=\"layer0_prefs_fallingleaves_numLeaves\">\n\t\t\t\t\t\t<div class=\"rangeval\">40<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer0_prefs_fallingleaves_magnitude\">Wind Cycle Magnitude\n\t\t\t\t\t(<span id=\"layer0_prefs_fallingleaves_magnitude_valuetext\">1.2<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.3<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.3\" max=\"1.8\" value=\"1.2\" step=\"0.1\" class=\"\" name=\"layer0_prefs_fallingleaves_magnitude\" id=\"layer0_prefs_fallingleaves_magnitude\">\n\t\t\t\t\t\t<div class=\"rangeval\">1.8<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer0_prefs_fallingleaves_maxSpeed\">Wind Max Speed\n\t\t\t\t\t(<span id=\"layer0_prefs_fallingleaves_maxSpeed_valuetext\">12<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">3<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"3\" max=\"24\" value=\"12\" step=\"1\" class=\"\" name=\"layer0_prefs_fallingleaves_maxSpeed\" id=\"layer0_prefs_fallingleaves_maxSpeed\">\n\t\t\t\t\t\t<div class=\"rangeval\">24<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer0_prefs_fallingleaves_duration\">Wind Max Duration\n\t\t\t\t\t(<span id=\"layer0_prefs_fallingleaves_duration_valuetext\">300<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">3<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"50\" max=\"600\" value=\"300\" step=\"10\" class=\"\" name=\"layer0_prefs_fallingleaves_duration\" id=\"layer0_prefs_fallingleaves_duration\">\n\t\t\t\t\t\t<div class=\"rangeval\">24<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\n\t\t\t<div id=\"layer0_prefs_bubblesoverhead\" class=\"hiding prefset\">\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer0_prefs_bubblesoverhead_bubblesize\">Bubble Size Multiplier\n\t\t\t\t\t(<span id=\"layer0_prefs_bubblesoverhead_bubblesize_valuetext\">0.4<\/span>)\n\t\t\t\t\t<\/label>\t\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">x0.1<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.1\" max=\"2.0\" value=\"0.4\" step=\".05\" class=\"\" name=\"layer0_prefs_bubblesoverhead_bubblesize\" id=\"layer0_prefs_bubblesoverhead_bubblesize\">\n\t\t\t\t\t\t<div class=\"rangeval\">x2.0<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer0_prefs_bubblesoverhead_bubblefactor\">Bubble Number Multiplier\n\t\t\t\t\t(<span id=\"layer0_prefs_bubblesoverhead_bubblefactor_valuetext\">0.6<\/span>)\n\t\t\t\t\t<\/label>\t\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">x0.1<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.1\" max=\"3.0\" value=\"0.6\" step=\".05\" class=\"\" name=\"layer0_prefs_bubblesoverhead_bubblefactor\" id=\"layer0_prefs_bubblesoverhead_bubblefactor\">\n\t\t\t\t\t\t<div class=\"rangeval\">x3.0<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer0_prefs_bubblesoverhead_bubbleAcceleration\">Bubble Rise Acceleration\n\t\t\t\t\t(<span id=\"layer0_prefs_bubblesoverhead_bubbleAcceleration_valuetext\">22<\/span>)\n\t\t\t\t\t<\/label>\t\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">1<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"1\" max=\"44\" value=\"22\" step=\"1\" class=\"\" name=\"layer0_prefs_bubblesoverhead_bubbleAcceleration\" id=\"layer0_prefs_bubblesoverhead_bubbleAcceleration\">\n\t\t\t\t\t\t<div class=\"rangeval\">44<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer0_prefs_bubblesoverhead_bubbleDepth\">Vertical Travel Distance\n\t\t\t\t\t(<span id=\"layer0_prefs_bubblesoverhead_bubbleDepth_valuetext\">1240<\/span>)\n\t\t\t\t\t<\/label>\t\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">300<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"300\" max=\"3000\" value=\"1240\" step=\"10\" class=\"\" name=\"layer0_prefs_bubblesoverhead_bubbleDepth\" id=\"layer0_prefs_bubblesoverhead_bubbleDepth\">\n\t\t\t\t\t\t<div class=\"rangeval\">3k<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer0_prefs_bubblesoverhead_bubbleMassBase\">Bubble Base Mass\n\t\t\t\t\t(<span id=\"layer0_prefs_bubblesoverhead_bubbleMassBase_valuetext\">0.8<\/span>)\n\t\t\t\t\t<\/label>\t\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.2<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.2\" max=\"1.8\" value=\"0.8\" step=\".05\" class=\"\" name=\"layer0_prefs_bubblesoverhead_bubbleMassBase\" id=\"layer0_prefs_bubblesoverhead_bubbleMassBase\">\n\t\t\t\t\t\t<div class=\"rangeval\">1.8<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer0_prefs_bubblesoverhead_bubbleMassVariation\">Buble Mass Variation\n\t\t\t\t\t(<span id=\"layer0_prefs_bubblesoverhead_bubbleMassVariation_valuetext\">0.2<\/span>)\n\t\t\t\t\t<\/label>\t\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0\" max=\"1\" value=\"0.2\" step=\".05\" class=\"\" name=\"layer0_prefs_bubblesoverhead_bubbleMassVariation\" id=\"layer0_prefs_bubblesoverhead_bubbleMassVariation\">\n\t\t\t\t\t\t<div class=\"rangeval\">1.0<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer0_prefs_bubblesoverhead_wobbleStrength\">Wobble Distance\n\t\t\t\t\t(<span id=\"layer0_prefs_bubblesoverhead_wobbleStrength_valuetext\">0.1<\/span>)\n\t\t\t\t\t<\/label>\t\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0\" max=\"1.5\" value=\"0.1\" step=\".01\" class=\"\" name=\"layer0_prefs_bubblesoverhead_wobbleStrength\" id=\"layer0_prefs_bubblesoverhead_wobbleStrength\">\n\t\t\t\t\t\t<div class=\"rangeval\">2.05<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer0_prefs_bubblesoverhead_wobbleOmegaFactor\">Wobble Rotational Velocity\n\t\t\t\t\t(<span id=\"layer0_prefs_bubblesoverhead_wobbleOmegaFactor_valuetext\">0.1<\/span>)\n\t\t\t\t\t<\/label>\t\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0\" max=\"1.5\" value=\"0.1\" step=\".01\" class=\"\" name=\"layer0_prefs_bubblesoverhead_wobbleOmegaFactor\" id=\"layer0_prefs_bubblesoverhead_wobbleOmegaFactor\">\n\t\t\t\t\t\t<div class=\"rangeval\">1.5<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer0_prefs_bubblesoverhead_fov\">Field of View\n\t\t\t\t\t(<span id=\"layer0_prefs_bubblesoverhead_fov_valuetext\">250<\/span>)\n\t\t\t\t\t<\/label>\t\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">50<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"50\" max=\"600\" value=\"250\" step=\"10\" class=\"\" name=\"layer0_prefs_bubblesoverhead_fov\" id=\"layer0_prefs_bubblesoverhead_fov\">\n\t\t\t\t\t\t<div class=\"rangeval\">600<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer0_prefs_bubblesoverhead_currentOmegaFactor\">Current Direction Change Rate\n\t\t\t\t\t(<span id=\"layer0_prefs_bubblesoverhead_currentOmegaFactor_valuetext\">8<\/span>)\n\t\t\t\t\t<\/label>\t\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.1<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.1\" max=\"20\" value=\"8\" step=\".1\" class=\"\" name=\"layer0_prefs_bubblesoverhead_currentOmegaFactor\" id=\"layer0_prefs_bubblesoverhead_currentOmegaFactor\">\n\t\t\t\t\t\t<div class=\"rangeval\">20<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer0_prefs_bubblesoverhead_backgroundGradientOpacity\">Background Gradient Opacity\n\t\t\t\t\t(<span id=\"layer0_prefs_bubblesoverhead_backgroundGradientOpacity_valuetext\">0.3<\/span>)\n\t\t\t\t\t<\/label>\t\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0\" max=\"1\" value=\"0.3\" step=\".05\" class=\"\" name=\"layer0_prefs_bubblesoverhead_backgroundGradientOpacity\" id=\"layer0_prefs_bubblesoverhead_backgroundGradientOpacity\">\n\t\t\t\t\t\t<div class=\"rangeval\">1<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer0_prefs_bubblesoverhead_bubbleCanvasOpacity\">Bubble Opacity\n\t\t\t\t\t(<span id=\"layer0_prefs_bubblesoverhead_bubbleCanvasOpacity_valuetext\">1<\/span>)\n\t\t\t\t\t<\/label>\t\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.1<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.1\" max=\"1\" value=\"1\" step=\".05\" class=\"\" name=\"layer0_prefs_bubblesoverhead_bubbleCanvasOpacity\" id=\"layer0_prefs_bubblesoverhead_bubbleCanvasOpacity\">\n\t\t\t\t\t\t<div class=\"rangeval\">1.0<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t\n\t\t\t<div id=\"layer0_prefs_swarm\" class=\"hiding prefset\">\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer0_prefs_swarm_imagesize\">Bug Size\n\t\t\t\t\t(<span id=\"layer0_prefs_swarm_imagesize_valuetext\">1.55<\/span>)\n\t\t\t\t\t<\/label>\t\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.6<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.6\" max=\"2.05\" value=\"1.55\" step=\".05\" class=\"\" name=\"layer0_prefs_swarm_imagesize\" id=\"layer0_prefs_swarm_imagesize\">\n\t\t\t\t\t\t<div class=\"rangeval\">2.05<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer0_prefs_swarm_numfactor\">Bug Count Multiplier\n\t\t\t\t\t(<span id=\"layer0_prefs_swarm_numfactor_valuetext\">1<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t<div class=\"rangeval\">0.1<\/div>\n\t\t\t\t\t<input type=\"range\" min=\"0.1\" max=\"3.0\" value=\"1\" step=\".1\" class=\"\" name=\"layer0_prefs_swarm_numfactor\" id=\"layer0_prefs_swarm_numfactor\">\n\t\t\t\t\t<div class=\"rangeval\">3.0<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer0_prefs_swarm_birdSpeed\">Bug Speed\n\t\t\t\t\t\t(<span id=\"layer0_prefs_swarm_birdSpeed_valuetext\">0.003<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.001<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.001\" max=\"0.008\" value=\"0.003\" step=\"0.0001\" class=\"\" name=\"layer0_prefs_swarm_birdSpeed\" id=\"layer0_prefs_swarm_birdSpeed\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.008<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer0_prefs_swarm_alignmentRange\">Alignment Range\n\t\t\t\t\t\t(<span id=\"layer0_prefs_swarm_alignmentRange_valuetext\">0.003<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.001<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.001\" max=\"0.008\" value=\"0.003\" step=\"0.0001\" class=\"\" name=\"layer0_prefs_swarm_alignmentRange\" id=\"layer0_prefs_swarm_alignmentRange\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.008<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer0_prefs_swarm_alignmentStrength\">Alignment Strength\n\t\t\t\t\t\t(<span id=\"layer0_prefs_swarm_alignmentStrength_valuetext\">0.02<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.01<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.01\" max=\"0.08\" value=\"0.02\" step=\"0.001\" class=\"\" name=\"layer0_prefs_swarm_alignmentStrength\" id=\"layer0_prefs_swarm_alignmentStrength\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.08<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer0_prefs_swarm_attractionRange\">Attraction Range\n\t\t\t\t\t\t(<span id=\"layer0_prefs_swarm_attractionRange_valuetext\">0.015<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.001<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.001\" max=\"0.03\" value=\"0.015\" step=\"0.0001\" class=\"\" name=\"layer0_prefs_swarm_attractionRange\" id=\"layer0_prefs_swarm_attractionRange\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.03<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer0_prefs_swarm_attractionStrength\">Attraction Strength\n\t\t\t\t\t\t(<span id=\"layer0_prefs_swarm_attractionStrength_valuetext\">0.008<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.002<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.002\" max=\"0.012\" value=\"0.008\" step=\"0.001\" class=\"\" name=\"layer0_prefs_swarm_attractionStrength\" id=\"layer0_prefs_swarm_attractionStrength\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.012<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer0_prefs_swarm_avoidanceRange\">Avoidance Range\n\t\t\t\t\t\t(<span id=\"layer0_prefs_swarm_avoidanceRange_valuetext\">0.0018<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.001<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.001\" max=\"0.003\" value=\"0.0018\" step=\"0.0001\" class=\"\" name=\"layer0_prefs_swarm_avoidanceRange\" id=\"layer0_prefs_swarm_avoidanceRange\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.003<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer0_prefs_swarm_avoidanceStrength\">Avoidance Strength\n\t\t\t\t\t\t(<span id=\"layer0_prefs_swarm_avoidanceStrength_valuetext\">0.52<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.2<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.2\" max=\"0.8\" value=\"0.52\" step=\"0.001\" class=\"\" name=\"layer0_prefs_swarm_avoidanceStrength\" id=\"layer0_prefs_swarm_avoidanceStrength\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.8<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t<div id=\"layer0_prefs_environmentlighting\" class=\"hiding prefset\">\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t\n\t<div class=\"radiowrapper\">\n\t<label for=\"layer0_prefs_environmentlighting_none\" class=\"radiolabel\">none<\/label>\n\t<input type=\"radio\" name=\"layer0_prefs_environmentlighting_lightvalue\" \n\tid=\"layer0_prefs_environmentlighting_none\" value=\"rgba(0, 0, 0, 0)\" checked>\n\t<\/div>\n\t<div class=\"radiowrapper\">\n\t<label for=\"layer0_prefs_environmentlighting_Noon\" class=\"radiolabel\">Noon<\/label>\n\t<input type=\"radio\" name=\"layer0_prefs_environmentlighting_lightvalue\" \n\tid=\"layer0_prefs_environmentlighting_Noon\" value=\"rgba(255, 255, 251, .2)\" >\n\t<\/div>\n\t<div class=\"radiowrapper\">\n\t<label for=\"layer0_prefs_environmentlighting_Dawn\" class=\"radiolabel\">Dawn<\/label>\n\t<input type=\"radio\" name=\"layer0_prefs_environmentlighting_lightvalue\" \n\tid=\"layer0_prefs_environmentlighting_Dawn\" value=\"rgba(255, 128, 0, 0.1)\" >\n\t<\/div>\n\t<div class=\"radiowrapper\">\n\t<label for=\"layer0_prefs_environmentlighting_Dusk\" class=\"radiolabel\">Dusk<\/label>\n\t<input type=\"radio\" name=\"layer0_prefs_environmentlighting_lightvalue\" \n\tid=\"layer0_prefs_environmentlighting_Dusk\" value=\"rgba(255, 64, 0, 0.1)\" >\n\t<\/div>\n\t<div class=\"radiowrapper\">\n\t<label for=\"layer0_prefs_environmentlighting_Desert\" class=\"radiolabel\">Desert<\/label>\n\t<input type=\"radio\" name=\"layer0_prefs_environmentlighting_lightvalue\" \n\tid=\"layer0_prefs_environmentlighting_Desert\" value=\"rgba(255, 200, 0, 0.2)\" >\n\t<\/div>\n\t<div class=\"radiowrapper\">\n\t<label for=\"layer0_prefs_environmentlighting_Moonlight\" class=\"radiolabel\">Moonlight<\/label>\n\t<input type=\"radio\" name=\"layer0_prefs_environmentlighting_lightvalue\" \n\tid=\"layer0_prefs_environmentlighting_Moonlight\" value=\"rgba(0, 0, 200, 0.2)\" >\n\t<\/div>\n\t<div class=\"radiowrapper\">\n\t<label for=\"layer0_prefs_environmentlighting_Starlight\" class=\"radiolabel\">Starlight<\/label>\n\t<input type=\"radio\" name=\"layer0_prefs_environmentlighting_lightvalue\" \n\tid=\"layer0_prefs_environmentlighting_Starlight\" value=\"rgba(0, 0, 150, 0.3)\" >\n\t<\/div>\n\t<div class=\"radiowrapper\">\n\t<label for=\"layer0_prefs_environmentlighting_Twilight\" class=\"radiolabel\">Twilight<\/label>\n\t<input type=\"radio\" name=\"layer0_prefs_environmentlighting_lightvalue\" \n\tid=\"layer0_prefs_environmentlighting_Twilight\" value=\"rgba(0, 0, 100, 0.4)\" >\n\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t\n\t\t\t<div id=\"layer0_prefs_gradientedge\" class=\"hiding prefset\">\n\t\t\t\t<h4>Shape<\/h4>\n\t\t\t\t<div class=\"optioncontrol\" style=\"display:table;\">\n\t\t\t\t\t<div class=\"radiowrapper tablerow\">\n\t\t\t\t\t\t<label for=\"layer0_prefs_gradientedge_geGradientTypeRect\" class=\"tablecell\">Rectangular<\/label>\n\t\t\t\t\t\t<input type=\"radio\" class=\"tablecell\"\n\t\t\t\t\t\tname=\"layer0_prefs_gradientedge_geGradientType\" \n\t\t\t\t\t\tid=\"layer0_prefs_gradientedge_geGradientType\" value=\"1\" checked>\n\t\t\t\t\t\t<input type=\"radio\" class=\"tablecell\"\n\t\t\t\t\t\tname=\"layer0_prefs_gradientedge_geGradientType\" \n\t\t\t\t\t\tid=\"layer0_prefs_gradientedge_geGradientTypeRad\" value=\"0\" >\n\t\t\t\t\t\t<label for=\"layer0_prefs_gradientedge_geGradientType\" class=\"tablecell\">Radial<\/label>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer0_prefs_gradientedge_geWidth\">Width\n\t\t\t\t\t(<span id=\"layer0_prefs_gradientedge_geWidth_valuetext\">18<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t<div class=\"rangeval\">0%<\/div>\n\t\t\t\t\t<input type=\"range\" min=\"0\" max=\"49\" value=\"18\" step=\"1\" class=\"\" name=\"layer0_prefs_gradientedge_geWidth\" id=\"layer0_prefs_gradientedge_geWidth\">\n\t\t\t\t\t<div class=\"rangeval\">49%<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<h4>Colour<\/h4>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<input type=\"color\" class=\"\" value=\"#24243e\" name=\"layer0_prefs_gradientedge_geColorOutside\" id=\"layer0_prefs_gradientedge_geColorOutside\">\n\t\t\t\t\t<label for=\"layer0_prefs_gradientedge_geColorOutside\">Outside<\/label>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<input type=\"color\" class=\"\" value=\"#302b63\" name=\"layer0_prefs_gradientedge_geColorInside\" id=\"layer0_prefs_gradientedge_geColorInside\">\n\t\t\t\t\t<label for=\"layer0_prefs_gradientedge_geColorInside\">Inside<\/label>\n\t\t\t\t<\/div>\n\t\t\t\t<h4>Opacity<\/h4>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer0_prefs_gradientedge_geOpacityEdge\">Outside\n\t\t\t\t\t(<span id=\"layer0_prefs_gradientedge_geOpacityEdge_valuetext\">45<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t<div class=\"rangeval\">0%<\/div>\n\t\t\t\t\t<input type=\"range\" min=\"0\" max=\"100\" value=\"45\" step=\"1\" class=\"\" name=\"layer0_prefs_gradientedge_geOpacityEdge\" id=\"layer0_prefs_gradientedge_geOpacityEdge\">\n\t\t\t\t\t<div class=\"rangeval\">100%<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer0_prefs_gradientedge_geOpacityCenter\">Inside\n\t\t\t\t\t(<span id=\"layer0_prefs_gradientedge_geOpacityCenter_valuetext\">0<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t<div class=\"rangeval\">0%<\/div>\n\t\t\t\t\t<input type=\"range\" min=\"0\" max=\"100\" value=\"0\" step=\"1\" class=\"\" name=\"layer0_prefs_gradientedge_geOpacityCenter\" id=\"layer0_prefs_gradientedge_geOpacityCenter\">\n\t\t\t\t\t<div class=\"rangeval\">100%<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t<div id=\"layer0_prefs_splat\" class=\"hiding prefset\">\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer0_prefs_splat_duration\">Duration\n\t\t\t\t\t(<span id=\"layer0_prefs_splat_duration_valuetext\">15<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t<div class=\"rangeval\">6s<\/div>\n\t\t\t\t\t<input type=\"range\" min=\"6\" max=\"20\" value=\"15\" step=\"0.5\" class=\"\" name=\"layer0_prefs_splat_duration\" id=\"layer0_prefs_splat_duration\">\n\t\t\t\t\t<div class=\"rangeval\">20s<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol table\">\n\t\t\t\t\t<div class=\"optioncontrol tablerow\">\n\t\t\t\t\t\t<label class=\"selectlabel tablecell\" for=\"layer0_prefs_splat_ontoken\">Victim<\/label>\n\t\t\t\t\t\t<select class=\"tokenSelect tablecell\" id=\"layer0_prefs_splat_ontoken\" name=\"layer0_prefs_splat_ontoken\">\n\t\t\t\t\t\t<option value=\"none\" selected>none<\/option><option value=\"Furby\">Furby<\/option><\/select>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"optioncontrol tablerow\">\n\t\t\t\t\t\t<label class=\"checklabel tablecell\" for=\"layer0_prefs_splat_owneronly\">Show Owner Only<\/label>\n\t\t\t\t\t\t<input type=\"hidden\" name=\"layer0_prefs_splat_owneronly\" value=\"0\">\n\t\t\t\t\t\t<input type=\"checkbox\" name=\"layer0_prefs_splat_owneronly\" id=\"layer0_prefs_splat_owneronly\" value=1 checked>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"optioncontrol tablerow\">\n\t\t\t\t\t\t<label class=\"checklabel tablecell\" for=\"layer0_prefs_splat_runaandfade\">Fade away<\/label>\n\t\t\t\t\t\t<input type=\"hidden\" name=\"layer0_prefs_splat_runaandfade\" value=\"0\">\n\t\t\t\t\t\t<input type=\"checkbox\" name=\"layer0_prefs_splat_runaandfade\" id=\"layer0_prefs_splat_runaandfade\" value=1 checked>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t\n\t\t\t<div id=\"layer0_prefs_bloodied\" class=\"hiding prefset\">\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer0_prefs_bloodied_borderwidth\">Border Width\n\t\t\t\t\t(<span id=\"layer0_prefs_bloodied_borderwidth_valuetext\">12<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t<div class=\"rangeval\">6vw<\/div>\n\t\t\t\t\t<input type=\"range\" min=\"6\" max=\"30\" value=\"12\" step=\"0.5\" class=\"\" name=\"layer0_prefs_bloodied_borderwidth\" id=\"layer0_prefs_bloodied_borderwidth\">\n\t\t\t\t\t<div class=\"rangeval\">30vw<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer0_prefs_bloodied_bloodfilter\">Red Filter Opacty\n\t\t\t\t\t(<span id=\"layer0_prefs_bloodied_bloodfilter_valuetext\">0.5<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t<div class=\"rangeval\">0%<\/div>\n\t\t\t\t\t<input type=\"range\" min=\"0\" max=\"1\" value=\"0.5\" step=\"0.05\" class=\"\" name=\"layer0_prefs_bloodied_bloodfilter\" id=\"layer0_prefs_bloodied_bloodfilter\">\n\t\t\t\t\t<div class=\"rangeval\">100%<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t<\/div>",
    "controlPanel_lightvalueInput": "\n\t<div class=\"radiowrapper\">\n\t<label for=\"layer%{i}_prefs_environmentlighting_none\" class=\"radiolabel\">none<\/label>\n\t<input type=\"radio\" name=\"layer%{i}_prefs_environmentlighting_lightvalue\" \n\tid=\"layer%{i}_prefs_environmentlighting_none\" value=\"rgba(0, 0, 0, 0)\" checked>\n\t<\/div>\n\t<div class=\"radiowrapper\">\n\t<label for=\"layer%{i}_prefs_environmentlighting_Noon\" class=\"radiolabel\">Noon<\/label>\n\t<input type=\"radio\" name=\"layer%{i}_prefs_environmentlighting_lightvalue\" \n\tid=\"layer%{i}_prefs_environmentlighting_Noon\" value=\"rgba(255, 255, 251, .2)\" >\n\t<\/div>\n\t<div class=\"radiowrapper\">\n\t<label for=\"layer%{i}_prefs_environmentlighting_Dawn\" class=\"radiolabel\">Dawn<\/label>\n\t<input type=\"radio\" name=\"layer%{i}_prefs_environmentlighting_lightvalue\" \n\tid=\"layer%{i}_prefs_environmentlighting_Dawn\" value=\"rgba(255, 128, 0, 0.1)\" >\n\t<\/div>\n\t<div class=\"radiowrapper\">\n\t<label for=\"layer%{i}_prefs_environmentlighting_Dusk\" class=\"radiolabel\">Dusk<\/label>\n\t<input type=\"radio\" name=\"layer%{i}_prefs_environmentlighting_lightvalue\" \n\tid=\"layer%{i}_prefs_environmentlighting_Dusk\" value=\"rgba(255, 64, 0, 0.1)\" >\n\t<\/div>\n\t<div class=\"radiowrapper\">\n\t<label for=\"layer%{i}_prefs_environmentlighting_Desert\" class=\"radiolabel\">Desert<\/label>\n\t<input type=\"radio\" name=\"layer%{i}_prefs_environmentlighting_lightvalue\" \n\tid=\"layer%{i}_prefs_environmentlighting_Desert\" value=\"rgba(255, 200, 0, 0.2)\" >\n\t<\/div>\n\t<div class=\"radiowrapper\">\n\t<label for=\"layer%{i}_prefs_environmentlighting_Moonlight\" class=\"radiolabel\">Moonlight<\/label>\n\t<input type=\"radio\" name=\"layer%{i}_prefs_environmentlighting_lightvalue\" \n\tid=\"layer%{i}_prefs_environmentlighting_Moonlight\" value=\"rgba(0, 0, 200, 0.2)\" >\n\t<\/div>\n\t<div class=\"radiowrapper\">\n\t<label for=\"layer%{i}_prefs_environmentlighting_Starlight\" class=\"radiolabel\">Starlight<\/label>\n\t<input type=\"radio\" name=\"layer%{i}_prefs_environmentlighting_lightvalue\" \n\tid=\"layer%{i}_prefs_environmentlighting_Starlight\" value=\"rgba(0, 0, 150, 0.3)\" >\n\t<\/div>\n\t<div class=\"radiowrapper\">\n\t<label for=\"layer%{i}_prefs_environmentlighting_Twilight\" class=\"radiolabel\">Twilight<\/label>\n\t<input type=\"radio\" name=\"layer%{i}_prefs_environmentlighting_lightvalue\" \n\tid=\"layer%{i}_prefs_environmentlighting_Twilight\" value=\"rgba(0, 0, 100, 0.4)\" >\n\t<\/div>",
    "controlPanel_olObj":     {
      "Lighting": ["Environment Lighting"],
      "Ground":       [
        "Drifting Light Rays",
        "Fog",
        "Smoke",
        "Stalag 13"
      ],
      "Fruit":       [
        "Birds",
        "Bubbles Overhead",
        "Falling Leaves",
        "Firefight",
        "Firefront",
        "Parade",
        "Sandstorm",
        "Swarm"
      ],
      "Rain":       [
        "Lightning",
        "Rainbow",
        "Rain",
        "Rain Heavy",
        "Rain Overhead",
        "Thunderstorm"
      ],
      "Snow":       [
        "Blizzard",
        "Snow",
        "Snow2"
      ],
      "Space":       [
        "Meteor1",
        "Meteor2",
        "Meteor3",
        "Starfield1",
        "Starfield2"
      ],
      "Border":       [
        "Bloodied",
        "Gradient Edge",
        "Neon Border",
        "Splat"
      ]
    },
    "controlPanel_settings":     {
      "devCache": 1,
      "topLayer": 3,
      "topSound": 3
    },
    "controlPanel_soundMenu": "<select class=\"soundmenu\" name=\"sound%{i}\" id=\"sound%{i}\"><option value=\"none\">none<\/option><option value=\"Wind.Blizzard\">Wind.Blizzard<\/option><option value=\"Rain.Heavy\">Rain.Heavy<\/option><option value=\"Rain.Medium\">Rain.Medium<\/option><option value=\"Rain.Light\">Rain.Light<\/option><option value=\"Thundersturm\">Thundersturm<\/option><option value=\"Underwater\">Underwater<\/option><option value=\"Wind.Strong\">Wind.Strong<\/option><option value=\"Wind.Light\">Wind.Light<\/option><\/select>",
    "controlPanel_soundPrefHTML": "\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t<div id=\"sound3_prefs\" class=\"hiding soundprefs\">\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"sound3_prefs_volume\">Volume\n\t\t\t\t\t(<span id=\"sound3_prefs_volume_valuetext\">1<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.00<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.00\" max=\"1.00\" value=\"1\" step=\".01\" class=\"\" name=\"sound3_prefs_volume\" id=\"sound3_prefs_volume\">\n\t\t\t\t\t\t<div class=\"rangeval\">1.00<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\" style=\"display:table;\">\n\t\t\t\t\t<div class=\"radiowrapper tablerow\">\n\t\t\t\t\t\t<label for=\"sound3_prefs_loop0\" class=\"tablecell\">Play Once<\/label>\n\t\t\t\t\t\t<input type=\"radio\" class=\"tablecell\" name=\"sound3_prefs_loop\" id=\"sound3_prefs_loop0\" value=\"1\">\n\t\t\t\t\t\t<input type=\"radio\" class=\"tablecell\" name=\"sound3_prefs_loop\" id=\"sound3_prefs_loop1\" value=\"-1\" checked>\n\t\t\t\t\t\t<label for=\"sound3_prefs_loop1\" class=\"tablecell\">Loop<\/label>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"sound3_prefs_start\">Start Time Offset\n\t\t\t\t\t(<span id=\"sound3_prefs_start_valuetext\">1<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.00<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.00\" max=\"1.00\" value=\"0\" step=\".01\" class=\"\" name=\"sound3_prefs_start\" id=\"sound3_prefs_start\">\n\t\t\t\t\t\t<div class=\"rangeval\">1.00<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"sound3_prefs_stop\">Stop Time Offset\n\t\t\t\t\t(<span id=\"sound3_prefs_stop_valuetext\">1000<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0\" max=\"1000\" value=\"1000\" step=\"1\" class=\"\" name=\"sound3_prefs_stop\" id=\"sound3_prefs_stop\">\n\t\t\t\t\t\t<div class=\"rangeval\">1,000<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\n\t\t\t<div id=\"sound2_prefs\" class=\"hiding soundprefs\">\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"sound2_prefs_volume\">Volume\n\t\t\t\t\t(<span id=\"sound2_prefs_volume_valuetext\">1<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.00<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.00\" max=\"1.00\" value=\"1\" step=\".01\" class=\"\" name=\"sound2_prefs_volume\" id=\"sound2_prefs_volume\">\n\t\t\t\t\t\t<div class=\"rangeval\">1.00<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\" style=\"display:table;\">\n\t\t\t\t\t<div class=\"radiowrapper tablerow\">\n\t\t\t\t\t\t<label for=\"sound2_prefs_loop0\" class=\"tablecell\">Play Once<\/label>\n\t\t\t\t\t\t<input type=\"radio\" class=\"tablecell\" name=\"sound2_prefs_loop\" id=\"sound2_prefs_loop0\" value=\"1\">\n\t\t\t\t\t\t<input type=\"radio\" class=\"tablecell\" name=\"sound2_prefs_loop\" id=\"sound2_prefs_loop1\" value=\"-1\" checked>\n\t\t\t\t\t\t<label for=\"sound2_prefs_loop1\" class=\"tablecell\">Loop<\/label>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"sound2_prefs_start\">Start Time Offset\n\t\t\t\t\t(<span id=\"sound2_prefs_start_valuetext\">1<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.00<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.00\" max=\"1.00\" value=\"0\" step=\".01\" class=\"\" name=\"sound2_prefs_start\" id=\"sound2_prefs_start\">\n\t\t\t\t\t\t<div class=\"rangeval\">1.00<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"sound2_prefs_stop\">Stop Time Offset\n\t\t\t\t\t(<span id=\"sound2_prefs_stop_valuetext\">1000<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0\" max=\"1000\" value=\"1000\" step=\"1\" class=\"\" name=\"sound2_prefs_stop\" id=\"sound2_prefs_stop\">\n\t\t\t\t\t\t<div class=\"rangeval\">1,000<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\n\t\t\t<div id=\"sound1_prefs\" class=\"hiding soundprefs\">\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"sound1_prefs_volume\">Volume\n\t\t\t\t\t(<span id=\"sound1_prefs_volume_valuetext\">1<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.00<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.00\" max=\"1.00\" value=\"1\" step=\".01\" class=\"\" name=\"sound1_prefs_volume\" id=\"sound1_prefs_volume\">\n\t\t\t\t\t\t<div class=\"rangeval\">1.00<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\" style=\"display:table;\">\n\t\t\t\t\t<div class=\"radiowrapper tablerow\">\n\t\t\t\t\t\t<label for=\"sound1_prefs_loop0\" class=\"tablecell\">Play Once<\/label>\n\t\t\t\t\t\t<input type=\"radio\" class=\"tablecell\" name=\"sound1_prefs_loop\" id=\"sound1_prefs_loop0\" value=\"1\">\n\t\t\t\t\t\t<input type=\"radio\" class=\"tablecell\" name=\"sound1_prefs_loop\" id=\"sound1_prefs_loop1\" value=\"-1\" checked>\n\t\t\t\t\t\t<label for=\"sound1_prefs_loop1\" class=\"tablecell\">Loop<\/label>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"sound1_prefs_start\">Start Time Offset\n\t\t\t\t\t(<span id=\"sound1_prefs_start_valuetext\">1<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.00<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.00\" max=\"1.00\" value=\"0\" step=\".01\" class=\"\" name=\"sound1_prefs_start\" id=\"sound1_prefs_start\">\n\t\t\t\t\t\t<div class=\"rangeval\">1.00<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"sound1_prefs_stop\">Stop Time Offset\n\t\t\t\t\t(<span id=\"sound1_prefs_stop_valuetext\">1000<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0\" max=\"1000\" value=\"1000\" step=\"1\" class=\"\" name=\"sound1_prefs_stop\" id=\"sound1_prefs_stop\">\n\t\t\t\t\t\t<div class=\"rangeval\">1,000<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\n\t\t\t<div id=\"sound0_prefs\" class=\"hiding soundprefs\">\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"sound0_prefs_volume\">Volume\n\t\t\t\t\t(<span id=\"sound0_prefs_volume_valuetext\">1<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.00<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.00\" max=\"1.00\" value=\"1\" step=\".01\" class=\"\" name=\"sound0_prefs_volume\" id=\"sound0_prefs_volume\">\n\t\t\t\t\t\t<div class=\"rangeval\">1.00<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\" style=\"display:table;\">\n\t\t\t\t\t<div class=\"radiowrapper tablerow\">\n\t\t\t\t\t\t<label for=\"sound0_prefs_loop0\" class=\"tablecell\">Play Once<\/label>\n\t\t\t\t\t\t<input type=\"radio\" class=\"tablecell\" name=\"sound0_prefs_loop\" id=\"sound0_prefs_loop0\" value=\"1\">\n\t\t\t\t\t\t<input type=\"radio\" class=\"tablecell\" name=\"sound0_prefs_loop\" id=\"sound0_prefs_loop1\" value=\"-1\" checked>\n\t\t\t\t\t\t<label for=\"sound0_prefs_loop1\" class=\"tablecell\">Loop<\/label>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"sound0_prefs_start\">Start Time Offset\n\t\t\t\t\t(<span id=\"sound0_prefs_start_valuetext\">1<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.00<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.00\" max=\"1.00\" value=\"0\" step=\".01\" class=\"\" name=\"sound0_prefs_start\" id=\"sound0_prefs_start\">\n\t\t\t\t\t\t<div class=\"rangeval\">1.00<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"sound0_prefs_stop\">Stop Time Offset\n\t\t\t\t\t(<span id=\"sound0_prefs_stop_valuetext\">1000<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0\" max=\"1000\" value=\"1000\" step=\"1\" class=\"\" name=\"sound0_prefs_stop\" id=\"sound0_prefs_stop\">\n\t\t\t\t\t\t<div class=\"rangeval\">1,000<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t",
    "lightValues":     {
      "none": "rgba(0, 0, 0, 0)",
      "Noon": "rgba(255, 255, 251, .2)",
      "Dawn": "rgba(255, 128, 0, 0.1)",
      "Dusk": "rgba(255, 64, 0, 0.1)",
      "Desert": "rgba(255, 200, 0, 0.2)",
      "Moonlight": "rgba(0, 0, 200, 0.2)",
      "Starlight": "rgba(0, 0, 150, 0.3)",
      "Twilight": "rgba(0, 0, 100, 0.4)"
    },
    "rpe.allIndexes": "",
    "rpe.macroGroups": "",
    "rpe.options": "",
    "sfxShortcutHistory":     {
      "Rain.Heavy": 1,
      "Rain.Light": 1,
      "Rain.Medium": 0,
      "Thundersturm": 1,
      "Underwater": 0,
      "Wind.Blizzard": 0,
      "Wind.Light": 1,
      "Wind.Strong": 0
    },
    "soundLinks":     {
      "Rain.Light": "https://dl.dropboxusercontent.com/s/zo9qp9pklzve9m2/Rain%20Light.mp3",
      "Rain.Medium": "https://dl.dropboxusercontent.com/s/82dr1sejz77aa4w/Rain%20Medium.mp3",
      "Rain.Heavy": "https://dl.dropboxusercontent.com/s/hp0zitmjd6rziu5/Rain%20Heavy%20.mp3",
      "Thundersturm": "https://dl.dropboxusercontent.com/s/9hboyg658w2prhz/Thunderstorm.mp3",
      "Wind.Light": "https://dl.dropboxusercontent.com/s/7a2grk6lsh2785z/Wind%20Light.mp3",
      "Wind.Strong": "https://dl.dropboxusercontent.com/s/4lxbrkgmxb41omz/Wind%20Strong.mp3",
      "Wind.Blizzard": "https://dl.dropboxusercontent.com/s/a4wa5hnyzoq4fey/Wind%20Blizzard.mp3",
      "Underwater": "https://dl.dropboxusercontent.com/s/afpgwp0m0c4gk3a/Underwater.mp3"
    },
    "soundPanel_channelProps": "",
    "soundPanel_settings":     {
      "devCache": 0,
      "channelCount": 6
    },
    "vfxShortcutButtons":     {
      "Birds": "<div name=\"Birds\" id=\"Birds\"><span title=\"Birds\"><a href='macro://runMacro@lib:weather/all/lib:weather?%5B%22Birds%22%2C0%5D'>Birds<\/a><\/span><\/div>",
      "Blizzard": "<div name=\"Blizzard\" id=\"Blizzard\"><span title=\"Blizzard\"><a href='macro://runMacro@lib:weather/all/lib:weather?%5B%22Blizzard%22%2C0%5D'>Blizzard<\/a><\/span><\/div>",
      "Bloodied": "<div name=\"Bloodied\" id=\"Bloodied\"><span title=\"Bloodied\"><a href='macro://runMacro@lib:weather/all/lib:weather?%5B%22Bloodied%22%2C0%5D'>Bloodied<\/a><\/span><\/div>",
      "Bubbles Overhead": "<div name=\"Bubbles Overhead\" id=\"Bubbles_Overhead\"><span title=\"Bubbles Overhead\"><a href='macro://runMacro@lib:weather/all/lib:weather?%5B%22Bubbles+Overhead%22%2C0%5D'>Bubbles Overhead<\/a><\/span><\/div>",
      "Drifting Light Rays": "<div name=\"Drifting Light Rays\" id=\"Drifting_Light_Rays\"><span title=\"Drifting Light Rays\"><a href='macro://runMacro@lib:weather/all/lib:weather?%5B%22Drifting+Light+Rays%22%2C0%5D'>Drifting Light Rays<\/a><\/span><\/div>",
      "Environment Lighting": "<div name=\"Environment Lighting\" id=\"Environment_Lighting\"><span title=\"Environment Lighting\"><a href='macro://runMacro@lib:weather/all/lib:weather?%5B%22Environment+Lighting%22%2C0%5D'>Environment Lighting<\/a><\/span><\/div>",
      "Falling Leaves": "<div name=\"Falling Leaves\" id=\"Falling_Leaves\"><span title=\"Falling Leaves\"><a href='macro://runMacro@lib:weather/all/lib:weather?%5B%22Falling+Leaves%22%2C0%5D'>Falling Leaves<\/a><\/span><\/div>",
      "Firefight": "<div name=\"Firefight\" id=\"Firefight\"><span title=\"Firefight\"><a href='macro://runMacro@lib:weather/all/lib:weather?%5B%22Firefight%22%2C0%5D'>Firefight<\/a><\/span><\/div>",
      "Firefront": "<div name=\"Firefront\" id=\"Firefront\"><span title=\"Firefront\"><a href='macro://runMacro@lib:weather/all/lib:weather?%5B%22Firefront%22%2C0%5D'>Firefront<\/a><\/span><\/div>",
      "Fog": "<div name=\"Fog\" id=\"Fog\"><span title=\"Fog\"><a href='macro://runMacro@lib:weather/all/lib:weather?%5B%22Fog%22%2C0%5D'>Fog<\/a><\/span><\/div>",
      "Gradient Edge": "<div name=\"Gradient Edge\" id=\"Gradient_Edge\"><span title=\"Gradient Edge\"><a href='macro://runMacro@lib:weather/all/lib:weather?%5B%22Gradient+Edge%22%2C0%5D'>Gradient Edge<\/a><\/span><\/div>",
      "Lightning": "<div name=\"Lightning\" id=\"Lightning\"><span title=\"Lightning\"><a href='macro://runMacro@lib:weather/all/lib:weather?%5B%22Lightning%22%2C0%5D'>Lightning<\/a><\/span><\/div>",
      "Meteor1": "<div name=\"Meteor1\" id=\"Meteor1\"><span title=\"Meteor1\"><a href='macro://runMacro@lib:weather/all/lib:weather?%5B%22Meteor1%22%2C0%5D'>Meteor1<\/a><\/span><\/div>",
      "Meteor2": "<div name=\"Meteor2\" id=\"Meteor2\"><span title=\"Meteor2\"><a href='macro://runMacro@lib:weather/all/lib:weather?%5B%22Meteor2%22%2C0%5D'>Meteor2<\/a><\/span><\/div>",
      "Meteor3": "<div name=\"Meteor3\" id=\"Meteor3\"><span title=\"Meteor3\"><a href='macro://runMacro@lib:weather/all/lib:weather?%5B%22Meteor3%22%2C0%5D'>Meteor3<\/a><\/span><\/div>",
      "Neon Border": "<div name=\"Neon Border\" id=\"Neon_Border\"><span title=\"Neon Border\"><a href='macro://runMacro@lib:weather/all/lib:weather?%5B%22Neon+Border%22%2C0%5D'>Neon Border<\/a><\/span><\/div>",
      "Parade": "<div name=\"Parade\" id=\"Parade\"><span title=\"Parade\"><a href='macro://runMacro@lib:weather/all/lib:weather?%5B%22Parade%22%2C0%5D'>Parade<\/a><\/span><\/div>",
      "Rain": "<div name=\"Rain\" id=\"Rain\"><span title=\"Rain\"><a href='macro://runMacro@lib:weather/all/lib:weather?%5B%22Rain%22%2C0%5D'>Rain<\/a><\/span><\/div>",
      "Rain Heavy": "<div name=\"Rain Heavy\" id=\"Rain_Heavy\"><span title=\"Rain Heavy\"><a href='macro://runMacro@lib:weather/all/lib:weather?%5B%22Rain+Heavy%22%2C0%5D'>Rain Heavy<\/a><\/span><\/div>",
      "Rain Overhead": "<div name=\"Rain Overhead\" id=\"Rain_Overhead\"><span title=\"Rain Overhead\"><a href='macro://runMacro@lib:weather/all/lib:weather?%5B%22Rain+Overhead%22%2C0%5D'>Rain Overhead<\/a><\/span><\/div>",
      "Rainbow": "<div name=\"Rainbow\" id=\"Rainbow\"><span title=\"Rainbow\"><a href='macro://runMacro@lib:weather/all/lib:weather?%5B%22Rainbow%22%2C0%5D'>Rainbow<\/a><\/span><\/div>",
      "Sandstorm": "<div name=\"Sandstorm\" id=\"Sandstorm\"><span title=\"Sandstorm\"><a href='macro://runMacro@lib:weather/all/lib:weather?%5B%22Sandstorm%22%2C0%5D'>Sandstorm<\/a><\/span><\/div>",
      "Smoke": "<div name=\"Smoke\" id=\"Smoke\"><span title=\"Smoke\"><a href='macro://runMacro@lib:weather/all/lib:weather?%5B%22Smoke%22%2C0%5D'>Smoke<\/a><\/span><\/div>",
      "Snow": "<div name=\"Snow\" id=\"Snow\"><span title=\"Snow\"><a href='macro://runMacro@lib:weather/all/lib:weather?%5B%22Snow%22%2C0%5D'>Snow<\/a><\/span><\/div>",
      "Snow2": "<div name=\"Snow2\" id=\"Snow2\"><span title=\"Snow2\"><a href='macro://runMacro@lib:weather/all/lib:weather?%5B%22Snow2%22%2C0%5D'>Snow2<\/a><\/span><\/div>",
      "Splat": "<div name=\"Splat\" id=\"Splat\"><span title=\"Splat\"><a href='macro://runMacro@lib:weather/all/lib:weather?%5B%22Splat%22%2C0%5D'>Splat<\/a><\/span><\/div>",
      "Stalag 13": "<div name=\"Stalag 13\" id=\"Stalag_13\"><span title=\"Stalag 13\"><a href='macro://runMacro@lib:weather/all/lib:weather?%5B%22Stalag+13%22%2C0%5D'>Stalag 13<\/a><\/span><\/div>",
      "Starfield1": "<div name=\"Starfield1\" id=\"Starfield1\"><span title=\"Starfield1\"><a href='macro://runMacro@lib:weather/all/lib:weather?%5B%22Starfield1%22%2C0%5D'>Starfield1<\/a><\/span><\/div>",
      "Starfield2": "<div name=\"Starfield2\" id=\"Starfield2\"><span title=\"Starfield2\"><a href='macro://runMacro@lib:weather/all/lib:weather?%5B%22Starfield2%22%2C0%5D'>Starfield2<\/a><\/span><\/div>",
      "Swarm": "<div name=\"Swarm\" id=\"Swarm\"><span title=\"Swarm\"><a href='macro://runMacro@lib:weather/all/lib:weather?%5B%22Swarm%22%2C0%5D'>Swarm<\/a><\/span><\/div>"
    },
    "vfxShortcutHistory":     {
      "Bubbles_Overhead": 0,
      "Bloodied": 0,
      "Splat": 0,
      "Snow": 1,
      "Parade": 0,
      "Rain": 0,
      "Thunderstorm": 1,
      "Rain_Heavy": 0,
      "Rainbow": 0,
      "Starfield1": 0,
      "Fog": 1,
      "Lightning": 0,
      "Smoke": 1,
      "Starfield2": 0,
      "Stalag_13": 1,
      "Meteor1": 0,
      "Meteor2": 0,
      "Meteor3": 0,
      "Drifting_Light_Rays": 0,
      "Falling_Leaves": 1,
      "Neon_Border": 0,
      "Rain_Overhead": 1,
      "Firefront": 0,
      "Birds": 1,
      "Firefight": 0,
      "Blizzard": 0,
      "Snow2": 0,
      "Swarm": 0,
      "Template": 1,
      "Environment_Lighting": 0,
      "Gradient_Edge": 0,
      "Sandstorm": 0
    },
    "vfxShortcut_css": "\n:root{\n\t--background-color: #ddeeff;\n\t--border:1px dotted #aaaaff;\n\t--border-radius: 6px;\n\t--color: navy;\n\t--cursor: pointer;\n\t--float:left;\n\t--font-size: 9pt;\n\t--margin-bottom: 6px;\n\t--overflow: hidden;\n\t--padding: 2px 4px;\n\t--text-align: center;\n\t--text-decoration:none;\n\t--text-overflow: ellipsis;\n\t--text-shadow: 1px 1px 2px white, -1px -1px 2px white, 1px -1px 3px white, -1px 1px 3px white;\n\t--white-space: nowrap;\n\t--max-width: 140px;\n\t--width: 94vw;\n}\n\n* {\n\tbox-sizing: border-box;\n\tmargin: 0;\n\tpadding:0;\n}\n.buttonContainer {\n\tmargin:6px;\n}\nspan { width:100%; }\nbody {\n\tbackground: white;\n}\na {\nbackground-color: var(--background-color);\nborder:           var(--border);\nborder-radius:    var(--border-radius);\ncolor:            var(--color);\ncursor:           var(--cursor);\nfloat:            var(--float);\nfont-size:        var(--font-size);\nmargin-bottom:    var(--margin-bottom);\noverflow:         var(--overflow);\npadding:          var(--padding);\ntext-align:       var(--text-align);\ntext-decoration:  var(--text-decoration);\ntext-overflow:    var(--text-overflow);\ntext-shadow:      var(--text-shadow);\nwhite-space:      var(--white-space);\nmax-width:        var(--max-width);\nwidth:            var(--width);\n}\n.close {\n\tbackground-color: #ffddee;\n\tborder:1px dotted #ffaaaa;\n\tcolor: maroon;\n}\n.close:hover {\n\tbackground-color: #ffeeee; \n\tbackground-image: \n\t\trepeating-radial-gradient(#ffeeee 0%, #ffdad0 4%);\n\tborder:1px solid #ff8888;\n\t\n}\na:hover {\n\tbackground-color: #eeeeff; \n\tbackground-image: \n\t\trepeating-radial-gradient(#eeeeff 0%, #dad0ff 4%);\n\tborder:1px solid #8888ff;\n\t}\n"
  },
  "macros":   [
        {
      "autoExecute": true,
      "color": "#dcecff",
      "fontColor": "black",
      "group": "Overlay Effects",
      "includeLabel": false,
      "sortBy": "10",
      "index": 128,
      "label": "Bubbles Overhead",
      "fontSize": "1.00em",
      "minWidth": "110",
      "playerEditable": false,
      "command": "[h: bubblesize = 0.4                ][h: '<!-- big or small bubbles multiplier                          -->']\n[h: bubblefactor = 0.6              ][h: '<!-- number of bubbles multiplier                             -->']\n[h: bubbleAcceleration = 22         ][h: '<!-- determines speed of rise                                 -->']\n[h: bubbleDepth = 1240              ][h: '<!-- distance travelled                                       -->']\n[h: bubbleMassBase = 0.8            ][h: '<!-- bubble mass determines degree of effect of current flow  -->']\n[h: bubbleMassVariation = 0.2       ]\n[h: wobbleStrength = 0.1            ][h: '<!-- how far do bubbles wobble multiplier                     -->']\n[h: wobbleOmegaFactor = 0.1         ][h: '<!-- rotational velocity of wobble multiplier                 -->']\n[h: fov = 250                       ][h: '<!-- changes perspective angle                                -->']\n[h: currentOmegaFactor = 8          ][h: '<!-- rotational velocity of changing current\t\t\t\t\t-->']\n[h: backgroundGradientOpacity = 0.3 ]\n[h: bubbleCanvasOpacity = 1         ]\n\n[h: overlayName = \"fx0\"][h: zOrder      =    -1][h: layerOpacity = 1   ]\n[h, if(json.type(macro.args)==\"OBJECT\"): json.toVars(macro.args)]\n\n[h: css=strformat('\n* {\n\tbox-sizing: border-box;\n\tmargin: 0;\n\tpadding: 0;\n}\nbody {\n\theight: 100vh;\n\topacity: 1;\n\toverflow: hidden;\n\twidth: 100vw;\n\tbackground: transparent; \n}\n.container {\n\tleft: 0;\n\tposition: absolute;\n\twidth: 100vw;\n\theight: 100vh;\n\tbackground: -webkit-radial-gradient(circle, #1a82f7, #2F2727);\n\topacity:0.21;\n\ttop: 0;\n}\ncanvas {\n  display: block;\n  width: 100%;\n  height: 100%;\n  position: relative;\n  z-index: 10;\n}\n.overheadCanvas {\n  background-color: transparent;\n  position:fixed;\n  top:0;\n  left:0;\n}\n')]\n\n\n[r, overlay(overlayName, zOrder): {\n[r: strformat('\n<html>\n<head>\n<title>Bubbles<\/title>\n<meta charset=\"UTF-8\"><meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n<style>%{css}\n<\/style>\n<\/head>\n<body>\n<div class=\"container\" id=\"container\"><\/div>\n<script>\n\"use strict\"  \nvar fov                       = %{fov}                      // changes perspective angle\nvar bubblesize                = %{bubblesize}               // big or small bubbles multiplier\nvar bubblefactor              = %{bubblefactor}             // number of bubbles multiplier\nvar wobbleStrength            = %{wobbleStrength}           // how far do bubbles wobble multiplier\nvar wobbleOmegaFactor         = %{wobbleOmegaFactor}        // rotational velocity of wobble multiplier\nvar bubbleAcceleration        = %{bubbleAcceleration}       // determines speed of rise\nvar bubbleDepth               = %{bubbleDepth}              // distance travelled\nvar bubbleMassBase            = %{bubbleMassBase}           // bubble mass determines degree of effect of current flow\nvar bubbleMassVariation       = %{bubbleMassVariation}      \nvar currentOmegaFactor        = %{currentOmegaFactor}       // rotational velocity of changing current\nvar backgroundGradientOpacity = %{backgroundGradientOpacity}\nvar bubbleCanvasOpacity       = %{bubbleCanvasOpacity}      \n\nvar cnv0;\nvar ctx0;\n\nvar wWidth = window.innerWidth;\nvar wHeight= window.innerHeight;\nvar eye = new Vector3D(wWidth/2, wHeight/2, Math.max(wWidth, wHeight));\n\nvar bubbles = new Array();\nvar bubbleRadius = 14 * bubblesize;\nvar maxbubbles = Math.floor(100 * bubblefactor);\n\nvar zStart = 1;\nvar zEnd = bubbleDepth;\nvar riserate = new Vector3D(0,0,bubbleAcceleration);\n\nvar t0, dt, animId;\nvar fps = 60;\n\nvar force;\nvar acc;\nvar forceField;\nvar forceTheta = 0;\n\nfunction Forces(){}\nForces.zeroForce = function() {\treturn (new Vector3D(0,0,0));}\nForces.forceField = function(q,E) {\treturn E.multiply(q);}\nForces.add = function(arr){\n\t\tvar forceSum = new Vector3D(0,0,0);\n\t\tfor (var i=0; i<arr.length; i++){\n\t\tvar force = arr[i];\n\t\tforceSum.incrementBy(force);\n\t}\n\treturn forceSum;\n}\n\nfunction Vector3D(x,y,z) {\n\tthis.x = x;\n\tthis.y = y;\t\n\tthis.z = z;\t\n}\t\t\nVector3D.prototype = {\t\t\n\tadd: function(vec) {\n\t\treturn new Vector3D(this.x + vec.x,this.y + vec.y,this.z + vec.z);\n\t},\n\tincrementBy: function(vec) {\n\t\tthis.x += vec.x;\n\t\tthis.y += vec.y;\n\t\tthis.z += vec.z;\t\t\n\t},\t\n\tmultiply: function(k) {\n\t\treturn new Vector3D(k*this.x, k*this.y, k*this.z);\n\t},\t\n\taddScaled: function(vec,k) {\n\t\treturn new Vector3D(this.x + k*vec.x, this.y + k*vec.y, this.z + k*vec.z);\n\t}\n};\nfunction Particle(radius,mass){\n\tif(typeof(radius)===\"undefined\") radius = 5;\n\tif(typeof(mass)===\"undefined\") mass = 1;\t\n\tthis.radius = bubbleRadius;\n\tthis.mass = mass;\n\tthis.x = 0;\n\tthis.y = 0;\n\tthis.z = 1;\n\tthis.vx = 0;\n\tthis.vy = 0;\n\tthis.vz = 0;\n\tthis.opacity = Math.random() * 100 / 1000;\n\tthis.wobble = [Math.random() * Math.PI * 2, (Math.random() - 0.5) / this.z]\n}\nParticle.prototype = {\n\tget pos3D (){return new Vector3D(this.x,this.y,this.z);},\n\tset pos3D (pos){\n\t\tthis.x = pos.x;\n\t\tthis.y = pos.y;\n\t\tthis.z = pos.z;\n\t},\n\tget velo3D (){return new Vector3D(this.vx,this.vy,this.vz);\t},\n\tset velo3D (velo){\n\t\tthis.vx = velo.x;\n\t\tthis.vy = velo.y;\n\t\tthis.vz = velo.z;\n\t},\n\trecycle: function() {\n\t\tthis.pos3D = new Vector3D(Math.random()*wWidth-wWidth/2, Math.random()*wHeight-wHeight/2, zStart);\n\t\tthis.mass = Math.random()*bubbleMassVariation+bubbleMassBase;\n\t\tthis.velo3D = new Vector3D(0,0,riserate.z).multiply(Math.random()*2+2);\n\t\tthis.radius = Math.random() * Math.random() * bubbleRadius;\n\t\tthis.opacity = Math.random() * 100 / 1000;\n\t\tthis.wobble = [\n\t\t\tMath.random() * wobbleOmegaFactor * Math.PI * 2, \n\t\t\t(Math.random() - 0.5) * wobbleStrength / this.z\n\t\t\t]\n\t},\n\tdraw: function (ctx) { \n\t\tif(this.z < -fov) {return};\n\t\tvar scale = (fov+this.z)/fov;\n\t\tvar r    = this.radius * scale;\n\t\tvar x2d  = (this.x * scale) + wWidth/2;\n\t\tvar y2d  = (this.y * scale) + wHeight/2;\n\t\tvar x2dw = x2d + Math.min(Math.cos(this.wobble[0]) * this.wobble[1], r/2-4);\n\t\tvar y2dw = y2d + Math.min(Math.sin(this.wobble[0]) * this.wobble[1], r/2-4);\n\t\t\n\t\t\n\t\tvar gradient = ctx.createRadialGradient(x2dw, y2dw, 0, x2d, y2d, r);\n\t\tgradient.addColorStop(\"0\"   , \"transparent\");\n\t\tgradient.addColorStop(\"0.5\" , \"rgba(255,255,255,\" + this.opacity / 2 + \")\");\n\t\tgradient.addColorStop(\"0.75\", \"rgba(255,255,255,\" + this.opacity + \")\");\n\t\tgradient.addColorStop(\"0.95\" , \"rgba(255,255,255,\" + this.opacity * 1.2 + \")\");\n\t\tgradient.addColorStop(\"1.0\"   , \"transparent\");\n\n\t\tctx.save();\n\t\tctx.beginPath();\n\t\tctx.ellipse(x2d, y2d, r, r + Math.cos(this.wobble[0]/10),\n\t\t\tthis.wobble[0], 0, Math.PI*2, true);\n\t\tctx.rotate(this.wobble[0]/40)\n\t\tctx.scale(1+Math.cos(this.wobble[0])/12, 1+Math.sin(this.wobble[0])/13);\n\t\t\n\t\tctx.translate(\n\t\t\tMath.cos(this.wobble[0]) * this.wobble[1], \n\t\t\tMath.sin(this.wobble[0]) * this.wobble[1]\n\t\t\t);\n\t\t\n\t\t\n\t\tctx.fillStyle = gradient;\n\t\tctx.arc(x2d, y2d, r, 0, Math.PI*2, false);\n\t\tctx.fill();\n\t\t\n\t\tctx.strokeStyle = \"rgba(255,255,255,\" + this.opacity * 2  + \")\";\n\t\t\n\t\tctx.stroke();\n\t\tctx.restore();\n\n\t\tthis.wobble[0] += Math.sign(Math.random()-0.6) * Math.random() * Math.PI * wobbleOmegaFactor / 36;\n\t\tthis.wobble[1] += (Math.random() - 0.55) * 0.9 * wobbleStrength;\n\t\n\t\n    if( x2d+r <0 || x2d-r > wWidth || \n\t\ty2d+r <0 || y2d-r > wHeight ||\n\t\tthis.opacity<0.01) this.recycle()\n\t\n\t}\n};\n\nParticle.prototype.constructor = Particle;\n\nfunction init() {\n\t//create canvas\n\tcnv0 = createCanvas(cnv0);\n\tctx0 = cnv0.getContext(\"2d\");\n\tdocument.getElementById(\"container\").style.opacity = backgroundGradientOpacity;\n\tcnv0.style.opacity = bubbleCanvasOpacity;\n\t// create bubbles\n\tfor (var i=0; i<maxbubbles; i++){\t\n\t\tvar bubble    = new Particle(18,255,255,255,0.2,true);\n\t\tbubble.recycle();\n\t\tbubble.z = Math.random()*zEnd;\n\t\tbubble.draw(ctx0);\n\t\tbubbles.push(bubble);\n\t}\t\n\tt0 = new Date().getTime(); \n\tanimFrame();\n}\nfunction createCanvas(canvas) {\n\tcanvas = document.createElement(\"canvas\");\n\tcanvas.width = wWidth;\n\tcanvas.height = wHeight;\n\tdocument.body.appendChild(canvas);\n\tcanvas.classList.add(\"overheadCanvas\");\n\treturn canvas;\n}\n\nfunction animFrame(){\n     setTimeout(function() {\n          animId = requestAnimationFrame(animFrame,cnv0);\n          onTimer();\n     }, 1000/fps);\n}\n\nfunction onTimer(){\n\tvar t1 = new Date().getTime(); \n\tdt = 0.001*(t1-t0); \n\tt0 = t1;\n\tif (dt>0.2 || dt == 0) {dt=0.001;};\t\n\tforceTheta += Math.random()*currentOmegaFactor/(dt);\n\tmove();\n}\n\nfunction move(){\n\tif(cnv0.width != window.innerWidth) {\n\t\tcnv0.width = wWidth = window.innerWidth;\n\t\tcnv0.height = wHeight = window.innerHeight;\n\t\t}\n\tctx0.clearRect(0, 0, wWidth, wHeight);\n\tfor (var i=0; i<bubbles.length; i++){\n\t\tvar bubble = bubbles[i];\n\t\tmoveObject(bubble, ctx0);\n\t\tcalcForce(bubble);\n\t\tupdateAccel(bubble.mass);\n\t\tupdateVelo(bubble);\n\t};\n}\n\nfunction moveObject(obj, ctx){\t\n\t\tobj.velo3D = obj.velo3D.addScaled(riserate,dt);\n\t\tobj.pos3D = obj.pos3D.addScaled(obj.velo3D,dt);\n\t\tif (obj.z > zEnd) obj.opacity *= 0.9 * (1-dt);\n\t\tobj.draw(ctx);\n}\nfunction updateAccel(mass){\tacc = force.multiply(1/mass); }\t\nfunction updateVelo(obj)  { obj.velo3D = obj.velo3D.addScaled(acc,dt); }\nfunction calcForce(obj)   {\t\n\tforce = Forces.zeroForce();\n\tforceField = Forces.forceField(\n\t\tMath.random()*0.04, \n\t\tnew Vector3D(\n\t\t\tMath.cos(forceTheta)*wWidth*2, \n\t\t\tMath.sin(forceTheta)*wHeight/2\n\t\t\t,0)); \n\tforce = Forces.add([force, forceField]);\n}\nwindow.onload = init;\n<\/script>\n<\/body>\n<\/html>\n')]\n}]",
      "maxWidth": "",
      "tooltip": "",
      "applyToSelected": false,
      "compare": [],
      "metadata":       {
        "uuid": "4c3d7104-f5fa-469e-a4b8-92bde5ee6f68",
        "commandChecksum": "70a4fa043d441abf429500ae6cf596a1",
        "propsChecksum": "debb4c5ad7cfa4808851c19afe4457c3"
      }
    },
        {
      "autoExecute": true,
      "color": "default",
      "fontColor": "black",
      "group": "zVariables & Settings",
      "includeLabel": false,
      "sortBy": "999",
      "index": 132,
      "label": "css",
      "fontSize": "1.00em",
      "minWidth": "48",
      "playerEditable": false,
      "command": "[h: css = '<style>\n:root {\n\tfont-size: 1em;\n\t--menucolour: blue;\n\t--menufontsize: small;\n\t}\n* {\tbox-sizing:border-box;\n\tmargin:0;\n\tpadding:0;\n\tcursor: default;\n\tfont-size: 1rem;\n}\nbody { background:#f8f8ff; }\na {\ttext-decoration: none;}\n.accordionhead { background:rgba(200,200,100,0.2);}\n.accordionbutton {\n\tbackground:rgba(255,255,255,0.3);\n\tborder: 1px dotted silver;\n\tborder-radius: 20%;\n\tfloat:left;\n\tline-height:1.2rem;\n\tmargin:auto;\n\twidth:2rem;\n}\n.accordionbutton:hover {\n\tbackground:rgba(200,200,200,0.3);\n\tborder: 1px solid silver;\n\tcursor:pointer;}\nh2 { font-size:1.16rem;\n\tfont-weight:normal;\n\twidth: 100%; \n\ttext-align: center; \n\tbox-shadow: 0 .1rem .5rem #444;\n\tpadding: .2rem 0;\n\tmargin: .2rem 0 .5rem 0;}\nh4{ font-size:.9rem;\n\tfont-weight: normal;\n\twidth: 100%; \n\ttext-align: center; \n\tmargin: .2rem 0;\n\tcolor: navy;}\n.hiding {display: none;}\nhr { border:none; border-bottom: 1px dotted silver; border-top:4px solid transparent;}\ninput, select {\tdisplay: inline-block;\n\tpadding: auto 0;\n\theight: 1.3rem;\n\tbackground-color: rgba(200,200,200,0.1);\n\tborder: 1px dotted silver;\n\t}\ninput[type=\"color\"] {\n\talign:center;\n\tpadding:auto;\n\tmargin:auto;\n\tmargin-left:15%;\n\ttext-align: center;\n\twidth:50%;\n\n\t}\ninput[type=\"range\"] {\n\talign:center;\n\tpadding:auto;\n\tmargin:auto;\n\twidth:100%;\n\tdisplay: table-cell;\n\t}\n.rangewrapper {\n\tdisplay: table;\n\twidth: 95%;\n\tmargin:.1rem .2rem;\n\tpadding: 0 auto;\n\n}\n.rangeval {\n\twidth: 3rem;\n\tdisplay: table-cell;\n\tborder-radius:.2rem;\n\tbox-shadow: 1px 1px 2px rgba(0,0,0,0.2);\n\tline-height: 1.1rem;\n\tpadding: .1rem .2rem;\n\ttext-align: center;\n}\ninput[type=\"radio\"] {\n\tborder:none;\n\talign:center;\n\tpadding:auto;\n\tmargin:.1rem 0;\n\theight:.9rem;\n}\n.radiowrapper {width:100%; align:center; line-height:.8rem; margin-top:0.4rem;}\n\nlabel {\tfont-size:1rem;\n\tdisplay: inline-block;\n\twhite-space:nowrap;\n\ttext-overflow: ellipsis;\n\ttext-indent:3%;}\nselect {width:100%;}\nselect optgroup {background-color:blue; font-style: oblique; font-variant:small-caps;}\n\n\n.soundprefs label, .soundprefs label span, .prefset label, .prefset label span  {font-size:smaller; text-shadow:none;}\n.soundprefs .rangelabel ,.prefset .rangelabel {width:100%; text-align:center;}\n.prefset .radiolabel {width:50%; text-align:right; margin-right: 1rem;}\n\n.actionbtngroup {\n\tborder-collapse:collapse; \n\tborder-spacing: 0; \n\tempty-cells: show;\n\tmargin:0;\n\tpadding:0;\n\twidth:100%;\n}\n.actionbtngroup td {padding:0; margin:0; padding-top:1rem;}\n.actionbtn {\n\theight:1.8rem;\n\tpadding: .2rem 1rem;\n\tmargin-left: 0;\n\tmargin-right: 0;\n\ttext-shadow: -2px -1px 1px white;\n\twidth:100%;\n\tborder-width: 1px;\n\t}\n.actionbtn:hover {border-width: 2px; }\n#launchbtn {\n\tbackground-color:#e8e8ff;\n\tborder-color: blue;\n\tborder-style: solid dotted solid solid;\n\tborder-radius:0.6rem 0 0 0.6rem;\n}\n#stopbtn {\n\tbackground-color:#ffe8e8;\n\tborder-color:red;\n\tborder-style: solid solid solid dotted;\n\tborder-radius: 0 0.6rem 0.6rem 0;\n}\n#launchbtn:hover {border-style: solid;}\n#stopbtn:hover {border-style: solid;}\n.layerNum {\n\ttext-align:center;\n\tcolor:#050;\n\ttext-shadow: -1px 0px 0px #66dd66;\n}\n.layeropacity {\n\tbackground: rgba(220,220,100,0.1);\n\tborder-top:1px solid bisque;\n\tborder-bottom:1px solid bisque;\n\tpadding: .2rem 0;\n}\n.playerSelect, .tokenSelect {min-width:10rem; margin: 0 90% 0 10%;}\n.prefButton {\n\talign:right;\n\tbackground: rgba(100,100,100,0.07);\n\tborder: 1px solid rgba(100,100,100,0.1);\n\theight:90%;\n\twidth:1.7rem;\n\tdisplay:inline-block;\n}\n.prefbtnactive { background: rgba(100,100,100,0.3);}\n.prefButton:hover {\n\tbackground: rgba(220,220,100,0.3);\n\tborder-color: rgba(100,100,100,0.4);\n\t}\n.layerselections {left:0;}\n.layerselections, .overlayPrefs {\n\twidth: 50%;\n\tmax-width:400px;\n\tmin-width:280px;\n\tborder: 1px dotted silver;\n\tposition: fixed;\n\ttop: 0;\n\toverflow-Y: auto;}\n.layerselections\ttable {\n\tborder-spacing: 0 .1rem ;\n\tempty-cells: show;\n}\n.overlayPrefs {\n\tleft: 50%;\n\t}\n.optioncontrol { width:100%; line-height:2rem;}\n.optionsPane { overflow-Y: auto; width: 100%; }\n.tablecell {display: table-cell; width: 40%; align: center; text-align: center; margin-left:1rem;  margin-right:1rem;}\n.tablecell:first-child {text-align: right; }\n.tablecell:last-child {text-align: left;}\n.tablerow {display: table-row; width:100%; align:center; text-align:center;}\n.tablerow  {margin: 0 90% 0 10%;}\nth {color: navy;\n\tfont-weight:normal;\n\tfont-variant-caps: petite-caps;\n\tfont-size: smaller;\n\tpadding:.2rem .3rem .1rem;\n\tborder-color: rgba(100,100,100,0.2) ;\n\tborder-style: solid ;\n\tborder-width: 1px 0 2px;\n}\ntd {padding:.1rem .3rem;\n\tborder-bottom: 1px solid rgba(100,100,100,0.2) ;\n}\n\n.rowend{border-right:  1px solid rgba(100,100,100,0.2);}\n.settingsbtn {\n\tbackground:rgba(255,255,255,0.3);\n\tborder: 1px dotted silver;\n\tborder-radius: 20%;\n\tfloat:right;\n\tline-height:1.2rem;\n\tmargin:0 auto;\n\twidth:2rem;\n}\n.settingsbtn:hover {\n\tbackground:rgba(200,200,200,0.3);\n\tborder: 1px solid silver;\n\tcursor:pointer;\n}\n@media screen and (max-width: 380px) {\n\t:root {font-size: .8em;}\n}\n@media screen and (max-width: 560px) {\n\t.layerselections, .overlayPrefs {width: 100%; position: relative;}\n\t.overlayPrefs {left:0;}\n}\n<\/style>']\n[h: lib = getMacroLocation()]\n[h: setLibProperty(\"controlPanel_css\", css, lib)]",
      "maxWidth": "",
      "tooltip": "",
      "applyToSelected": false,
      "compare":       [
        "group",
        "sortPrefix",
        "command",
        "includeLabel",
        "autoExecute",
        "applyToSelected"
      ],
      "metadata":       {
        "uuid": "9123739b-e71a-4f2d-9f12-296dbcb6dcb7",
        "commandChecksum": "2b3c58c4dccea7645bab08f000f10c70",
        "propsChecksum": "96f62e36323abfbcc14aa6cfbce3fdf9"
      }
    },
        {
      "autoExecute": true,
      "color": "default",
      "fontColor": "black",
      "group": "zVariables & Settings",
      "includeLabel": false,
      "sortBy": "999",
      "index": 133,
      "label": "js",
      "fontSize": "1.00em",
      "minWidth": "48",
      "playerEditable": false,
      "command": "[h: js = '<script>\nwindow.addEventListener(\"load\", function() {\n\tvar rangeInputs = document.querySelectorAll(`input[type=\"range\"]`);\n\tfor(var i=0; i<rangeInputs.length; i++) {\n\t\tvar tId = rangeInputs[i].id+\"_valuetext\";\n\t\tvar valueTextElement = document.getElementById(tId);\n\t\tif(typeof valueTextElement != \"undefined\" && valueTextElement != null) {\t\t\t\t\t\n\t\t\trangeInputs[i].addEventListener(\"change\", function() {    \t\t\n\t\t\t\tvalueTextElement = document.getElementById(this.id+\"_valuetext\");\n\t\t\t\tvalueTextElement.innerText = this.value;\n\t\t\t});\n\t\t};\n\t};\n\tvar selectInputs = document.getElementsByClassName(\"layermenu\");\n\tfor(var i=0; i<selectInputs.length; i++) {\n\t\tselectInputs[i].addEventListener(\"change\", function(e) {prefClick(e, this.id);});\n\t}\n\tselectInputs = document.getElementsByClassName(\"soundmenu\");\n\tfor(var i=0; i<selectInputs.length; i++) {\n\t\tselectInputs[i].addEventListener(\"change\", function(e) {sndprefClick(e, this.id);});\n\t}\n\tvar accordionButtons = document.getElementsByClassName(\"accordionbutton\");\n\tfor(var i=0; i<accordionButtons.length; i++) {\n\t\taccordionButtons[i].addEventListener(\"click\", function() {accordion();});\n\t}\n});\nfunction sndprefClick(evt, sndval) {\n\tvar btns=document.getElementsByClassName(\"prefButton\");\n\tvar usebtnid=sndval+\"prefbtn\";\n\tvar soundprefs = document.getElementsByClassName(\"soundprefs\");\n\tvar soundprefsid=usebtnid.replace(\"prefbtn\",\"_prefs\");\n\n\tvar prefTbls = document.getElementsByClassName(\"prefsTable\");\n\tfor(i=prefTbls.length-1; i>-1; i--) {prefTbls[i].classList.add(\"hiding\");} \n\t\n\tfor(i=0; i<btns.length; i++) { \n\t\tif(btns[i].id != usebtnid) { btns[i].classList.remove(\"prefbtnactive\");} else {btns[i].classList.add(\"prefbtnactive\");}\n\t}\n\n\tfor(i=0; i<soundprefs.length; i++) {\n\t\tif(soundprefs[i].id != soundprefsid) {soundprefs[i].classList.add(\"hiding\");} else { soundprefs[i].classList.remove(\"hiding\"); }\n\t}\n\n}\nfunction prefClick(evt, layerval) {\n\tvar selVal = document.getElementById(layerval).value;\t\n\tvar idPrefsTbl=layerval+\"_prefs\";\n\tvar idPrefSet=idPrefsTbl+\"_\"+selVal.toLowerCase().split(\" \").join(\"\");\n\tvar idPrefOpacity =layerval+\"_prefs_opacity\";\n\tvar prefTbls = document.getElementsByClassName(\"prefsTable\");\n\tvar btns=document.getElementsByClassName(\"prefButton\");\n\tvar usebtnid=layerval.replace(\"layer\", \"prefbtn\");\n\tfor(i=0; i<btns.length; i++) { \n\t\tif(btns[i].id != usebtnid) { btns[i].classList.remove(\"prefbtnactive\");} else {btns[i].classList.add(\"prefbtnactive\");}\n\t}\n\n\tvar soundprefs = document.getElementsByClassName(\"soundprefs\");\n\tfor(i=0; i<soundprefs.length; i++) {soundprefs[i].classList.add(\"hiding\");}\n\t\n\tfor(i=prefTbls.length-1; i>-1; i--) {\n\t\tif(prefTbls[i].id != idPrefsTbl) {prefTbls[i].classList.add(\"hiding\");} else { prefTbls[i].classList.remove(\"hiding\"); }\n\t}\n\tprefSets=document.getElementById(idPrefsTbl).getElementsByClassName(\"prefset\");\n\tfor(i=prefSets.length-1; i>-1; i--) {\n\t\tif(prefSets[i].id == idPrefSet || prefSets[i].id == idPrefOpacity)\n\t\t\t{ prefSets[i].classList.remove(\"hiding\");} else {prefSets[i].classList.add(\"hiding\");}\n\t}\n}\nfunction accordion() {\n\tvar btns=document.getElementsByClassName(\"accordionbutton\");\n\tfor(var i=0; i<btns.length; i++) {\n\t\tif(btns[i].classList.contains(\"btnopen\")) {\n\t\t\tbtns[i].innerHTML=\"▾\";\n\t\t\tbtns[i].classList.remove(\"btnopen\");\n\t\t} else {\n\t\t\tbtns[i].innerHTML=\"▴\";\n\t\t\tbtns[i].classList.add(\"btnopen\");\n\t\t}\n\t}\n\tvar rows=document.getElementsByClassName(\"accordionrow\");\n\tfor(var i=0; i<rows.length; i++) {\n\t\tif(rows[i].classList.contains(\"hiding\")) {\n\t\t\trows[i].classList.remove(\"hiding\")\n\t\t} else {\n\t\t\trows[i].classList.add(\"hiding\")\n\t\t}\n\t}\t\n};\n<\/script>']\n[h: lib = getMacroLocation()]\n[h: setLibProperty(\"controlPanel_js\", js, lib)]",
      "maxWidth": "",
      "tooltip": "",
      "applyToSelected": false,
      "compare":       [
        "group",
        "sortPrefix",
        "command",
        "includeLabel",
        "autoExecute",
        "applyToSelected"
      ],
      "metadata":       {
        "uuid": "3e2120e1-33e8-4fea-919e-3814df22905a",
        "commandChecksum": "0e7f42d0eb1a42e83de7a679d9418726",
        "propsChecksum": "dc9845405d1f0acfe8072296eea7526b"
      }
    },
        {
      "autoExecute": true,
      "color": "white",
      "fontColor": "black",
      "group": "Sounds",
      "includeLabel": false,
      "sortBy": "23",
      "index": 134,
      "label": "Wind.Blizzard",
      "fontSize": "1.00em",
      "minWidth": "110",
      "playerEditable": false,
      "command": "[h: link\t\t= \"https://dl.dropboxusercontent.com/s/a4wa5hnyzoq4fey/Wind%20Blizzard.mp3\"]\n[h: repeat\t\t= -1]\n[h: volume\t\t= 0.5]\n\n[h: args\t\t= json.append(\"\", link, repeat, volume)]\n[H: audioLink \t= macroLinkText(\"localStream@\"+getMacroLocation(),\"none\", args)]\n[H: execLink(audioLink,1,\"all\")]",
      "maxWidth": "",
      "tooltip": "",
      "applyToSelected": false,
      "compare": [],
      "metadata":       {
        "uuid": "3f278781-4779-48aa-866e-689dd13bf39e",
        "commandChecksum": "8a5e00b468682c3ef9f3d6665910b9d6",
        "propsChecksum": "588abad6446a5ad38a74a1f84898bbe4"
      }
    },
        {
      "autoExecute": true,
      "color": "white",
      "fontColor": "black",
      "group": "zVariables & Settings",
      "includeLabel": false,
      "sortBy": "2",
      "index": 135,
      "label": "!!unknown-macro!!",
      "fontSize": "1.00em",
      "minWidth": "112",
      "playerEditable": false,
      "command": "[r: broadcast(getMacroName() +\" not found on \"+getMacroLocation())]",
      "maxWidth": "",
      "tooltip": "<html><table width=260>Error thingy<\/html>",
      "applyToSelected": false,
      "compare":       [
        "group",
        "sortPrefix",
        "command",
        "includeLabel",
        "autoExecute",
        "applyToSelected"
      ],
      "metadata":       {
        "uuid": "dff8dcf6-9568-491d-94c3-7ad74480ddbf",
        "commandChecksum": "77092ba398d914204936d572b4af3a0f",
        "propsChecksum": "83ccf3060423913b4bcd9fa9406c3417"
      }
    },
        {
      "autoExecute": true,
      "color": "#dcecff",
      "fontColor": "black",
      "group": "Overlay Effects",
      "includeLabel": false,
      "sortBy": "92",
      "index": 136,
      "label": "Bloodied",
      "fontSize": "1.00em",
      "minWidth": "110",
      "playerEditable": false,
      "command": "[h: borderwidth =\"12\"][h: bloodfilter = \"0.5\"  ]\n[h: overlayName = \"fx0\"][h: zOrder      = -1   ][h: layerOpacity= 1   ]\n[h: url = json.get(getTableEntry(\"tWeather\", 18),\"assetid\")]\n[h, if(json.type(macro.args)==\"OBJECT\"): json.toVars(macro.args)]\n\n[h: css='\n* {\n\tbox-sizing: border-box;\n\tmargin: 0;\n\tpadding: 0;\n}\nbody {\n\theight: 100vh;\n\toverflow: hidden;\n\twidth: 100vw;\n\tbackground: transparent;\n\topacity: '+layerOpacity+';\n}\n.b1 {\n\theight: 100vh;\n\tleft: 0;\n\tmargin: 0;\n\tpadding: 0;\n\tposition:fixed;\n\ttop: 0;\n\twidth: 100vw;\n}\n.b2 {\n\tbackground-color:rgba(255,0,0,'+bloodfilter+');\n\tz-index:-10;\n\t}\n.b3 {\n\topacity: 1;\t\n\tborder: '+borderwidth+'vw double orange;\n\tborder-image: url(\"'+url+'\") 200 round;\n\topacity:1;\n\tz-index:10;\n\t}\n.b4 {\n\ttransform:scale(-0.98, -0.98);\n\tfilter: blur(4px);\n\topacity:0.4;\n\tz-index:5;\n}\n.b5 {transform:rotate(3deg); z-index: 4; opacity:0.4;}\n.b6 {transform:rotate(-3deg); z-index: 3; opacity:0.4;}\n')]\n\n[overlay(overlayName, zOrder): {\n<html>\n<head><style>[r:css]<\/style><\/head>\n<body>\n<div class=\"b1 b3\"><\/div>\n<div class=\"b1 b3 b4\"><\/div>\n<div class=\"b1 b3 b5\"><\/div>\n<div class=\"b1 b3 b6\"><\/div>\n<div class=\"b1 b2\"><\/div>\n<\/body>\n<\/html>\n}]\n",
      "maxWidth": "",
      "tooltip": "",
      "applyToSelected": false,
      "compare":       [
        "group",
        "sortPrefix",
        "command",
        "includeLabel",
        "autoExecute",
        "applyToSelected"
      ],
      "metadata":       {
        "uuid": "72c7f610-cc77-42f7-80fa-952ed5b8b8b4",
        "commandChecksum": "2a0fc9cc00b68c9e6c2bc4784b2f95cc",
        "propsChecksum": "42fc809210b6b759fd997daf8534cb80"
      }
    },
        {
      "autoExecute": true,
      "color": "#dcecff",
      "fontColor": "black",
      "group": "Overlay Effects",
      "includeLabel": false,
      "sortBy": "98",
      "index": 137,
      "label": "Splat",
      "fontSize": "1.00em",
      "minWidth": "110",
      "playerEditable": false,
      "command": "[h: runandfade  = 1    ][h: duration    = 15   ][h: ontoken = \"none\"   ][h: owneronly   = 0    ]\n[h: overlayName = \"fx0\"][h: zOrder      = -1   ][h: layerOpacity= 1    ]\n[h: url = json.get(getTableEntry(\"tWeather\", 18),\"assetid\")]\n[h, if(json.type(macro.args)==\"OBJECT\"): json.toVars(macro.args)]\n\n[h, if(ontoken!=\"none\" && owneronly==1): abort(isOwner(getPlayerName(), findToken(onToken)))]\n[h, if(ontoken!=\"none\"), code:{\n\t[json.toVars(getViewArea(1, \"json\"))]\n\t[json.toVars(getViewCenter(1, \"json\"))] \n\t[tokId=findToken(onToken)]\n\t[switchToken(tokId)]\n\t[tokSize= getTokenHeight(tokId)]\n\t[tokAR  = getTokenNativeHeight(tokId)/getTokenNativeWidth(tokId)]\n\t[tokScale=getZoom()]\n\t[tokImg=getTokenImage(max(getTokenNativeHeight(), getTokenNativeWidth()), tokId)]\n\t[tokLoc=json.append(\"\", getTokenX(1, tokId)*tokScale-startX*tokScale, getTokenY(1, tokId)*tokScale-startY*tokScale)]\n\t[bounds = json.append(\"\", endX*tokScale-startX*tokScale, endY*tokScale-startY*tokScale)]\n\n\t[css='\n\t.container {height:'+json.get(bounds, 1)+'px; width:'+json.get(bounds, 0)+'px;}\n\t.token {\n\t\tanimation: tokencenter 2s ease-in forwards, tokencolour 2.4s ease forwards, tokenspin 5.2s ease forwards;\n\t\tanimation-delay: 0s, 0s, 2s;\n\t\tbackground: transparent;\n\t\tbackground-image: url(\"'+tokImg+'\");\n\t\tbackground-size: contain;\n\t\theight: '+tokScale*getTokenHeight(tokId)/tokAR+'px;\n\t\tleft: '+json.get(tokLoc, 0)+'px;\n\t\tposition: absolute;\n\t\ttop: '+json.get(tokLoc, 1)+'px;\n\t\twidth: '+tokScale*getTokenWidth(tokId)/tokAR+'px;\n\t\tz-index: 1;\n\t}'+'\n\t@keyframes tokencolour {to {filter:grayscale(100%);}}\n\t@keyframes tokenspin {\n\t\t0%  {transform:translate(-50%, -50%) rotate(1080deg);}\n\t\t96% {transform:translate(-50%, -50%) rotate(60deg) scale(0.01);}\n\t\t100%{transform:translate(-50%, -50%); filter:blur(9px); opacity:0;}\n\t}\n\t@keyframes tokencenter {\n\t\tto {height: 50vh; left:'+json.get(bounds, 0)/2+'px; top:'+json.get(bounds, 1)/2+'px; width: 50vh; transform:translate(-50%, -50%) rotate(1080deg);}\n\t}\n\t']\n\t[setLayer(\"GM\", tokId)]\n};{ \n\t[css='.token {display:none;}']\n}]\n[h: css=css+'\n* {\n\tbox-sizing: border-box;\n\tmargin: 0;\n\tpadding: 0;\n}\nbody {\n\theight: 100vh;\n\toverflow: hidden;\n\twidth: 100vw;\n\tbackground: transparent;\n\topacity: '+layerOpacity+';\n}\n.b1 {\n\tanimation: animBorder '+duration+'s linear;\n\t'+if(runandfade==1, '', 'animation-fill-mode: forwards;')+'\n\tborder: 40px double orange;\n\tborder-image: url(\"'+url+'\") 200 stretch;\n\theight: 100vh;\n\tleft: 0;\n\tmargin: 0;\n\topacity: 0;\n\tpadding: 0;\n\tposition:fixed;\n\ttop: 0;\n\twidth: 100vw;\n}\n.container {left:0; position:relative; top:0;}\n@keyframes animBorder {\n\t0% {border-width: 4px; opacity:0;}\n\t10% {background-color:rgba(150,0,0,0.4);}\n\t20% {opacity:1;}\n\t40% {background-color:rgba(255,0,0,0.6);}\n\t50% {border-width: 30vw; }\n\t70% {opacity:1; border-width: 20vw;}\n\t'+if(runandfade==1, '\n\t90% {border-width: 7vw;}\n\t100%{opacity:0; border-width: 0;filter: blur(10px);}', \n\t'100% {opacity:.78; border-width: 15vw;}')+'\n}\n')]\n[overlay(overlayName, zOrder): {\n<html>\n<head><style>[r:css]<\/style><\/head>\n<body>\n<div class=\"container\">\n\t<div class=\"b1 b2\"><\/div>\n\t<div class=\"token\"><\/div>\n<\/div>\n<\/body>\n<\/html>\n}]\n",
      "maxWidth": "",
      "tooltip": "",
      "applyToSelected": false,
      "compare":       [
        "group",
        "sortPrefix",
        "command",
        "includeLabel",
        "autoExecute",
        "applyToSelected"
      ],
      "metadata":       {
        "uuid": "8f5b08c5-ea50-43c9-b820-dcafca9ceff5",
        "commandChecksum": "0f1bb40ebc8fedc9b30dff16302f3680",
        "propsChecksum": "1ba0b9c12d22980cc85d72c6ee6142e5"
      }
    },
        {
      "autoExecute": true,
      "color": "black",
      "fontColor": "lime",
      "group": "zVariables & Settings",
      "includeLabel": false,
      "sortBy": "1",
      "index": 138,
      "label": "lightValues",
      "fontSize": "1.00em",
      "minWidth": "110",
      "playerEditable": false,
      "command": "[h:lightValues = '{\"none\":\"rgba(0, 0, 0, 0)\",\n\"Noon\":\"rgba(255, 255, 251, .2)\",\n\"Dawn\":\"rgba(255, 128, 0, 0.1)\",\n\"Dusk\":\"rgba(255, 64, 0, 0.1)\",\n\"Desert\":\"rgba(255, 200, 0, 0.2)\",\n\"Moonlight\":\"rgba(0, 0, 200, 0.2)\",\n\"Starlight\":\"rgba(0, 0, 150, 0.3)\",\n\"Twilight\":\"rgba(0, 0, 100, 0.4)\"}']\n\n[h:setLibProperty(\"lightValues\", lightValues, getMacroLocation())]",
      "maxWidth": "",
      "tooltip": "Adds an overlay with a colour filter for a simple lighting effect.",
      "applyToSelected": false,
      "compare": [],
      "metadata":       {
        "uuid": "aa1d91ec-e31b-4e39-9dbf-2e4d99e3878c",
        "commandChecksum": "3b06e970226ea68df76df3fcd1c1b208",
        "propsChecksum": "64b5c9534ffeb4c9372a0c548cbd0be9"
      }
    },
        {
      "autoExecute": true,
      "color": "black",
      "fontColor": "lime",
      "group": "zVariables & Settings",
      "includeLabel": false,
      "sortBy": "1",
      "index": 139,
      "label": "soundLinks",
      "fontSize": "1.00em",
      "minWidth": "110",
      "playerEditable": false,
      "command": "[h: soundLinks = '{\n\"Rain.Light\":\"https://dl.dropboxusercontent.com/s/zo9qp9pklzve9m2/Rain%20Light.mp3\",\n\"Rain.Medium\":\"https://dl.dropboxusercontent.com/s/82dr1sejz77aa4w/Rain%20Medium.mp3\",\n\"Rain.Heavy\":\"https://dl.dropboxusercontent.com/s/hp0zitmjd6rziu5/Rain%20Heavy%20.mp3\",\n\"Thundersturm\":\"https://dl.dropboxusercontent.com/s/9hboyg658w2prhz/Thunderstorm.mp3\",\n\"Wind.Light\":\"https://dl.dropboxusercontent.com/s/7a2grk6lsh2785z/Wind%20Light.mp3\",\n\"Wind.Strong\":\"https://dl.dropboxusercontent.com/s/4lxbrkgmxb41omz/Wind%20Strong.mp3\",\n\"Wind.Blizzard\":\"https://dl.dropboxusercontent.com/s/a4wa5hnyzoq4fey/Wind%20Blizzard.mp3\",\n\"Underwater\":\"https://dl.dropboxusercontent.com/s/afpgwp0m0c4gk3a/Underwater.mp3\"\n}']\n\n[h:setLibProperty(\"soundLinks\", soundLinks, getMacroLocation())]",
      "maxWidth": "",
      "tooltip": "",
      "applyToSelected": false,
      "compare": [],
      "metadata":       {
        "uuid": "c4c77d09-6a17-4035-b733-791da1ede9a8",
        "commandChecksum": "bbeeec3f2831d2e69e236f5437746f39",
        "propsChecksum": "60740ae7e04e87bee2b541cf66c1b889"
      }
    },
        {
      "autoExecute": true,
      "color": "default",
      "fontColor": "black",
      "group": "zVariables & Settings",
      "includeLabel": false,
      "sortBy": "999",
      "index": 140,
      "label": "clearProps",
      "fontSize": "1.00em",
      "minWidth": "110",
      "playerEditable": false,
      "command": "[h: switchToken(getMacroLocation())]\n[h, foreach(prop, getAllPropertyNames()):resetProperty(prop)]\n[h, foreach(prop, getPropertyNamesRaw()):resetProperty(prop)]\nall properties reset",
      "maxWidth": "",
      "tooltip": "",
      "applyToSelected": false,
      "compare":       [
        "group",
        "sortPrefix",
        "command",
        "includeLabel",
        "autoExecute",
        "applyToSelected"
      ],
      "metadata":       {
        "uuid": "82332368-3328-4bfc-ba22-fe0c4598dbec",
        "commandChecksum": "5bcc1a1a45b4e2289d12092061596f6c",
        "propsChecksum": "2138fffc1acb09f62132abe16172bbcb"
      }
    },
        {
      "autoExecute": true,
      "color": "white",
      "fontColor": "black",
      "group": "Overlay Effects",
      "includeLabel": false,
      "sortBy": "70",
      "index": 14,
      "label": "Snow",
      "fontSize": "1.00em",
      "minWidth": "110",
      "playerEditable": false,
      "command": "[h: overlayName=\"fx0\"][h: zOrder=0][h: layerOpacity=1]\n[h, if(json.type(macro.args)==\"OBJECT\"):json.toVars(macro.args)]\n\n[h: css=strformat('body{opacity: %{layerOpacity};}\n#snowCanvas {display: block;}')]\n[r, overlay(overlayName, zOrder): {\n\t[r: strformat('\n<!DOCTYPE HTML>\n<html>\n<head>\n<meta charset=\"UTF-8\">\n<title>Canvas Snow Effect<\/title>\n<style type=\"text/css\">\n%{css}\n<\/style>\n<body>\n<canvas id=\"snowCanvas\"><\/canvas>\n<script type=\"text/javascript\">\n\t//canvas init\n\tvar canvas = document.getElementById(\"snowCanvas\");\n\tvar ctx = canvas.getContext(\"2d\");\n\t\n\t//canvas dimensions\n\tvar W = window.innerWidth;\n\tvar H = window.innerHeight;\n\tcanvas.width = W;\n\tcanvas.height = H;\n\t\n\t//snowflake particles\n\tvar mp = 75; //max particles\n\tvar particles = [];\n\tfor(var i = 0; i < mp; i++)\n\t{\n\t\tparticles.push({\n\t\t\tx: Math.random()*W, //x-coordinate\n\t\t\ty: Math.random()*H, //y-coordinate\n\t\t\tr: Math.random()*4+1, //radius\n\t\t\td: Math.random()*mp //density\n\t\t})\n\t}\n\t\n\t//Lets draw the flakes\n\tfunction draw()\n\t{\n\t\tctx.clearRect(0, 0, W, H);\n\t\t\n\t\tctx.fillStyle = \"rgba(255, 255, 255, 0.8)\";\n\t\tctx.beginPath();\n\t\tfor(var i = 0; i < mp; i++)\n\t\t{\n\t\t\tvar p = particles[i];\n\t\t\tctx.moveTo(p.x, p.y);\n\t\t\tctx.arc(p.x, p.y, p.r, 0, Math.PI*2, true);\n\t\t}\n\t\tctx.fill();\n\t\tupdate();\n\t}\n\t\n\t//Function to move the snowflakes\n\t//angle will be an ongoing incremental flag. Sin and Cos functions will be applied to it to create vertical and horizontal movements of the flakes\n\tvar angle = 0;\n\tfunction update()\n\t{\n\t\tangle += 0.01;\n\t\tfor(var i = 0; i < mp; i++)\n\t\t{\n\t\t\tvar p = particles[i];\n\t\t\t//Updating X and Y coordinates\n\t\t\t//We will add 1 to the cos function to prevent negative values which will lead flakes to move upwards\n\t\t\t//Every particle has its own density which can be used to make the downward movement different for each flake\n\t\t\t//Lets make it more random by adding in the radius\n\t\t\tp.y += Math.cos(angle+p.d) + 1 + p.r/2;\n\t\t\tp.x += Math.sin(angle) * 2;\n\t\t\t\n\t\t\t//Sending flakes back from the top when it exits\n\t\t\t//Lets make it a bit more organic and let flakes enter from the left and right also.\n\t\t\tif(p.x > W+5 || p.x < -5 || p.y > H)\n\t\t\t{\n\t\t\t\tif(i%3 > 0) //66.67% of the flakes\n\t\t\t\t{\n\t\t\t\t\tparticles[i] = {x: Math.random()*W, y: -10, r: p.r, d: p.d};\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\t//If the flake is exitting from the right\n\t\t\t\t\tif(Math.sin(angle) > 0)\n\t\t\t\t\t{\n\t\t\t\t\t\t//Enter from the left\n\t\t\t\t\t\tparticles[i] = {x: -5, y: Math.random()*H, r: p.r, d: p.d};\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\t//Enter from the right\n\t\t\t\t\t\tparticles[i] = {x: W+5, y: Math.random()*H, r: p.r, d: p.d};\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//animation loop\n\tsetInterval(draw, 33);\n<\/script>\n<\/body>\n<\/html>\n')]\n}]",
      "maxWidth": "",
      "tooltip": "",
      "applyToSelected": false,
      "compare": [],
      "metadata":       {
        "uuid": "f93d035c-7b6e-4e95-b9f5-da6c14e82232",
        "commandChecksum": "c4ce7a66dc82b93ac5534430a45cc9dd",
        "propsChecksum": "87ff6619d66238ad5b26f5f8a50e5281"
      }
    },
        {
      "autoExecute": true,
      "color": "darkgray",
      "fontColor": "maroon",
      "group": "zVariables & Settings",
      "includeLabel": false,
      "sortBy": "1",
      "index": 142,
      "label": "Control Panel Settings",
      "fontSize": "1.00em",
      "minWidth": "110",
      "playerEditable": false,
      "command": "[h:settings = '{\n\"devCache\":1,\n\"topLayer\":3,\n\"topSound\":3\n}']\n\n[h: setLibProperty(\"controlPanel_settings\", settings, getMacroLocation())]\n[h:'<!-- set devCache to 1 to generate and cache HTML etc. -->']\n[h:'<!-- topLayer & topSound = number of visible rows -->']",
      "maxWidth": "",
      "tooltip": "Control Panel Settings",
      "applyToSelected": false,
      "compare": [],
      "metadata":       {
        "uuid": "052d6d0c-3f17-4764-bb57-bf6f70f02ada",
        "commandChecksum": "62c95d3dcda2e2daef4f4ebe6089e39e",
        "propsChecksum": "03af3e44c59438db715a02d529184dab"
      }
    },
        {
      "autoExecute": true,
      "color": "#dcecff",
      "fontColor": "black",
      "group": "Overlay Effects",
      "includeLabel": false,
      "sortBy": "10",
      "index": 143,
      "label": "Parade",
      "fontSize": "1.00em",
      "minWidth": "110",
      "playerEditable": false,
      "command": "[h: overlayName=\"fx0\"][h: zOrder=0]\t[h: layerOpacity=1]\n[h, if(json.type(macro.args)==\"OBJECT\"):json.toVars(macro.args)]\n\n[h: css=strformat('\nhtml, body {\n\tmargin: 0;\n\tpadding: 0;\n\topacity: %{layerOpacity};\n\tbackground: transparent;\n\theight: 100%;\n\twidth: 100%;\n}\n#confetti{\n\tposition: absolute;\n\tleft: 0;\n\ttop: 0;\n\theight: 100%;\n\twidth: 100%;\n}\n}')]\n[overlay(overlayName, zOrder): {\n\t\n[r: strformat('\n<HTML>\n\t<head>\n\t\t<style type=\"text/css\">\n\t%{css}\t\t\n\t\t<\/style>\n\t<\/head>\n\n\t<body>\n\t\t<canvas id=\"confetti\" width=\"1\" height=\"1\"><\/canvas>\n\n\t\t<script type=\"text/javascript\">\n\t\t\tvar retina = window.devicePixelRatio,\n\n\t\t\t\t// Math shorthands\n\t\t\t\tPI = Math.PI,\n\t\t\t\tsqrt = Math.sqrt,\n\t\t\t\tround = Math.round,\n\t\t\t\trandom = Math.random,\n\t\t\t\tcos = Math.cos,\n\t\t\t\tsin = Math.sin,\n\n\t\t\t\t// Local WindowAnimationTiming interface\n\t\t\t\trAF = window.requestAnimationFrame,\n\t\t\t\tcAF = window.cancelAnimationFrame || window.cancelRequestAnimationFrame;\n\n\t\t\t// Local WindowAnimationTiming interface polyfill\n\t\t\t(function (w) {\n\t\t\t\t/**\n\t\t\t\t* Fallback implementation.\n\t\t\t\t*/\n\t\t\t\tvar prev = new Date().getTime();\n\t\t\t\tfunction fallback(fn) {\n\t\t\t\t\tvar curr = _now();\n\t\t\t\t\tvar ms = Math.max(0, 16 - (curr - prev));\n\t\t\t\t\tvar req = setTimeout(fn, ms);\n\t\t\t\t\tprev = curr;\n\t\t\t\t\treturn req;\n\t\t\t\t}\n\n\t\t\t\t/**\n\t\t\t\t* Cancel.\n\t\t\t\t*/\n\t\t\t\tvar cancel = w.cancelAnimationFrame\n\t\t\t\t\t|| w.webkitCancelAnimationFrame\n\t\t\t\t\t|| w.clearTimeout;\n\n\t\t\t\trAF = w.requestAnimationFrame\n\t\t\t\t\t|| w.webkitRequestAnimationFrame\n\t\t\t\t\t|| fallback;\n\n\t\t\t\tcAF = function(id){\n\t\t\t\t\tcancel.call(w, id);\n\t\t\t\t};\n\t\t\t}(window));\n\n\t\t\tdocument.addEventListener(\"DOMContentLoaded\", function() {\n\t\t\t\tvar speed = 50,\n\t\t\t\t\tduration = (1.0 / speed),\n\t\t\t\t\tconfettiRibbonCount = 11,\n\t\t\t\t\tribbonPaperCount = 30,\n\t\t\t\t\tribbonPaperDist = 4.0,\n\t\t\t\t\tribbonPaperThick = 2.0,\n\t\t\t\t\tconfettiPaperCount = 95,\n\t\t\t\t\tDEG_TO_RAD = PI / 180,\n\t\t\t\t\tRAD_TO_DEG = 180 / PI,\n\t\t\t\t\tcolors = [\n\t\t\t\t\t\t[\"#df0049\", \"#660671\"],\n\t\t\t\t\t\t[\"#00e857\", \"#005291\"],\n\t\t\t\t\t\t[\"#2bebbc\", \"#05798a\"],\n\t\t\t\t\t\t[\"#ffd200\", \"#b06c00\"]\n\t\t\t\t\t];\n\n\t\t\t\tfunction Vector2(_x, _y) {\n\t\t\t\t\tthis.x = _x, this.y = _y;\n\t\t\t\t\tthis.Length = function() {\n\t\t\t\t\t\treturn sqrt(this.SqrLength());\n\t\t\t\t\t}\n\t\t\t\t\tthis.SqrLength = function() {\n\t\t\t\t\t\treturn this.x * this.x + this.y * this.y;\n\t\t\t\t\t}\n\t\t\t\t\tthis.Add = function(_vec) {\n\t\t\t\t\t\tthis.x += _vec.x;\n\t\t\t\t\t\tthis.y += _vec.y;\n\t\t\t\t\t}\n\t\t\t\t\tthis.Sub = function(_vec) {\n\t\t\t\t\t\tthis.x -= _vec.x;\n\t\t\t\t\t\tthis.y -= _vec.y;\n\t\t\t\t\t}\n\t\t\t\t\tthis.Div = function(_f) {\n\t\t\t\t\t\tthis.x /= _f;\n\t\t\t\t\t\tthis.y /= _f;\n\t\t\t\t\t}\n\t\t\t\t\tthis.Mul = function(_f) {\n\t\t\t\t\t\tthis.x *= _f;\n\t\t\t\t\t\tthis.y *= _f;\n\t\t\t\t\t}\n\t\t\t\t\tthis.Normalize = function() {\n\t\t\t\t\t\tvar sqrLen = this.SqrLength();\n\t\t\t\t\t\tif (sqrLen != 0) {\n\t\t\t\t\t\t\tvar factor = 1.0 / sqrt(sqrLen);\n\t\t\t\t\t\t\tthis.x *= factor;\n\t\t\t\t\t\t\tthis.y *= factor;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis.Normalized = function() {\n\t\t\t\t\t\tvar sqrLen = this.SqrLength();\n\t\t\t\t\t\tif (sqrLen != 0) {\n\t\t\t\t\t\t\tvar factor = 1.0 / sqrt(sqrLen);\n\t\t\t\t\t\t\treturn new Vector2(this.x * factor, this.y * factor);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn new Vector2(0, 0);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tVector2.Lerp = function(_vec0, _vec1, _t) {\n\t\t\t\t\treturn new Vector2((_vec1.x - _vec0.x) * _t + _vec0.x, (_vec1.y - _vec0.y) * _t + _vec0.y);\n\t\t\t\t}\n\t\t\t\tVector2.Distance = function(_vec0, _vec1) {\n\t\t\t\t\treturn sqrt(Vector2.SqrDistance(_vec0, _vec1));\n\t\t\t\t}\n\t\t\t\tVector2.SqrDistance = function(_vec0, _vec1) {\n\t\t\t\t\tvar x = _vec0.x - _vec1.x;\n\t\t\t\t\tvar y = _vec0.y - _vec1.y;\n\t\t\t\t\treturn (x * x + y * y + z * z);\n\t\t\t\t}\n\t\t\t\tVector2.Scale = function(_vec0, _vec1) {\n\t\t\t\t\treturn new Vector2(_vec0.x * _vec1.x, _vec0.y * _vec1.y);\n\t\t\t\t}\n\t\t\t\tVector2.Min = function(_vec0, _vec1) {\n\t\t\t\t\treturn new Vector2(Math.min(_vec0.x, _vec1.x), Math.min(_vec0.y, _vec1.y));\n\t\t\t\t}\n\t\t\t\tVector2.Max = function(_vec0, _vec1) {\n\t\t\t\t\treturn new Vector2(Math.max(_vec0.x, _vec1.x), Math.max(_vec0.y, _vec1.y));\n\t\t\t\t}\n\t\t\t\tVector2.ClampMagnitude = function(_vec0, _len) {\n\t\t\t\t\tvar vecNorm = _vec0.Normalized;\n\t\t\t\t\treturn new Vector2(vecNorm.x * _len, vecNorm.y * _len);\n\t\t\t\t}\n\t\t\t\tVector2.Sub = function(_vec0, _vec1) {\n\t\t\t\t\treturn new Vector2(_vec0.x - _vec1.x, _vec0.y - _vec1.y, _vec0.z - _vec1.z);\n\t\t\t\t}\n\n\t\t\t\tfunction EulerMass(_x, _y, _mass, _drag) {\n\t\t\t\t\tthis.position = new Vector2(_x, _y);\n\t\t\t\t\tthis.mass = _mass;\n\t\t\t\t\tthis.drag = _drag;\n\t\t\t\t\tthis.force = new Vector2(0, 0);\n\t\t\t\t\tthis.velocity = new Vector2(0, 0);\n\t\t\t\t\tthis.AddForce = function(_f) {\n\t\t\t\t\t\tthis.force.Add(_f);\n\t\t\t\t\t}\n\t\t\t\t\tthis.Integrate = function(_dt) {\n\t\t\t\t\t\tvar acc = this.CurrentForce(this.position);\n\t\t\t\t\t\tacc.Div(this.mass);\n\t\t\t\t\t\tvar posDelta = new Vector2(this.velocity.x, this.velocity.y);\n\t\t\t\t\t\tposDelta.Mul(_dt);\n\t\t\t\t\t\tthis.position.Add(posDelta);\n\t\t\t\t\t\tacc.Mul(_dt);\n\t\t\t\t\t\tthis.velocity.Add(acc);\n\t\t\t\t\t\tthis.force = new Vector2(0, 0);\n\t\t\t\t\t}\n\t\t\t\t\tthis.CurrentForce = function(_pos, _vel) {\n\t\t\t\t\t\tvar totalForce = new Vector2(this.force.x, this.force.y);\n\t\t\t\t\t\tvar speed = this.velocity.Length();\n\t\t\t\t\t\tvar dragVel = new Vector2(this.velocity.x, this.velocity.y);\n\t\t\t\t\t\tdragVel.Mul(this.drag * this.mass * speed);\n\t\t\t\t\t\ttotalForce.Sub(dragVel);\n\t\t\t\t\t\treturn totalForce;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfunction ConfettiPaper(_x, _y) {\n\t\t\t\t\tthis.pos = new Vector2(_x, _y);\n\t\t\t\t\tthis.rotationSpeed = (random() * 600 + 800);\n\t\t\t\t\tthis.angle = DEG_TO_RAD * random() * 360;\n\t\t\t\t\tthis.rotation = DEG_TO_RAD * random() * 360;\n\t\t\t\t\tthis.cosA = 1.0;\n\t\t\t\t\tthis.size = 3.0;\n\t\t\t\t\tthis.oscillationSpeed = (random() * 1.5 + 0.5);\n\t\t\t\t\tthis.xSpeed = 40.0;\n\t\t\t\t\tthis.ySpeed = (random() * 60 + 50.0);\n\t\t\t\t\tthis.corners = new Array();\n\t\t\t\t\tthis.time = random();\n\t\t\t\t\tvar ci = round(random() * (colors.length - 1));\n\t\t\t\t\tthis.frontColor = colors[ci][0];\n\t\t\t\t\tthis.backColor = colors[ci][1];\n\t\t\t\t\tfor (var i = 0; i < 4; i++) {\n\t\t\t\t\t\tvar dx = cos(this.angle + DEG_TO_RAD * (i * 90 + 45));\n\t\t\t\t\t\tvar dy = sin(this.angle + DEG_TO_RAD * (i * 90 + 45));\n\t\t\t\t\t\tthis.corners[i] = new Vector2(dx, dy);\n\t\t\t\t\t}\n\t\t\t\t\tthis.Update = function(_dt) {\n\t\t\t\t\t\tthis.time += _dt;\n\t\t\t\t\t\tthis.rotation += this.rotationSpeed * _dt;\n\t\t\t\t\t\tthis.cosA = cos(DEG_TO_RAD * this.rotation);\n\t\t\t\t\t\tthis.pos.x += cos(this.time * this.oscillationSpeed) * this.xSpeed * _dt\n\t\t\t\t\t\tthis.pos.y += this.ySpeed * _dt;\n\t\t\t\t\t\tif (this.pos.y > ConfettiPaper.bounds.y) {\n\t\t\t\t\t\t\tthis.pos.x = random() * ConfettiPaper.bounds.x;\n\t\t\t\t\t\t\tthis.pos.y = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis.Draw = function(_g) {\n\t\t\t\t\t\tif (this.cosA > 0) {\n\t\t\t\t\t\t\t_g.fillStyle = this.frontColor;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t_g.fillStyle = this.backColor;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t_g.beginPath();\n\t\t\t\t\t\t_g.moveTo((this.pos.x + this.corners[0].x * this.size) * retina, (this.pos.y + this.corners[0].y * this.size * this.cosA) * retina);\n\t\t\t\t\t\tfor (var i = 1; i < 4; i++) {\n\t\t\t\t\t\t\t_g.lineTo((this.pos.x + this.corners[i].x * this.size) * retina, (this.pos.y + this.corners[i].y * this.size * this.cosA) * retina);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t_g.closePath();\n\t\t\t\t\t\t_g.fill();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tConfettiPaper.bounds = new Vector2(0, 0);\n\n\t\t\t\tfunction ConfettiRibbon(_x, _y, _count, _dist, _thickness, _angle, _mass, _drag) {\n\t\t\t\t\tthis.particleDist = _dist;\n\t\t\t\t\tthis.particleCount = _count;\n\t\t\t\t\tthis.particleMass = _mass;\n\t\t\t\t\tthis.particleDrag = _drag;\n\t\t\t\t\tthis.particles = new Array();\n\t\t\t\t\tvar ci = round(random() * (colors.length - 1));\n\t\t\t\t\tthis.frontColor = colors[ci][0];\n\t\t\t\t\tthis.backColor = colors[ci][1];\n\t\t\t\t\tthis.xOff = (cos(DEG_TO_RAD * _angle) * _thickness);\n\t\t\t\t\tthis.yOff = (sin(DEG_TO_RAD * _angle) * _thickness);\n\t\t\t\t\tthis.position = new Vector2(_x, _y);\n\t\t\t\t\tthis.prevPosition = new Vector2(_x, _y);\n\t\t\t\t\tthis.velocityInherit = (random() * 2 + 4);\n\t\t\t\t\tthis.time = random() * 100;\n\t\t\t\t\tthis.oscillationSpeed = (random() * 2 + 2);\n\t\t\t\t\tthis.oscillationDistance = (random() * 40 + 40);\n\t\t\t\t\tthis.ySpeed = (random() * 40 + 80);\n\t\t\t\t\tfor (var i = 0; i < this.particleCount; i++) {\n\t\t\t\t\t\tthis.particles[i] = new EulerMass(_x, _y - i * this.particleDist, this.particleMass, this.particleDrag);\n\t\t\t\t\t}\n\t\t\t\t\tthis.Update = function(_dt) {\n\t\t\t\t\t\tvar i = 0;\n\t\t\t\t\t\tthis.time += _dt * this.oscillationSpeed;\n\t\t\t\t\t\tthis.position.y += this.ySpeed * _dt;\n\t\t\t\t\t\tthis.position.x += cos(this.time) * this.oscillationDistance * _dt;\n\t\t\t\t\t\tthis.particles[0].position = this.position;\n\t\t\t\t\t\tvar dX = this.prevPosition.x - this.position.x;\n\t\t\t\t\t\tvar dY = this.prevPosition.y - this.position.y;\n\t\t\t\t\t\tvar delta = sqrt(dX * dX + dY * dY);\n\t\t\t\t\t\tthis.prevPosition = new Vector2(this.position.x, this.position.y);\n\t\t\t\t\t\tfor (i = 1; i < this.particleCount; i++) {\n\t\t\t\t\t\t\tvar dirP = Vector2.Sub(this.particles[i - 1].position, this.particles[i].position);\n\t\t\t\t\t\t\tdirP.Normalize();\n\t\t\t\t\t\t\tdirP.Mul((delta / _dt) * this.velocityInherit);\n\t\t\t\t\t\t\tthis.particles[i].AddForce(dirP);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfor (i = 1; i < this.particleCount; i++) {\n\t\t\t\t\t\t\tthis.particles[i].Integrate(_dt);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfor (i = 1; i < this.particleCount; i++) {\n\t\t\t\t\t\t\tvar rp2 = new Vector2(this.particles[i].position.x, this.particles[i].position.y);\n\t\t\t\t\t\t\trp2.Sub(this.particles[i - 1].position);\n\t\t\t\t\t\t\trp2.Normalize();\n\t\t\t\t\t\t\trp2.Mul(this.particleDist);\n\t\t\t\t\t\t\trp2.Add(this.particles[i - 1].position);\n\t\t\t\t\t\t\tthis.particles[i].position = rp2;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (this.position.y > ConfettiRibbon.bounds.y + this.particleDist * this.particleCount) {\n\t\t\t\t\t\t\tthis.Reset();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis.Reset = function() {\n\t\t\t\t\t\tthis.position.y = -random() * ConfettiRibbon.bounds.y;\n\t\t\t\t\t\tthis.position.x = random() * ConfettiRibbon.bounds.x;\n\t\t\t\t\t\tthis.prevPosition = new Vector2(this.position.x, this.position.y);\n\t\t\t\t\t\tthis.velocityInherit = random() * 2 + 4;\n\t\t\t\t\t\tthis.time = random() * 100;\n\t\t\t\t\t\tthis.oscillationSpeed = random() * 2.0 + 1.5;\n\t\t\t\t\t\tthis.oscillationDistance = (random() * 40 + 40);\n\t\t\t\t\t\tthis.ySpeed = random() * 40 + 80;\n\t\t\t\t\t\tvar ci = round(random() * (colors.length - 1));\n\t\t\t\t\t\tthis.frontColor = colors[ci][0];\n\t\t\t\t\t\tthis.backColor = colors[ci][1];\n\t\t\t\t\t\tthis.particles = new Array();\n\t\t\t\t\t\tfor (var i = 0; i < this.particleCount; i++) {\n\t\t\t\t\t\t\tthis.particles[i] = new EulerMass(this.position.x, this.position.y - i * this.particleDist, this.particleMass, this.particleDrag);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis.Draw = function(_g) {\n\t\t\t\t\t\tfor (var i = 0; i < this.particleCount - 1; i++) {\n\t\t\t\t\t\t\tvar p0 = new Vector2(this.particles[i].position.x + this.xOff, this.particles[i].position.y + this.yOff);\n\t\t\t\t\t\t\tvar p1 = new Vector2(this.particles[i + 1].position.x + this.xOff, this.particles[i + 1].position.y + this.yOff);\n\t\t\t\t\t\t\tif (this.Side(this.particles[i].position.x, this.particles[i].position.y, this.particles[i + 1].position.x, this.particles[i + 1].position.y, p1.x, p1.y) < 0) {\n\t\t\t\t\t\t\t\t_g.fillStyle = this.frontColor;\n\t\t\t\t\t\t\t\t_g.strokeStyle = this.frontColor;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t_g.fillStyle = this.backColor;\n\t\t\t\t\t\t\t\t_g.strokeStyle = this.backColor;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (i == 0) {\n\t\t\t\t\t\t\t\t_g.beginPath();\n\t\t\t\t\t\t\t\t_g.moveTo(this.particles[i].position.x * retina, this.particles[i].position.y * retina);\n\t\t\t\t\t\t\t\t_g.lineTo(this.particles[i + 1].position.x * retina, this.particles[i + 1].position.y * retina);\n\t\t\t\t\t\t\t\t_g.lineTo(((this.particles[i + 1].position.x + p1.x) * 0.5) * retina, ((this.particles[i + 1].position.y + p1.y) * 0.5) * retina);\n\t\t\t\t\t\t\t\t_g.closePath();\n\t\t\t\t\t\t\t\t_g.stroke();\n\t\t\t\t\t\t\t\t_g.fill();\n\t\t\t\t\t\t\t\t_g.beginPath();\n\t\t\t\t\t\t\t\t_g.moveTo(p1.x * retina, p1.y * retina);\n\t\t\t\t\t\t\t\t_g.lineTo(p0.x * retina, p0.y * retina);\n\t\t\t\t\t\t\t\t_g.lineTo(((this.particles[i + 1].position.x + p1.x) * 0.5) * retina, ((this.particles[i + 1].position.y + p1.y) * 0.5) * retina);\n\t\t\t\t\t\t\t\t_g.closePath();\n\t\t\t\t\t\t\t\t_g.stroke();\n\t\t\t\t\t\t\t\t_g.fill();\n\t\t\t\t\t\t\t} else if (i == this.particleCount - 2) {\n\t\t\t\t\t\t\t\t_g.beginPath();\n\t\t\t\t\t\t\t\t_g.moveTo(this.particles[i].position.x * retina, this.particles[i].position.y * retina);\n\t\t\t\t\t\t\t\t_g.lineTo(this.particles[i + 1].position.x * retina, this.particles[i + 1].position.y * retina);\n\t\t\t\t\t\t\t\t_g.lineTo(((this.particles[i].position.x + p0.x) * 0.5) * retina, ((this.particles[i].position.y + p0.y) * 0.5) * retina);\n\t\t\t\t\t\t\t\t_g.closePath();\n\t\t\t\t\t\t\t\t_g.stroke();\n\t\t\t\t\t\t\t\t_g.fill();\n\t\t\t\t\t\t\t\t_g.beginPath();\n\t\t\t\t\t\t\t\t_g.moveTo(p1.x * retina, p1.y * retina);\n\t\t\t\t\t\t\t\t_g.lineTo(p0.x * retina, p0.y * retina);\n\t\t\t\t\t\t\t\t_g.lineTo(((this.particles[i].position.x + p0.x) * 0.5) * retina, ((this.particles[i].position.y + p0.y) * 0.5) * retina);\n\t\t\t\t\t\t\t\t_g.closePath();\n\t\t\t\t\t\t\t\t_g.stroke();\n\t\t\t\t\t\t\t\t_g.fill();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t_g.beginPath();\n\t\t\t\t\t\t\t\t_g.moveTo(this.particles[i].position.x * retina, this.particles[i].position.y * retina);\n\t\t\t\t\t\t\t\t_g.lineTo(this.particles[i + 1].position.x * retina, this.particles[i + 1].position.y * retina);\n\t\t\t\t\t\t\t\t_g.lineTo(p1.x * retina, p1.y * retina);\n\t\t\t\t\t\t\t\t_g.lineTo(p0.x * retina, p0.y * retina);\n\t\t\t\t\t\t\t\t_g.closePath();\n\t\t\t\t\t\t\t\t_g.stroke();\n\t\t\t\t\t\t\t\t_g.fill();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis.Side = function(x1, y1, x2, y2, x3, y3) {\n\t\t\t\t\t\treturn ((x1 - x2) * (y3 - y2) - (y1 - y2) * (x3 - x2));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tConfettiRibbon.bounds = new Vector2(0, 0);\n\t\t\t\tconfetti = {};\n\t\t\t\tconfetti.Context = function(id) {\n\t\t\t\t\tvar i = 0;\n\t\t\t\t\tvar canvas = document.getElementById(id);\n\t\t\t\t\tvar canvasParent = canvas.parentNode;\n\t\t\t\t\tvar canvasWidth = canvasParent.offsetWidth;\n\t\t\t\t\tvar canvasHeight = canvasParent.offsetHeight;\n\t\t\t\t\tcanvas.width = canvasWidth * retina;\n\t\t\t\t\tcanvas.height = canvasHeight * retina;\n\t\t\t\t\tvar context = canvas.getContext(\"2d\");\n\t\t\t\t\tvar interval = null;\n\t\t\t\t\tvar confettiRibbons = new Array();\n\t\t\t\t\tConfettiRibbon.bounds = new Vector2(canvasWidth, canvasHeight);\n\t\t\t\t\tfor (i = 0; i < confettiRibbonCount; i++) {\n\t\t\t\t\t\tconfettiRibbons[i] = new ConfettiRibbon(random() * canvasWidth, -random() * canvasHeight * 2, ribbonPaperCount, ribbonPaperDist, ribbonPaperThick, 45, 1, 0.05);\n\t\t\t\t\t}\n\t\t\t\t\tvar confettiPapers = new Array();\n\t\t\t\t\tConfettiPaper.bounds = new Vector2(canvasWidth, canvasHeight);\n\t\t\t\t\tfor (i = 0; i < confettiPaperCount; i++) {\n\t\t\t\t\t\tconfettiPapers[i] = new ConfettiPaper(random() * canvasWidth, random() * canvasHeight);\n\t\t\t\t\t}\n\t\t\t\t\tthis.resize = function() {\n\t\t\t\t\t\tcanvasWidth = canvasParent.offsetWidth;\n\t\t\t\t\t\tcanvasHeight = canvasParent.offsetHeight;\n\t\t\t\t\t\tcanvas.width = canvasWidth * retina;\n\t\t\t\t\t\tcanvas.height = canvasHeight * retina;\n\t\t\t\t\t\tConfettiPaper.bounds = new Vector2(canvasWidth, canvasHeight);\n\t\t\t\t\t\tConfettiRibbon.bounds = new Vector2(canvasWidth, canvasHeight);\n\t\t\t\t\t}\n\t\t\t\t\tthis.start = function() {\n\t\t\t\t\t\tthis.stop()\n\t\t\t\t\t\tvar context = this;\n\t\t\t\t\t\tthis.update();\n\t\t\t\t\t}\n\t\t\t\t\tthis.stop = function() {\n\t\t\t\t\t\tcAF(this.interval);\n\t\t\t\t\t}\n\t\t\t\t\tthis.update = function() {\n\t\t\t\t\t\tvar i = 0;\n\t\t\t\t\t\tcontext.clearRect(0, 0, canvas.width, canvas.height);\n\t\t\t\t\t\tfor (i = 0; i < confettiPaperCount; i++) {\n\t\t\t\t\t\t\tconfettiPapers[i].Update(duration);\n\t\t\t\t\t\t\tconfettiPapers[i].Draw(context);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfor (i = 0; i < confettiRibbonCount; i++) {\n\t\t\t\t\t\t\tconfettiRibbons[i].Update(duration);\n\t\t\t\t\t\t\tconfettiRibbons[i].Draw(context);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.interval = rAF(function() {\n\t\t\t\t\t\t\tconfetti.update();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvar confetti = new confetti.Context(\"confetti\");\n\t\t\t\tconfetti.start();\n\t\t\t\twindow.addEventListener(\"resize\", function(event){\n\t\t\t\t\tconfetti.resize();\n\t\t\t\t});\n\t\t\t});\n\t\t<\/script>\n\t<\/body>\n<\/html>\n')]\n}]",
      "maxWidth": "",
      "tooltip": "https://www.iprodev.com/confetti-animation-javascript/\n",
      "applyToSelected": false,
      "compare": [],
      "metadata":       {
        "uuid": "c4f2bd73-ba4d-4721-94f3-52550765e683",
        "commandChecksum": "07eb60c246ef805838363a5ca9e68372",
        "propsChecksum": "827099d940cf9ef9b71a1136c28de057"
      }
    },
        {
      "autoExecute": true,
      "color": "#dcffec",
      "fontColor": "black",
      "group": "Overlay Effects",
      "includeLabel": false,
      "sortBy": "41",
      "index": 16,
      "label": "Rain",
      "fontSize": "1.00em",
      "minWidth": "110",
      "playerEditable": false,
      "command": "[h: overlayName=\"fx0\"][h: zOrder=0][h: layerOpacity=1]\n[h, if(json.type(macro.args)==\"OBJECT\"):json.toVars(macro.args)]\n\n[h: css = strformat('\nbody {opacity: %{layerOpacity};}\n')]\n[overlay(overlayName, zOrder): {\n\t[r: '\n<html>\n<head>\n<meta charset=\"UTF-8\">\n<title>Canvas Rain Effect<\/title>\n<style>'+css+'<\/style>\n<\/head>\n<body>\n<canvas id=\"canvas\"><\/canvas>\n<script type=\"text/javascript\">\n  var canvas = document.getElementById(\"canvas\");\n  canvas.width = window.innerWidth;\n  canvas.height = window.innerHeight;\n\n    var ctx = canvas.getContext(\"2d\");\n    var w = canvas.width;\n    var h = canvas.height;\n    ctx.strokeStyle = \"rgba(174,194,224,0.5)\";\n    ctx.lineWidth = 1;\n    ctx.lineCap = \"round\";\n\n    var init = [];\n    var maxParts = 1000;\n    for (var a = 0; a < maxParts; a++) {\n      init.push({\n        x: Math.random() * w,\n        y: Math.random() * h,\n        l: Math.random() * 1,\n        xs: -4 + Math.random() * 4 + 2,\n        ys: Math.random() * 10 + 10\n      })\n    }\n\n    var particles = [];\n    for (var b = 0; b < maxParts; b++) {\n      particles[b] = init[b];\n    }\n\n    function draw() {\n      ctx.clearRect(0, 0, w, h);\n      for (var c = 0; c < particles.length; c++) {\n        var p = particles[c];\n        ctx.beginPath();\n        ctx.moveTo(p.x, p.y);\n        ctx.lineTo(p.x + p.l * p.xs, p.y + p.l * p.ys);\n        ctx.stroke();\n      }\n      move();\n    }\n\n    function move() {\n      for (var b = 0; b < particles.length; b++) {\n        var p = particles[b];\n        p.x += p.xs;\n        p.y += p.ys;\n        if (p.x > w || p.y > h) {\n          p.x = Math.random() * w;\n          p.y = -20;\n        }\n      }\n    }\n    setInterval(draw, 30);\n<\/script>\n<\/body>\n<\/html>\n' ]\n}]",
      "maxWidth": "",
      "tooltip": "",
      "applyToSelected": false,
      "compare": [],
      "metadata":       {
        "uuid": "1225060a-d1b7-4a27-9222-9baa99bfa647",
        "commandChecksum": "532c627c05744c89ac32f9f4487e05e6",
        "propsChecksum": "73ac4d7a143fc3d6847593614c8b9994"
      }
    },
        {
      "autoExecute": true,
      "color": "green",
      "fontColor": "white",
      "group": "Controls",
      "includeLabel": false,
      "sortBy": "0",
      "index": 144,
      "label": "FX Panel",
      "fontSize": "1.00em",
      "minWidth": "110",
      "playerEditable": false,
      "command": "[h: assert(isGM(), \"You are not powerful enough to control the weather.\")]\n[h: lib = getMacroLocation()][h: defineFunction(\"runMacro\", \"runMacro@\"+lib)]\n\n[h: frameName=\"Overlays\"]\n[h: frameProps=\"width=285; height=500; temporary=1; title=Overlay Effects; tabtitle=Overlay FX\"]\n[h: processorLink = '\"'+macroLinkText(\"processControls@\"+lib,\"self\")+'\"']\n[h: json.toVars(getLibProperty(\"controlPanel_settings\", getMacroLocation()))]\n\n\n[h: pcTokens = getPCNames(\"json\")]\n[h: players  = getAllPlayerNames(\"json\")]\n[h: pcSelect    ='<option value=\"none\" selected>none<\/option>']\n[h: playerSelect='<option value=\"all\" selected>all<\/option>']\n[h, foreach(pcToken, pcTokens):pcSelect=pcSelect+'<option value=\"'+pcToken+'\">'+pcToken+'<\/option>']\n[h, foreach(player, players):playerSelect=playerSelect+'<option value=\"'+player+'\">'+player+'<\/option>']\n[h: pcSelect=pcSelect+'<\/select>']\n[h: playerSelect=playerSelect+'<\/select>']\n\n\n[h, if(devCache), code:{\n\t[h:'<!-- move CSS & JS here -->']\n\t[h: css = getLibProperty(\"controlPanel_css\", lib)]\n\t[h: js = getLibProperty(\"controlPanel_js\", lib)]\n\t\n\t[olObj = json.set('',\n\t\"Lighting\",json.append('',\"Environment Lighting\"),\n\t\"Ground\",json.append('',\"Drifting Light Rays\",\"Fog\",\"Smoke\",\"Stalag 13\"),\n\t\"Fruit\",json.append('',\"Birds\",\"Bubbles Overhead\",\"Falling Leaves\",\"Firefight\",\"Firefront\",\"Parade\",\"Sandstorm\",\"Swarm\"),\n\t\"Rain\",json.append('',\"Lightning\",\"Rainbow\",\"Rain\",\"Rain Heavy\",\"Rain Overhead\",\"Thunderstorm\"),\n\t\"Snow\",json.append('',\"Blizzard\",\"Snow\",\"Snow2\"),\n\t\"Space\",json.append('',\"Meteor1\",\"Meteor2\",\"Meteor3\",\"Starfield1\",\"Starfield2\"),\n\t\"Border\", json.append('', \"Bloodied\",\"Gradient Edge\",\"Neon Border\",\"Splat\")\n\t)]\n\t[setLibProperty(\"controlPanel_olObj\", olObj, lib)]\n\t\n\t[soundIDList      = getMacroGroup(\"Sounds\", \",\", lib)]\n\t[soundNameList    = \"\"]\n\t[soundMenu        = '<select class=\"soundmenu\" name=\"sound%{i}\" id=\"sound%{i}\"><option value=\"none\">none<\/option>']\n\t[foreach(sound, soundIDList), code: {\n\t\t[soundName    = getStrProp(getMacroProps(sound, \"; \", lib),\"label\")]\n\t\t[soundMenu    = soundMenu + strformat('<option value=\"%{soundName}\">%{soundName}<\/option>')]\n\t}]\n\t[soundMenu = soundMenu + '<\/select>')]\n\t[setLibProperty(\"controlPanel_soundMenu\", soundMenu, lib)]\n\n\t[layerGroupNames=json.fields(olObj, \"json\")]\n\t[layerMenu='<select class=\"layermenu\" id=\"layer%{i}\" name=\"layer%{i}\"><option value=\"none\" selected>none<\/option>']\n\t[foreach(layerGroupName, layerGroupNames), code:{\n\t\t[layerMenu = layerMenu + '<optgroup label=\"'+layerGroupName+'\">']\n\t\t[layerNames=json.get(olObj, layerGroupName)]\n\t\t[foreach(layerName, layerNames):\n\t\t\tlayerMenu=layerMenu + strformat('<option value=\"%{layerName}\">%{layerName}<\/option>')]\n\t\t[layerMenu = layerMenu + '<\/optgroup>']\n\t}]\n\t[layerMenu = layerMenu + '<\/select>']\t\n\t[setLibProperty(\"controlPanel_layerMenu\", layerMenu, lib)]\n\n\t\n\t[h: lightvalues = getLibProperty(\"lightValues\", lib)]\n\t[h: lightvalueInput = \"\"]\n\t[h, foreach(fieldname, json.fields(lightvalues)): lightvalueInput = lightvalueInput + '\n\t<div class=\"radiowrapper\">\n\t<label for=\"layer%{i}_prefs_environmentlighting_'+fieldname+'\" class=\"radiolabel\">'+fieldname+'<\/label>\n\t<input type=\"radio\" name=\"layer%{i}_prefs_environmentlighting_lightvalue\" \n\tid=\"layer%{i}_prefs_environmentlighting_'+fieldname+'\" value=\"'+json.get(lightvalues, fieldname)+'\" '+if(fieldname==\"none\", \"checked\", \"\")+'>\n\t<\/div>']\n\t[setLibProperty(\"controlPanel_lightvalueInput\", lightvalueInput, lib)]\n};{\n\t[olObj = getLibProperty(\"controlPanel_olObj\", lib)]\n\t[css   = getLibProperty(\"controlPanel_css\", lib)]\n\t[js    = getLibProperty(\"controlPanel_js\", lib)]\n\t[layerMenu       = getLibProperty(\"controlPanel_layerMenu\", lib)]\n\t[soundMenu       = getLibProperty(\"controlPanel_soundMenu\", lib)]\n\t[lightvalueInput = getLibProperty(\"controlPanel_lightvalueInput\", lib)]\n}]\n\n[h, if(devCache), code: {\n\t[h: layerPrefHTML ='']\n\t[for(i, topLayer, -1, -1, \"\"): layerPrefHTML = strformat('%{layerPrefHTML}\n\t\t<div id=\"layer%{i}_prefs\" class=\" prefsTable\" >\n\t\t\t<div id=\"layer%{i}_prefs_opacity\" class=\"hiding prefset layeropacity\">\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer%{i}_prefs_layeropacity\" title=\"This applies to the layer as a whole. It does not provide fine-grained control for the layer content\">Layer Opacity\n\t\t\t\t\t(<span id=\"layer%{i}_prefs_layeropacity_valuetext\">1<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.00<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.00\" max=\"1.00\" value=\"1\" step=\".01\" class=\"\" name=\"layer%{i}_prefs_layeropacity\" id=\"layer%{i}_prefs_layeropacity\">\n\t\t\t\t\t\t<div class=\"rangeval\">1.00<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t\n\t\t\t<div id=\"layer%{i}_prefs_birds\" class=\"hiding prefset\">\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer%{i}_prefs_birds_birdsize\">Bird Size \n\t\t\t\t\t\t(<span id=\"layer%{i}_prefs_birds_birdsize_valuetext\">1.8<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">1.7<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"1.7\" max=\"4.1\" value=\"3.6\" step=\"0.1\" class=\"\" name=\"layer%{i}_prefs_birds_birdsize\" id=\"layer%{i}_prefs_birds_birdsize\">\n\t\t\t\t\t\t<div class=\"rangeval\">4.1<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer%{i}_prefs_birds_nBoidsMultiplier\">Number of Birds Multiplier\n\t\t\t\t\t\t(<span id=\"layer%{i}_prefs_birds_nBoidsMultiplier_valuetext\">1<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.2<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.2\" max=\"3\" value=\"1\" step=\"0.1\" class=\"\" name=\"layer%{i}_prefs_birds_nBoidsMultiplier\" id=\"layer%{i}_prefs_birds_nBoidsMultiplier\">\n\t\t\t\t\t\t<div class=\"rangeval\">3<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer%{i}_prefs_birds_birdSpeed\">Bird Speed\n\t\t\t\t\t\t(<span id=\"layer%{i}_prefs_birds_birdSpeed_valuetext\">0.003<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.001<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.001\" max=\"0.008\" value=\"0.003\" step=\"0.0001\" class=\"\" name=\"layer%{i}_prefs_birds_birdSpeed\" id=\"layer%{i}_prefs_birds_birdSpeed\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.008<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer%{i}_prefs_birds_alignmentRange\">Alignment Range\n\t\t\t\t\t\t(<span id=\"layer%{i}_prefs_birds_alignmentRange_valuetext\">0.003<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.001<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.001\" max=\"0.008\" value=\"0.003\" step=\"0.0001\" class=\"\" name=\"layer%{i}_prefs_birds_alignmentRange\" id=\"layer%{i}_prefs_birds_alignmentRange\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.008<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer%{i}_prefs_birds_alignmentStrength\">Alignment Strength\n\t\t\t\t\t\t(<span id=\"layer%{i}_prefs_birds_alignmentStrength_valuetext\">0.02<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.01<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.01\" max=\"0.08\" value=\"0.02\" step=\"0.001\" class=\"\" name=\"layer%{i}_prefs_birds_alignmentStrength\" id=\"layer%{i}_prefs_birds_alignmentStrength\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.08<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer%{i}_prefs_birds_attractionRange\">Attraction Range\n\t\t\t\t\t\t(<span id=\"layer%{i}_prefs_birds_attractionRange_valuetext\">0.015<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.001<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.001\" max=\"0.03\" value=\"0.015\" step=\"0.0001\" class=\"\" name=\"layer%{i}_prefs_birds_attractionRange\" id=\"layer%{i}_prefs_birds_attractionRange\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.03<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer%{i}_prefs_birds_attractionStrength\">Attraction Strength\n\t\t\t\t\t\t(<span id=\"layer%{i}_prefs_birds_attractionStrength_valuetext\">0.008<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.002<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.002\" max=\"0.012\" value=\"0.008\" step=\"0.001\" class=\"\" name=\"layer%{i}_prefs_birds_attractionStrength\" id=\"layer%{i}_prefs_birds_attractionStrength\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.012<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer%{i}_prefs_birds_avoidanceRange\">Avoidance Range\n\t\t\t\t\t\t(<span id=\"layer%{i}_prefs_birds_avoidanceRange_valuetext\">0.0018<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.001<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.001\" max=\"0.003\" value=\"0.0018\" step=\"0.0001\" class=\"\" name=\"layer%{i}_prefs_birds_avoidanceRange\" id=\"layer%{i}_prefs_birds_avoidanceRange\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.003<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer%{i}_prefs_birds_avoidanceStrength\">Avoidance Strength\n\t\t\t\t\t\t(<span id=\"layer%{i}_prefs_birds_avoidanceStrength_valuetext\">0.52<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.2<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.2\" max=\"0.8\" value=\"0.52\" step=\"0.001\" class=\"\" name=\"layer%{i}_prefs_birds_avoidanceStrength\" id=\"layer%{i}_prefs_birds_avoidanceStrength\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.8<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\n\t\t\t<div id=\"layer%{i}_prefs_fallingleaves\" class=\"hiding prefset\">\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer%{i}_prefs_fallingleaves_leafsize\">Leaf Size\n\t\t\t\t\t(<span id=\"layer%{i}_prefs_fallingleaves_leafsize_valuetext\">20<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">8<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"8\" max=\"28\" value=\"20\" step=\"1\" class=\"\" name=\"layer%{i}_prefs_fallingleaves_leafsize\" id=\"layer%{i}_prefs_fallingleaves_leafsize\">\n\t\t\t\t\t\t<div class=\"rangeval\">28<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer%{i}_prefs_fallingleaves_numLeaves\">Number of Leaves\n\t\t\t\t\t(<span id=\"layer%{i}_prefs_fallingleaves_numLeaves_valuetext\">20<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">8<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"8\" max=\"40\" value=\"20\" step=\"1\" class=\"\" name=\"layer%{i}_prefs_fallingleaves_numLeaves\" id=\"layer%{i}_prefs_fallingleaves_numLeaves\">\n\t\t\t\t\t\t<div class=\"rangeval\">40<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer%{i}_prefs_fallingleaves_magnitude\">Wind Cycle Magnitude\n\t\t\t\t\t(<span id=\"layer%{i}_prefs_fallingleaves_magnitude_valuetext\">1.2<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.3<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.3\" max=\"1.8\" value=\"1.2\" step=\"0.1\" class=\"\" name=\"layer%{i}_prefs_fallingleaves_magnitude\" id=\"layer%{i}_prefs_fallingleaves_magnitude\">\n\t\t\t\t\t\t<div class=\"rangeval\">1.8<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer%{i}_prefs_fallingleaves_maxSpeed\">Wind Max Speed\n\t\t\t\t\t(<span id=\"layer%{i}_prefs_fallingleaves_maxSpeed_valuetext\">12<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">3<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"3\" max=\"24\" value=\"12\" step=\"1\" class=\"\" name=\"layer%{i}_prefs_fallingleaves_maxSpeed\" id=\"layer%{i}_prefs_fallingleaves_maxSpeed\">\n\t\t\t\t\t\t<div class=\"rangeval\">24<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer%{i}_prefs_fallingleaves_duration\">Wind Max Duration\n\t\t\t\t\t(<span id=\"layer%{i}_prefs_fallingleaves_duration_valuetext\">300<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">3<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"50\" max=\"600\" value=\"300\" step=\"10\" class=\"\" name=\"layer%{i}_prefs_fallingleaves_duration\" id=\"layer%{i}_prefs_fallingleaves_duration\">\n\t\t\t\t\t\t<div class=\"rangeval\">24<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\n\t\t\t<div id=\"layer%{i}_prefs_bubblesoverhead\" class=\"hiding prefset\">\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer%{i}_prefs_bubblesoverhead_bubblesize\">Bubble Size Multiplier\n\t\t\t\t\t(<span id=\"layer%{i}_prefs_bubblesoverhead_bubblesize_valuetext\">0.4<\/span>)\n\t\t\t\t\t<\/label>\t\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">x0.1<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.1\" max=\"2.0\" value=\"0.4\" step=\".05\" class=\"\" name=\"layer%{i}_prefs_bubblesoverhead_bubblesize\" id=\"layer%{i}_prefs_bubblesoverhead_bubblesize\">\n\t\t\t\t\t\t<div class=\"rangeval\">x2.0<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer%{i}_prefs_bubblesoverhead_bubblefactor\">Bubble Number Multiplier\n\t\t\t\t\t(<span id=\"layer%{i}_prefs_bubblesoverhead_bubblefactor_valuetext\">0.6<\/span>)\n\t\t\t\t\t<\/label>\t\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">x0.1<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.1\" max=\"3.0\" value=\"0.6\" step=\".05\" class=\"\" name=\"layer%{i}_prefs_bubblesoverhead_bubblefactor\" id=\"layer%{i}_prefs_bubblesoverhead_bubblefactor\">\n\t\t\t\t\t\t<div class=\"rangeval\">x3.0<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer%{i}_prefs_bubblesoverhead_bubbleAcceleration\">Bubble Rise Acceleration\n\t\t\t\t\t(<span id=\"layer%{i}_prefs_bubblesoverhead_bubbleAcceleration_valuetext\">22<\/span>)\n\t\t\t\t\t<\/label>\t\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">1<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"1\" max=\"44\" value=\"22\" step=\"1\" class=\"\" name=\"layer%{i}_prefs_bubblesoverhead_bubbleAcceleration\" id=\"layer%{i}_prefs_bubblesoverhead_bubbleAcceleration\">\n\t\t\t\t\t\t<div class=\"rangeval\">44<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer%{i}_prefs_bubblesoverhead_bubbleDepth\">Vertical Travel Distance\n\t\t\t\t\t(<span id=\"layer%{i}_prefs_bubblesoverhead_bubbleDepth_valuetext\">1240<\/span>)\n\t\t\t\t\t<\/label>\t\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">300<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"300\" max=\"3000\" value=\"1240\" step=\"10\" class=\"\" name=\"layer%{i}_prefs_bubblesoverhead_bubbleDepth\" id=\"layer%{i}_prefs_bubblesoverhead_bubbleDepth\">\n\t\t\t\t\t\t<div class=\"rangeval\">3k<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer%{i}_prefs_bubblesoverhead_bubbleMassBase\">Bubble Base Mass\n\t\t\t\t\t(<span id=\"layer%{i}_prefs_bubblesoverhead_bubbleMassBase_valuetext\">0.8<\/span>)\n\t\t\t\t\t<\/label>\t\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.2<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.2\" max=\"1.8\" value=\"0.8\" step=\".05\" class=\"\" name=\"layer%{i}_prefs_bubblesoverhead_bubbleMassBase\" id=\"layer%{i}_prefs_bubblesoverhead_bubbleMassBase\">\n\t\t\t\t\t\t<div class=\"rangeval\">1.8<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer%{i}_prefs_bubblesoverhead_bubbleMassVariation\">Buble Mass Variation\n\t\t\t\t\t(<span id=\"layer%{i}_prefs_bubblesoverhead_bubbleMassVariation_valuetext\">0.2<\/span>)\n\t\t\t\t\t<\/label>\t\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0\" max=\"1\" value=\"0.2\" step=\".05\" class=\"\" name=\"layer%{i}_prefs_bubblesoverhead_bubbleMassVariation\" id=\"layer%{i}_prefs_bubblesoverhead_bubbleMassVariation\">\n\t\t\t\t\t\t<div class=\"rangeval\">1.0<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer%{i}_prefs_bubblesoverhead_wobbleStrength\">Wobble Distance\n\t\t\t\t\t(<span id=\"layer%{i}_prefs_bubblesoverhead_wobbleStrength_valuetext\">0.1<\/span>)\n\t\t\t\t\t<\/label>\t\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0\" max=\"1.5\" value=\"0.1\" step=\".01\" class=\"\" name=\"layer%{i}_prefs_bubblesoverhead_wobbleStrength\" id=\"layer%{i}_prefs_bubblesoverhead_wobbleStrength\">\n\t\t\t\t\t\t<div class=\"rangeval\">2.05<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer%{i}_prefs_bubblesoverhead_wobbleOmegaFactor\">Wobble Rotational Velocity\n\t\t\t\t\t(<span id=\"layer%{i}_prefs_bubblesoverhead_wobbleOmegaFactor_valuetext\">0.1<\/span>)\n\t\t\t\t\t<\/label>\t\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0\" max=\"1.5\" value=\"0.1\" step=\".01\" class=\"\" name=\"layer%{i}_prefs_bubblesoverhead_wobbleOmegaFactor\" id=\"layer%{i}_prefs_bubblesoverhead_wobbleOmegaFactor\">\n\t\t\t\t\t\t<div class=\"rangeval\">1.5<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer%{i}_prefs_bubblesoverhead_fov\">Field of View\n\t\t\t\t\t(<span id=\"layer%{i}_prefs_bubblesoverhead_fov_valuetext\">250<\/span>)\n\t\t\t\t\t<\/label>\t\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">50<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"50\" max=\"600\" value=\"250\" step=\"10\" class=\"\" name=\"layer%{i}_prefs_bubblesoverhead_fov\" id=\"layer%{i}_prefs_bubblesoverhead_fov\">\n\t\t\t\t\t\t<div class=\"rangeval\">600<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer%{i}_prefs_bubblesoverhead_currentOmegaFactor\">Current Direction Change Rate\n\t\t\t\t\t(<span id=\"layer%{i}_prefs_bubblesoverhead_currentOmegaFactor_valuetext\">8<\/span>)\n\t\t\t\t\t<\/label>\t\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.1<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.1\" max=\"20\" value=\"8\" step=\".1\" class=\"\" name=\"layer%{i}_prefs_bubblesoverhead_currentOmegaFactor\" id=\"layer%{i}_prefs_bubblesoverhead_currentOmegaFactor\">\n\t\t\t\t\t\t<div class=\"rangeval\">20<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer%{i}_prefs_bubblesoverhead_backgroundGradientOpacity\">Background Gradient Opacity\n\t\t\t\t\t(<span id=\"layer%{i}_prefs_bubblesoverhead_backgroundGradientOpacity_valuetext\">0.3<\/span>)\n\t\t\t\t\t<\/label>\t\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0\" max=\"1\" value=\"0.3\" step=\".05\" class=\"\" name=\"layer%{i}_prefs_bubblesoverhead_backgroundGradientOpacity\" id=\"layer%{i}_prefs_bubblesoverhead_backgroundGradientOpacity\">\n\t\t\t\t\t\t<div class=\"rangeval\">1<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer%{i}_prefs_bubblesoverhead_bubbleCanvasOpacity\">Bubble Opacity\n\t\t\t\t\t(<span id=\"layer%{i}_prefs_bubblesoverhead_bubbleCanvasOpacity_valuetext\">1<\/span>)\n\t\t\t\t\t<\/label>\t\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.1<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.1\" max=\"1\" value=\"1\" step=\".05\" class=\"\" name=\"layer%{i}_prefs_bubblesoverhead_bubbleCanvasOpacity\" id=\"layer%{i}_prefs_bubblesoverhead_bubbleCanvasOpacity\">\n\t\t\t\t\t\t<div class=\"rangeval\">1.0<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t\n\t\t\t<div id=\"layer%{i}_prefs_swarm\" class=\"hiding prefset\">\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer%{i}_prefs_swarm_imagesize\">Bug Size\n\t\t\t\t\t(<span id=\"layer%{i}_prefs_swarm_imagesize_valuetext\">1.55<\/span>)\n\t\t\t\t\t<\/label>\t\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.6<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.6\" max=\"2.05\" value=\"1.55\" step=\".05\" class=\"\" name=\"layer%{i}_prefs_swarm_imagesize\" id=\"layer%{i}_prefs_swarm_imagesize\">\n\t\t\t\t\t\t<div class=\"rangeval\">2.05<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer%{i}_prefs_swarm_numfactor\">Bug Count Multiplier\n\t\t\t\t\t(<span id=\"layer%{i}_prefs_swarm_numfactor_valuetext\">1<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t<div class=\"rangeval\">0.1<\/div>\n\t\t\t\t\t<input type=\"range\" min=\"0.1\" max=\"3.0\" value=\"1\" step=\".1\" class=\"\" name=\"layer%{i}_prefs_swarm_numfactor\" id=\"layer%{i}_prefs_swarm_numfactor\">\n\t\t\t\t\t<div class=\"rangeval\">3.0<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer%{i}_prefs_swarm_birdSpeed\">Bug Speed\n\t\t\t\t\t\t(<span id=\"layer%{i}_prefs_swarm_birdSpeed_valuetext\">0.003<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.001<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.001\" max=\"0.008\" value=\"0.003\" step=\"0.0001\" class=\"\" name=\"layer%{i}_prefs_swarm_birdSpeed\" id=\"layer%{i}_prefs_swarm_birdSpeed\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.008<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer%{i}_prefs_swarm_alignmentRange\">Alignment Range\n\t\t\t\t\t\t(<span id=\"layer%{i}_prefs_swarm_alignmentRange_valuetext\">0.003<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.001<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.001\" max=\"0.008\" value=\"0.003\" step=\"0.0001\" class=\"\" name=\"layer%{i}_prefs_swarm_alignmentRange\" id=\"layer%{i}_prefs_swarm_alignmentRange\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.008<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer%{i}_prefs_swarm_alignmentStrength\">Alignment Strength\n\t\t\t\t\t\t(<span id=\"layer%{i}_prefs_swarm_alignmentStrength_valuetext\">0.02<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.01<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.01\" max=\"0.08\" value=\"0.02\" step=\"0.001\" class=\"\" name=\"layer%{i}_prefs_swarm_alignmentStrength\" id=\"layer%{i}_prefs_swarm_alignmentStrength\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.08<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer%{i}_prefs_swarm_attractionRange\">Attraction Range\n\t\t\t\t\t\t(<span id=\"layer%{i}_prefs_swarm_attractionRange_valuetext\">0.015<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.001<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.001\" max=\"0.03\" value=\"0.015\" step=\"0.0001\" class=\"\" name=\"layer%{i}_prefs_swarm_attractionRange\" id=\"layer%{i}_prefs_swarm_attractionRange\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.03<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer%{i}_prefs_swarm_attractionStrength\">Attraction Strength\n\t\t\t\t\t\t(<span id=\"layer%{i}_prefs_swarm_attractionStrength_valuetext\">0.008<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.002<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.002\" max=\"0.012\" value=\"0.008\" step=\"0.001\" class=\"\" name=\"layer%{i}_prefs_swarm_attractionStrength\" id=\"layer%{i}_prefs_swarm_attractionStrength\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.012<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer%{i}_prefs_swarm_avoidanceRange\">Avoidance Range\n\t\t\t\t\t\t(<span id=\"layer%{i}_prefs_swarm_avoidanceRange_valuetext\">0.0018<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.001<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.001\" max=\"0.003\" value=\"0.0018\" step=\"0.0001\" class=\"\" name=\"layer%{i}_prefs_swarm_avoidanceRange\" id=\"layer%{i}_prefs_swarm_avoidanceRange\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.003<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer%{i}_prefs_swarm_avoidanceStrength\">Avoidance Strength\n\t\t\t\t\t\t(<span id=\"layer%{i}_prefs_swarm_avoidanceStrength_valuetext\">0.52<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.2<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.2\" max=\"0.8\" value=\"0.52\" step=\"0.001\" class=\"\" name=\"layer%{i}_prefs_swarm_avoidanceStrength\" id=\"layer%{i}_prefs_swarm_avoidanceStrength\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.8<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t<div id=\"layer%{i}_prefs_environmentlighting\" class=\"hiding prefset\">\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t'+lightvalueInput+'\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t\n\t\t\t<div id=\"layer%{i}_prefs_gradientedge\" class=\"hiding prefset\">\n\t\t\t\t<h4>Shape<\/h4>\n\t\t\t\t<div class=\"optioncontrol\" style=\"display:table;\">\n\t\t\t\t\t<div class=\"radiowrapper tablerow\">\n\t\t\t\t\t\t<label for=\"layer%{i}_prefs_gradientedge_geGradientTypeRect\" class=\"tablecell\">Rectangular<\/label>\n\t\t\t\t\t\t<input type=\"radio\" class=\"tablecell\"\n\t\t\t\t\t\tname=\"layer%{i}_prefs_gradientedge_geGradientType\" \n\t\t\t\t\t\tid=\"layer%{i}_prefs_gradientedge_geGradientType\" value=\"1\" checked>\n\t\t\t\t\t\t<input type=\"radio\" class=\"tablecell\"\n\t\t\t\t\t\tname=\"layer%{i}_prefs_gradientedge_geGradientType\" \n\t\t\t\t\t\tid=\"layer%{i}_prefs_gradientedge_geGradientTypeRad\" value=\"0\" >\n\t\t\t\t\t\t<label for=\"layer%{i}_prefs_gradientedge_geGradientType\" class=\"tablecell\">Radial<\/label>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer%{i}_prefs_gradientedge_geWidth\">Width\n\t\t\t\t\t(<span id=\"layer%{i}_prefs_gradientedge_geWidth_valuetext\">18<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t<div class=\"rangeval\">0%<\/div>\n\t\t\t\t\t<input type=\"range\" min=\"0\" max=\"49\" value=\"18\" step=\"1\" class=\"\" name=\"layer%{i}_prefs_gradientedge_geWidth\" id=\"layer%{i}_prefs_gradientedge_geWidth\">\n\t\t\t\t\t<div class=\"rangeval\">49%<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<h4>Colour<\/h4>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<input type=\"color\" class=\"\" value=\"#24243e\" name=\"layer%{i}_prefs_gradientedge_geColorOutside\" id=\"layer%{i}_prefs_gradientedge_geColorOutside\">\n\t\t\t\t\t<label for=\"layer%{i}_prefs_gradientedge_geColorOutside\">Outside<\/label>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<input type=\"color\" class=\"\" value=\"#302b63\" name=\"layer%{i}_prefs_gradientedge_geColorInside\" id=\"layer%{i}_prefs_gradientedge_geColorInside\">\n\t\t\t\t\t<label for=\"layer%{i}_prefs_gradientedge_geColorInside\">Inside<\/label>\n\t\t\t\t<\/div>\n\t\t\t\t<h4>Opacity<\/h4>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer%{i}_prefs_gradientedge_geOpacityEdge\">Outside\n\t\t\t\t\t(<span id=\"layer%{i}_prefs_gradientedge_geOpacityEdge_valuetext\">45<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t<div class=\"rangeval\">0%<\/div>\n\t\t\t\t\t<input type=\"range\" min=\"0\" max=\"100\" value=\"45\" step=\"1\" class=\"\" name=\"layer%{i}_prefs_gradientedge_geOpacityEdge\" id=\"layer%{i}_prefs_gradientedge_geOpacityEdge\">\n\t\t\t\t\t<div class=\"rangeval\">100%<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer%{i}_prefs_gradientedge_geOpacityCenter\">Inside\n\t\t\t\t\t(<span id=\"layer%{i}_prefs_gradientedge_geOpacityCenter_valuetext\">0<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t<div class=\"rangeval\">0%<\/div>\n\t\t\t\t\t<input type=\"range\" min=\"0\" max=\"100\" value=\"0\" step=\"1\" class=\"\" name=\"layer%{i}_prefs_gradientedge_geOpacityCenter\" id=\"layer%{i}_prefs_gradientedge_geOpacityCenter\">\n\t\t\t\t\t<div class=\"rangeval\">100%<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t<div id=\"layer%{i}_prefs_splat\" class=\"hiding prefset\">\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer%{i}_prefs_splat_duration\">Duration\n\t\t\t\t\t(<span id=\"layer%{i}_prefs_splat_duration_valuetext\">15<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t<div class=\"rangeval\">6s<\/div>\n\t\t\t\t\t<input type=\"range\" min=\"6\" max=\"20\" value=\"15\" step=\"0.5\" class=\"\" name=\"layer%{i}_prefs_splat_duration\" id=\"layer%{i}_prefs_splat_duration\">\n\t\t\t\t\t<div class=\"rangeval\">20s<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol table\">\n\t\t\t\t\t<div class=\"optioncontrol tablerow\">\n\t\t\t\t\t\t<label class=\"selectlabel tablecell\" for=\"layer%{i}_prefs_splat_ontoken\">Victim<\/label>\n\t\t\t\t\t\t<select class=\"tokenSelect tablecell\" id=\"layer%{i}_prefs_splat_ontoken\" name=\"layer%{i}_prefs_splat_ontoken\">\n\t\t\t\t\t\t'+pcSelect+'\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"optioncontrol tablerow\">\n\t\t\t\t\t\t<label class=\"checklabel tablecell\" for=\"layer%{i}_prefs_splat_owneronly\">Show Owner Only<\/label>\n\t\t\t\t\t\t<input type=\"hidden\" name=\"layer%{i}_prefs_splat_owneronly\" value=\"0\">\n\t\t\t\t\t\t<input type=\"checkbox\" name=\"layer%{i}_prefs_splat_owneronly\" id=\"layer%{i}_prefs_splat_owneronly\" value=1 checked>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"optioncontrol tablerow\">\n\t\t\t\t\t\t<label class=\"checklabel tablecell\" for=\"layer%{i}_prefs_splat_runaandfade\">Fade away<\/label>\n\t\t\t\t\t\t<input type=\"hidden\" name=\"layer%{i}_prefs_splat_runaandfade\" value=\"0\">\n\t\t\t\t\t\t<input type=\"checkbox\" name=\"layer%{i}_prefs_splat_runaandfade\" id=\"layer%{i}_prefs_splat_runaandfade\" value=1 checked>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t\n\t\t\t<div id=\"layer%{i}_prefs_bloodied\" class=\"hiding prefset\">\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer%{i}_prefs_bloodied_borderwidth\">Border Width\n\t\t\t\t\t(<span id=\"layer%{i}_prefs_bloodied_borderwidth_valuetext\">12<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t<div class=\"rangeval\">6vw<\/div>\n\t\t\t\t\t<input type=\"range\" min=\"6\" max=\"30\" value=\"12\" step=\"0.5\" class=\"\" name=\"layer%{i}_prefs_bloodied_borderwidth\" id=\"layer%{i}_prefs_bloodied_borderwidth\">\n\t\t\t\t\t<div class=\"rangeval\">30vw<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"layer%{i}_prefs_bloodied_bloodfilter\">Red Filter Opacty\n\t\t\t\t\t(<span id=\"layer%{i}_prefs_bloodied_bloodfilter_valuetext\">0.5<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t<div class=\"rangeval\">0%<\/div>\n\t\t\t\t\t<input type=\"range\" min=\"0\" max=\"1\" value=\"0.5\" step=\"0.05\" class=\"\" name=\"layer%{i}_prefs_bloodied_bloodfilter\" id=\"layer%{i}_prefs_bloodied_bloodfilter\">\n\t\t\t\t\t<div class=\"rangeval\">100%<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t<\/div>')]\n\n\t\t[soundPrefHTML='']\n\t\t[for(i, topSound, -1, -1, \"\"): soundPrefHTML = strformat('\n\t\t\t%{soundPrefHTML}\n\t\t\t<div id=\"sound%{i}_prefs\" class=\"hiding soundprefs\">\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"sound%{i}_prefs_volume\">Volume\n\t\t\t\t\t(<span id=\"sound%{i}_prefs_volume_valuetext\">1<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.00<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.00\" max=\"1.00\" value=\"1\" step=\".01\" class=\"\" name=\"sound%{i}_prefs_volume\" id=\"sound%{i}_prefs_volume\">\n\t\t\t\t\t\t<div class=\"rangeval\">1.00<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\" style=\"display:table;\">\n\t\t\t\t\t<div class=\"radiowrapper tablerow\">\n\t\t\t\t\t\t<label for=\"sound%{i}_prefs_loop0\" class=\"tablecell\">Play Once<\/label>\n\t\t\t\t\t\t<input type=\"radio\" class=\"tablecell\" name=\"sound%{i}_prefs_loop\" id=\"sound%{i}_prefs_loop0\" value=\"1\">\n\t\t\t\t\t\t<input type=\"radio\" class=\"tablecell\" name=\"sound%{i}_prefs_loop\" id=\"sound%{i}_prefs_loop1\" value=\"-1\" checked>\n\t\t\t\t\t\t<label for=\"sound%{i}_prefs_loop1\" class=\"tablecell\">Loop<\/label>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"sound%{i}_prefs_start\">Start Time Offset\n\t\t\t\t\t(<span id=\"sound%{i}_prefs_start_valuetext\">1<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0.00<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0.00\" max=\"1.00\" value=\"0\" step=\".01\" class=\"\" name=\"sound%{i}_prefs_start\" id=\"sound%{i}_prefs_start\">\n\t\t\t\t\t\t<div class=\"rangeval\">1.00<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optioncontrol\">\n\t\t\t\t\t<label class=\"rangelabel\" for=\"sound%{i}_prefs_stop\">Stop Time Offset\n\t\t\t\t\t(<span id=\"sound%{i}_prefs_stop_valuetext\">1000<\/span>)\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"rangewrapper\">\n\t\t\t\t\t\t<div class=\"rangeval\">0<\/div>\n\t\t\t\t\t\t<input type=\"range\" min=\"0\" max=\"1000\" value=\"1000\" step=\"1\" class=\"\" name=\"sound%{i}_prefs_stop\" id=\"sound%{i}_prefs_stop\">\n\t\t\t\t\t\t<div class=\"rangeval\">1,000<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t')]\n\t\t\t\n\t\t[setLibProperty(\"controlPanel_layerPrefHTML\", layerPrefHTML, lib)]\n\t\t[setLibProperty(\"controlPanel_soundPrefHTML\", soundPrefHTML, lib)]\n};{\n\t[layerPrefHTML = getLibProperty(\"controlPanel_layerPrefHTML\", lib)]\t\n\t[soundPrefHTML = getLibProperty(\"controlPanel_soundPrefHTML\", lib)]\n}]\n\n[h: layerSelectRows='']\n[h, for(i, topLayer, -1, -1, \"\"): layerSelectRows=\n\tstrformat('%{layerSelectRows}<tr class=\"accordionrow\">\n\t<td class=\"layerNum\">%{i}<\/td>\n\t<td>'+layerMenu+'<\/td>\n\t<td class=\"rowend\" nowrap>\n\t\t<input type=\"button\" class=\"prefButton\" id=\"prefbtn%{i}\" onclick=\"prefClick(event, "layer%{i}")\" value=\"⚒\">\n\t\t<input disabled type=\"button\" class=\"prefButton\" id=\"playbtn%{i}\" onclick=\"playClick(event, "layer%{i}")\" value=\"▶\">\n\t\t<input disabled type=\"button\" class=\"prefButton\" id=\"stopbtn%{i}\" onclick=\"stopClick(event, "layer%{i}")\" value=\"■\"><\/td><\/tr>')]\n\n[h: soundSelectRows='']\n[h, for(i, topSound, -1, -1, \"\"): soundSelectRows=\n\tstrformat('%{soundSelectRows}<tr class=\"accordionrow hiding\">\n\t<td class=\"layerNum\">%{i}<\/td>\n\t<td>'+soundMenu+'<\/td>\n\t<td class=\"rowend\" nowrap>\n\t\t<input type=\"button\" class=\"prefButton\" id=\"sound%{i}prefbtn\" onclick=\"sndprefClick(event, "sound%{i}prefbtn")\" value=\"⚒\">\n\t\t<input disabled type=\"button\" class=\"prefButton\" id=\"soundonbtn\" onclick=\"playSound(event)\" value=\"▶\">\n\t\t<input disabled type=\"button\" class=\"prefButton\" id=\"soundoffbtn\" onclick=\"stopSound(event)\" value=\"■\">\n\t\t<\/td>\n\t\t<\/tr>')]\n\t\n[h: frameHead= strformat('\n\t<head>\n\t<meta charset=\"utf-8\">\n\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n\t%{css}\n\t<\/head>')]\n[h: frameBody=strformat('\n\t<body>\n\t<form id=\"form\" action=%{processorLink} method=\"json\">\n\t<input type=\"hidden\" name=\"topLayer\" value=\"%{topLayer}\">\n\t<input type=\"hidden\" name=\"topSound\" value=\"%{topSound}\">\n\t<div class=\"\">\n\t\t<div class=\" layerselections\">\n\t\t\t<table>\n\t\t\t<tr class=\"accordionhead\"><th><div class=\"accordionbutton btnopen\" title=\"Does nothing\">▴<\/div><\/th><th><h4>Overlay Layers<\/h4><\/th><th><div class=\"settingsbtn\">⚒<\/div><\/th>\n\t\t\t<tr class=\"accordionrow\"><th width=3rem>Layer<\/th><th width=55%>Selection<\/th><th width=24%>Action<\/th>\n\t\t\t%{layerSelectRows}\n\t\t\t<tr class=\"accordionhead\"><th><div class=\"accordionbutton\">▾<\/div><\/th><th><h4>Overlay Sounds<\/h4><\/th><th><div class=\"settingsbtn\" title=\"Does nothing\">⚒<\/div><\/th>\n\t\t\t<tr class=\"accordionrow hiding\"><th width=3rem>Stream<\/th><th width=55%>Selection<\/th><th width=24%>Action<\/th>\n\t\t\t%{soundSelectRows}\t\n\t\t\t<\/table>\n\t\t<\/div><!-- layerselections -->\n\t\t<div class=\" overlayPrefs\">\n\t\t\t<div class=\"\">\n\t\t\t\t<div class=\"\">\n\t\t\t\t\t<table class=\"actionbtngroup\" border=0 cellspacing=0 cellpadding=0>\n\t\t\t\t\t\t<tr><td width=10%>\n\t\t\t\t\t\t<td  width=40%><input class=\"actionbtn\" type=\"submit\" name=\"submit\" id=\"launchbtn\" value=\"Launch\">\n\t\t\t\t\t\t<td width=40%><input class=\"actionbtn\" type=\"submit\" name=\"submit\" id=\"stopbtn\" value=\"Stop\">\n\t\t\t\t\t\t<td width=10%>\n\t\t\t\t\t<\/table>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"optionsPane\">\n\t\t\t\t<hr>\n\t\t\t\t<h4> Options<\/h4>\n\t\t\t\t%{layerPrefHTML}\n\t\t\t\t%{soundPrefHTML}\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t<\/div><!-- overlayPrefs -->\n\t<\/div><!--  -->\n\t<\/form>\n\t%{js}\n\t<\/body>')]\n\n[frame5(frameName, frameProps):{\n\t<html>\n\t[r: frameHead]\n\t[r: frameBody]\n\t<\/html>\n}]",
      "maxWidth": "",
      "tooltip": "",
      "applyToSelected": false,
      "compare": [],
      "metadata":       {
        "uuid": "aa64b062-ac80-4a08-b3f0-c41400b42415",
        "commandChecksum": "8c749beb60f7a19cb76eb2f457312f35",
        "propsChecksum": "06a94bae048785d4fddf1053e10acb8c"
      }
    },
        {
      "autoExecute": true,
      "color": "#dcffec",
      "fontColor": "black",
      "group": "Overlay Effects",
      "includeLabel": false,
      "sortBy": "45",
      "index": 18,
      "label": "Thunderstorm",
      "fontSize": "1.00em",
      "minWidth": "110",
      "playerEditable": false,
      "command": "[h: overlayName=\"fx0\"][h: zOrder=0][h: layerOpacity=1]\n[h, if(json.type(macro.args)==\"OBJECT\"):json.toVars(macro.args)]\n\n[h: css= strformat('\n<style>\n:root {\n\t--color1: rgba(34,34,34,.6);\n\t--color2: rgba(59,59,59,.3);\n}\nhtml {box-sizing: border-box;}\n\n*,\n*:before,\n*:after {\n  box-sizing: inherit;\n  margin: 0;\n  padding: 0;\n}\n\nhtml,\nbody,\ncanvas {\n  height: 100vh;\n  width: 100vw;\n}\n\nbody {\n\topacity: %{layerOpacity};\n  position: relative;\n  z-index: 0;\n  &:after {\n    content: \"\";\n    height: 100vh;\n  width: 100vw;\n    display: block;\n  position: absolute;\n  top: 0;\n  left: 0;\n    background-color: rgba(0, 0, 0, 0.1);\n    z-index: 1;\n    animation: thunder-bg 6s infinite;\n  }\n}\n\ncanvas {\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n\n#tsCanvas3 {z-index: 5;}\n#tsCanvas2 {z-index: 10;}\n#tsCanvas1 {z-index: 100;}\n\n.thunder {animation: thunder-bg 6s infinite;}\n\n@keyframes thunder-bg {\n\t0%   { background-color: var(--color1); }\n\t9%   { background-color: var(--color1); }\n\t10%  { background-color: var(--color2); }\n\t10.5%{ background-color: var(--color1); }\n\t80%  { background-color: var(--color1); }\n\t82%  { background-color: var(--color2); }\n\t83%  { background-color: var(--color1); }\n\t83.5%{ background-color: var(--color2); }\n\t100% { background-color: var(--color1); }\n}\n<\/style>\n')]\n\n[overlay(overlayName, zOrder): {\n\t[r: '\n<html>\n<head>\n<meta charset=\"UTF-8\">\n'+css+'\n<\/head>\n<body class=\"thunder\">\n  <canvas id=\"tsCanvas1\"><\/canvas>\n  <canvas id=\"tsCanvas2\"><\/canvas>\n  <canvas id=\"tsCanvas3\"><\/canvas>\n<\/body>\n<script type=\"text/javascript\">\n\nvar tsCanvas1 = document.getElementById(\"tsCanvas1\");\nvar tsCanvas2 = document.getElementById(\"tsCanvas2\");\nvar tsCanvas3 = document.getElementById(\"tsCanvas3\");\nvar tsCtx1 = tsCanvas1.getContext(\"2d\");\nvar tsCtx2 = tsCanvas2.getContext(\"2d\");\nvar tsCtx3 = tsCanvas3.getContext(\"2d\");\n\nvar rainthroughnum = 350;\nvar speedRainTrough = 25;\nvar RainTrough = [];\n\nvar rainnum = 60;\nvar rain = [];\n\nvar lightning = [];\nvar lightTimeCurrent = 0;\nvar lightTimeTotal = 0;\n\nvar w = tsCanvas1.width = tsCanvas2.width = tsCanvas3.width = window.innerWidth;\nvar h = tsCanvas1.height = tsCanvas2.height = tsCanvas3.height = window.innerHeight;\nwindow.addEventListener(\"resize\", function() {\n  w = tsCanvas1.width = tsCanvas2.width = tsCanvas3.width = window.innerWidth;\n  h = tsCanvas1.height = tsCanvas2.height = tsCanvas3.height = window.innerHeight;\n});\n\nfunction random(min, max) {\n  return Math.random() * (max - min + 1) + min;\n}\n\nfunction cleartsCanvas1() {\n  tsCtx1.clearRect(0, 0, w, h);\n}\n\nfunction cleartsCanvas2() {\n  tsCtx2.clearRect(0, 0, tsCanvas2.width, tsCanvas2.height);\n}\n\nfunction cleartsCanvas3() {\n  tsCtx3.globalCompositeOperation = \"destination-out\";\n  tsCtx3.fillStyle = \"rgba(0,0,0,\" + random(1, 30) / 100 + \")\";\n  tsCtx3.fillRect(0, 0, w, h);\n  tsCtx3.globalCompositeOperation = \"source-over\";\n};\n\nfunction createRainTrough() {\n  for (var i = 0; i < rainthroughnum; i++) {\n    RainTrough[i] = {\n      x: random(0, w),\n      y: random(0, h),\n      length: Math.floor(random(1, 830)),\n      opacity: Math.random() * 0.2,\n      xs: random(-2, 2),\n      ys: random(10, 20)\n    };\n  }\n}\n\nfunction createRain() {\n  for (var i = 0; i < rainnum; i++) {\n    rain[i] = {\n      x: Math.random() * w,\n      y: Math.random() * h,\n      l: Math.random() * 1,\n      xs: -4 + Math.random() * 4 + 2,\n      ys: Math.random() * 10 + 10\n    };\n  }\n}\n\nfunction createLightning() {\n  var x = random(100, w - 100);\n  var y = random(0, h / 4);\n\n  var createCount = random(1, 3);\n  for (var i = 0; i < createCount; i++) {\n    single = {\n      x: x,\n      y: y,\n      xRange: random(5, 30),\n      yRange: random(10, 25),\n      path: [{\n        x: x,\n        y: y\n      }],\n      pathLimit: random(40, 55)\n    };\n    lightning.push(single);\n  }\n};\n\nfunction drawRainTrough(i) {\n  tsCtx1.beginPath();\n  var grd = tsCtx1.createLinearGradient(0, RainTrough[i].y, 0, RainTrough[i].y + RainTrough[i].length);\n  grd.addColorStop(0, \"rgba(255,255,255,0)\");\n  grd.addColorStop(1, \"rgba(255,255,255,\" + RainTrough[i].opacity + \")\");\n\n  tsCtx1.fillStyle = grd;\n  tsCtx1.fillRect(RainTrough[i].x, RainTrough[i].y, 1, RainTrough[i].length);\n  tsCtx1.fill();\n}\n\nfunction drawRain(i) {\n  tsCtx2.beginPath();\n  tsCtx2.moveTo(rain[i].x, rain[i].y);\n  tsCtx2.lineTo(rain[i].x + rain[i].l * rain[i].xs, rain[i].y + rain[i].l * rain[i].ys);\n  tsCtx2.strokeStyle = \"rgba(174,194,224,0.5)\";\n  tsCtx2.lineWidth = 1;\n  tsCtx2.lineCap = \"round\";\n  tsCtx2.stroke();\n}\n\nfunction drawLightning() {\n  for (var i = 0; i < lightning.length; i++) {\n    var light = lightning[i];\n\n    light.path.push({\n      x: light.path[light.path.length - 1].x + (random(0, light.xRange) - (light.xRange / 2)),\n      y: light.path[light.path.length - 1].y + (random(0, light.yRange))\n    });\n\n    if (light.path.length > light.pathLimit) {\n      lightning.splice(i, 1);\n    }\n\n    tsCtx3.strokeStyle = \"rgba(255, 255, 255, .1)\";\n    tsCtx3.lineWidth = 3;\n    if (random(0, 15) === 0) {\n      tsCtx3.lineWidth = 6;\n    }\n    if (random(0, 30) === 0) {\n      tsCtx3.lineWidth = 8;\n    }\n\n    tsCtx3.beginPath();\n    tsCtx3.moveTo(light.x, light.y);\n    for (var pc = 0; pc < light.path.length; pc++) {\n      tsCtx3.lineTo(light.path[pc].x, light.path[pc].y);\n    }\n    if (Math.floor(random(0, 30)) === 1) { //to fos apo piso\n      tsCtx3.fillStyle = \"rgba(255, 255, 255, \" + random(1, 3) / 100 + \")\";\n      tsCtx3.fillRect(0, 0, w, h);\n    }\n    tsCtx3.lineJoin = \"miter\";\n    tsCtx3.stroke();\n  }\n};\n\nfunction animateRainTrough() {\n\tcleartsCanvas1();\n\tfor (var i = 0; i < rainthroughnum; i++) {\n\t\tif (RainTrough[i].y >= h) {\n\t\t\tRainTrough[i].y = h - RainTrough[i].y - RainTrough[i].length * 5;\n\t\t} else {\n\t\t\tRainTrough[i].y += speedRainTrough;\n\t\t}\n\t\tdrawRainTrough(i);\n\t}\n}\n\nfunction animateRain() {\n\tcleartsCanvas2();\n\tfor (var i = 0; i < rainnum; i++) {\n\t\train[i].x += rain[i].xs;\n\t\train[i].y += rain[i].ys;\n\t\tif (rain[i].x > w || rain[i].y > h) {\n\t\t\train[i].x = Math.random() * w;\n\t\t\train[i].y = -20;\n\t\t}\n\t\tdrawRain(i);\n\t}\n}\n\nfunction animateLightning() {\n\tcleartsCanvas3();\n\tlightTimeCurrent++;\n\tif (lightTimeCurrent >= lightTimeTotal) {\n\t\tcreateLightning();\n\t\tlightTimeCurrent = 0;\n\t\tlightTimeTotal = 200;  //rand(100, 200)\n\t}\n\tdrawLightning();\n}\n\nfunction init() {\n\tcreateRainTrough();\n\tcreateRain();\n\twindow.addEventListener(\"resize\", createRainTrough);\n}\ninit();\n\nfunction animloop() {\n\tanimateRainTrough();\n\tanimateRain();\n\tanimateLightning();\n\trequestAnimationFrame(animloop);\n}\nanimloop();\n<\/script>\n<\/html>\n' ]\n}]",
      "maxWidth": "",
      "tooltip": "",
      "applyToSelected": false,
      "compare": [],
      "metadata":       {
        "uuid": "96be0cc6-64c3-4436-b16e-ce6a81c52fe6",
        "commandChecksum": "ca6736bc9dfb281c4f6e12c0b3ec6822",
        "propsChecksum": "76984a5b05ecdf53169cd329d14902f0"
      }
    },
        {
      "autoExecute": true,
      "color": "blue",
      "fontColor": "yellow",
      "group": "Controls",
      "includeLabel": false,
      "sortBy": "99999",
      "index": 146,
      "label": "<font size=3>🛈 Notes",
      "fontSize": "1.00em",
      "minWidth": "110",
      "playerEditable": false,
      "command": "[r, dialog(\"Info\", \"width=570;  height=700; input=0; temporary=1; title=Info; noframe=0\"):{\n<html>\n<body>\n<table width=\"100%\" cellspacing=1 cellpadding=3><th><font color=\"blue\" size=5>The current crop of overlay effects that work... mostly\n\n<!-- --------------------- ADVISORY -------------------- -->\n<tr><th bgcolor=\"red\" color=\"yellow\">Advisory\n<tr><td>Some of these work brilliantly, some run like a dog with one leg pushing a wheelbarrow. Some take time to get going, and some seem to start according to some occult formula based on the phase of the moon.\n\n<!-- --------------------- DEPENDENCIES -------------------- -->\n<tr><th bgcolor=\"orange\" color=\"yellow\">Dependencies\n<tr><td>The table <u>\"tWeather\"<\/u> is required for effects that use images\n<br>(currently \"Birds\" and \"Falling Leaves\").\n<tr><td><b>Import it<\/b> because they are cool.\n\n<!-- --------------------- USAGE -------------------- -->\n<tr><th bgcolor=\"blue\" color=\"white\">Usage\n<tr><td bgcolor=\"#aaaaff\" color=\"black\">The <font bgcolor=\"#aa3333\" color=\"white\">  Red  <\/font> buttons. \"Stop FX\" & \"Close FX\"\n<tr><td>These stop all effects.\n<tr><td bgcolor=\"#aaaaff\" color=\"black\">The <font bgcolor=\"#33aa33\" color=\"white\"> Green <\/font> buttons.\n<tr><td> \n<dl>\n<dt>Full FX Panel<dd>Full granular control that allows multiple overlays and\nsounds to run concurrently\n<dt>👀 Shortcuts / VFXShortcuts<dd>A panel that allows you to launch one overlay at a time from a collection of buttons.\n<dt>🎧 Shortcuts / SFXShortcuts<dd>Same same but gor noise\n<tr><td><font bgcolor=\"#33aa33\" color=\"white\"> Full FX Panel <\/font> button > A control panel opens > Select overlays using the dropdowns.\n<tr><td>Lower numbered layers will be drawn under the higher numbered ones.\n<tr><td>If there are customisable options they will show in the options section. The hammer buttons next to the overlay name will switch between options sections. The other buttons don't do anything yet.\n\n<tr><td bgcolor=\"#aaaaff\" color=\"black\">The <font bgcolor=\"#eeefef\" color=\"black\"> Pastel Shades <\/font> buttons.\n<tr><td>Fun on your own. These just launch the overlay on your machine with none of that overlapping business. These are the code for the pretties that other things launch.\n\n<!-- --------------------- SOUNDS -------------------- -->\n<tr><th bgcolor=\"blue\" color=\"white\">Sound\n<tr><td>In the macro group <b>Sounds<\/b> you can find several buttons that will execute the respective sound stream on the local and all connected clients. If you edit one of these macros you will notice the first 3 lines:<br><i>\nlink\t\t= \"https://dl.dropboxusercontent.com/s/hp0zitmjd6rziu5/Rain%20Heavy%20.mp3\"<br>\nrepeat\t\t= -1<br>\nvolume\t\t= 0.5<br><\/i>\nFirst off, I will advice you to download the sound file if you like it (you can simply copy paste it in your browser) and create your own link. You can do this for example in dropbox by creating a link for the file in dropbox and copy paste that link in the <font bgcolor=\"#ffffff\" color=\"black\"> dropbox audio link converter <\/font> macro. Run this macro, paste the link in de input box and hit ok. In the chat it will show the converted link you can use in the sound macro. <br><br>\nThe repeat you can set to 1 if you only want to play it once (2 is twice, etc.) default is -1 which is continuously.<br>\nFinally volume is a value between 0 and 1 where 0 is no sound and 1 is loudest.<br><br>\n\nIf you like you can create new sounds in this macro group (Sounds). Simply right mouse click on one macro and hit 'Duplicate'. Then edit the name of the macro and the link. It will automatically show up in the launcher. <br><br>\n\n<b>Note<\/b> that you can always play the sound on all clients by simply running the macro directly. \n\n\n\n<!-- --------------------- WEIRDNESS -------------------- -->\n<tr><th bgcolor=\"orange\" color=\"yellow\">Some Weirdness Explained\n<tr><td>1. When you launch an overlay with the same name as an existing overlay, it does not automatically kill any existing JavaScript that is running.\n<tr><td>This is also the case when you close an overlay. This means that your machine can get bogged down running scripts that you can't even see.\n<tr><td>This is why the red buttons do a dodgy fix to replace the existing JS with nothing.\n<tr><td><br>2. The Java implementation of HTML5 runs some stuff up to 15 times slower than a browser. You can spend a week making the worlds prettiest animated overlay only to find it runs at 3 frames/second. If you can be bothered optimising and refining the code, please do. Most of these were swiped from the internet and have not been examined for efficiency.\n<\/body>\n<\/html>\n}]",
      "maxWidth": "",
      "tooltip": "<html>Comments",
      "applyToSelected": false,
      "compare":       [
        "group",
        "sortPrefix",
        "command",
        "includeLabel",
        "autoExecute",
        "applyToSelected"
      ],
      "metadata":       {
        "uuid": "5c5c59f4-153a-46df-b4d1-e3ce9ee3db52",
        "commandChecksum": "43f8d97b4e1e6fe80049229991459951",
        "propsChecksum": "33dccfbfd1dc38770984aae2e245b060"
      }
    },
        {
      "autoExecute": true,
      "color": "teal",
      "fontColor": "white",
      "group": "Campaign",
      "includeLabel": false,
      "sortBy": "0",
      "index": 147,
      "label": "Full FX Panel",
      "fontSize": "1.00em",
      "minWidth": "110",
      "playerEditable": false,
      "command": "[r, macro(\"FX Panel@lib:weather\"):\"\"]",
      "maxWidth": "",
      "tooltip": "",
      "applyToSelected": false,
      "compare": [],
      "metadata":       {
        "uuid": "0fcef359-07ec-45b7-8867-b90a29347b48",
        "commandChecksum": "19afad149725f200317599a14c5f6851",
        "propsChecksum": "00af46f0c2b753f26e0317a1a84dbb22"
      }
    },
        {
      "autoExecute": true,
      "color": "white",
      "fontColor": "#006600",
      "group": "Campaign",
      "includeLabel": false,
      "sortBy": "0",
      "index": 148,
      "label": "<html>👀 Shortcuts<\/html>",
      "fontSize": "1.00em",
      "minWidth": "110",
      "playerEditable": false,
      "command": "[r, macro(\"VFXShortcuts@lib:weather\"):\"\"]",
      "maxWidth": "",
      "tooltip": "",
      "applyToSelected": false,
      "compare": [],
      "metadata":       {
        "uuid": "bf6a9580-fc82-4783-8e23-3140250477a8",
        "commandChecksum": "c830e75a4cea214fdc19176dab712a44",
        "propsChecksum": "5477d158e62f48cc0f80dec10f164e56"
      }
    },
        {
      "autoExecute": true,
      "color": "green",
      "fontColor": "white",
      "group": "Controls",
      "includeLabel": false,
      "sortBy": "0",
      "index": 149,
      "label": "VFXShortcuts",
      "fontSize": "1.00em",
      "minWidth": "110",
      "playerEditable": false,
      "command": "[h: assert(isGM(), \"You are not powerful enough to control the weather.\")]\n[h: lib = getMacroLocation()][h: defineFunction(\"runMacro\", \"runMacro@\"+lib)]\n\n[h: frameName=\"Overlay Shortcuts\"]\n[h: frameProps=\"width=100; height=220; temporary=0; title=Overlay Shortcuts; tabtitle=FX Shortcuts\"]\n[h: devcache=1][h: debug=0]\n[h, code:{\n\t[olayIDList      = getMacroGroup(\"Overlay Effects\", \"json\", lib)]\n\t[olayNameList    = \"\"]\n\t[foreach(olay, olayIDList): olayNameList = json.append(olayNameList, json.get(getMacroProps(olay, \"json\", lib),\"label\"))]\n\t\n\t[olayNameList = json.sort(olayNameList)]\n\t[olayVarList  = replace(olayNameList, \" \", \"_\")]\n\t\n\t[vfxShortcutHistory=getLibProperty(\"vfxShortcutHistory\", lib)]\n\t[json.toVars(vfxShortcutHistory)]\n\t[inputArr = \"tab0|Shortcut Selection||TAB##vlabel|<html><h3>Overlays shortcuts to display||LABEL|SPAN=TRUE\"]\n\t[for(i, 0, json.length(olayNameList)-1), code:{\n\t\t[inputVar   = json.get(olayVarList, i)]\n\t\t[if(json.contains(vfxShortcutHistory, inputVar)): inputVal = eval(inputVar); inputVal = 0]\n\t\t[inputLabel = json.get(olayNameList, i)]\n\t\t[inputArr = json.append(inputArr, inputVar+\"|\"+inputVal+\"|\"+inputLabel+\"|CHECK\")]\n\t}]\n\n\t[inputArr=json.append(inputArr,\n\"tab1|Display Options 1,||TAB\",\n\"vlabel|<html><h3>Button CSS||LABEL|SPAN=TRUE\",\n\"cssbackground_color| #ddeeff|Background Colour|TEXT\",\n\"cssborder|1px dotted #aaaaff|Border|TEXT\",\n\"cssborder_radius| 6px|Border Radius|TEXT\",\n\"csscolor| navy|Text Colour|TEXT\",\n\"csscursor| pointer|Cursor Type|TEXT\",\n\"cssfloat|left|Float|TEXT\",\n\"cssfont_size| 9pt|Font Size|TEXT\",\n\"cssmargin| 2px|Margin|TEXT\",\n\"cssmargin_bottom| 6px|Margin(Bottom)|TEXT\",\n\"cssoverflow| hidden|Overflow|TEXT\",\n\"csspadding| 2px 4px|Padding|TEXT\",\n\"csstext_align| center|Text Align|TEXT\",\n\"csstext_decoration|none|Text Decoration|TEXT\",\n\"csstext_overflow| ellipsis|Text Overflow|TEXT\",\n\"csstext_shadow| 1px 1px 2px white, -1px -1px 2px white, 1px -1px 3px white, -1px 1px 3px white|Text Shadow|TEXT\",\n\"csswhite_space| nowrap|White Space|TEXT\",\n\"cssmax_width| 140px|Maximum Width|TEXT\",\n\"csswidth| 94vw|Width|TEXT\",\n\n\"tab1|Display Options 2,||TAB\",\n\"vlabel|<html><h3>Button CSS on Hover||LABEL|SPAN=TRUE\",\n\"csshover_background_color| #eeeeff|Background Colour|TEXT\",\n\"csshover_background_image| repeating-radial-gradient(#eeeeff 0%, #dad0ff 4%)|Background Image|TEXT\",\n\"csshover_border|1px solid #8888ff|Border|TEXT\",\n\"vlabel|<html><h3>Close Button CSS||LABEL|SPAN=TRUE\",\n\"cssclose_background_color| #ffddee|Background Colour|TEXT\",\n\"cssclose_border|1px dotted #ffaaaa|Border|TEXT\",\n\"cssclose_color| maroon|Text Colour|TEXT\",\n\"vlabel|<html><h3>Close Button CSS on Hover||LABEL|SPAN=TRUE\",\n\"cssclose_hover_background_color| #ffeeee|Background Colour|TEXT\",\n\"cssclose_hover_background_image| repeating-radial-gradient(#ffeeee 0%, #ffdad0 4%)|Background Image|TEXT\",\n\"cssclose_hover_border|1px solid #ff8888|Border|TEXT\"\n)]\n\t\n\t[abort(input(json.toList(inputArr, \"##\")))]\n\n\t[foreach(varName, olayVarList):\n\t\tvfxShortcutHistory=json.set(vfxShortcutHistory, varName, eval(varName))]\t\n\t[setLibProperty(\"vfxShortcutHistory\", vfxShortcutHistory, lib)]\n}]\n\n[h, if(devCache), code:{\n\t[buttonObj='']\n\t[for(i, 0, json.length(olayNameList)-1), code:{\n\t\t[buttonid   = json.get(olayVarList, i)]\n\t\t[buttonname = json.get(olayNameList, i)]\n\t\t[uri        = macroLink(buttonname, \"runMacro@\"+lib, \"all\", json.append(\"\", buttonname, 0), lib)]\n\t\t[buttonObj  = json.set(buttonObj, buttonname, \n\t\tstrformat('<div name=\"%{buttonname}\" id=\"%{buttonid}\"><span title=\"%{buttonname}\">%{uri}<\/span><\/div>'))]\n\t}]\n\t[setLibProperty(\"vfxShortcutButtons\", buttonObj, lib)]\n\t[if(debug): broadcast(\"Buttons cached\", \"gm\")]\n};{\n\t[buttonObj = getLibProperty(\"vfxShortcutButtons\", lib)]\n\t[if(debug): broadcast(\"Button cache read\", \"gm\")]\n}]\n\n[h: uri = macroLink(\"Close FX\", \"runMacro@\"+lib, \"all\", json.append(\"\", \"Close FX\", 0), lib)]\n[h: uri = replace(uri, 'a href', 'a class=\"close\" href')]\n[h: buttons=\t\tstrformat('<div name=\"Close FX\" id=\"CloseFX\"><span title=\"Close Overlays\">%{uri}<\/span><\/div>')]\n[h, for(i, 0, json.length(olayNameList)-1), code:{\n\t[ifTest=eval(json.get(olayVarList, i))]\n\t[if(ifTest): buttons=buttons+json.get(buttonObj, json.get(olayNameList, i))]\n\t\n}]\n[h, if(debug): broadcast(\"Buttons selected from cache\", \"gm\")]\n[h: css=strformat('\n:root{\n--background-color:\t\t\t\t%{cssbackground_color};\n--border:                       %{cssborder};\n--border-radius:                %{cssborder_radius};\n--color:                        %{csscolor};\n--cursor:                       %{csscursor};\n--float:                        %{cssfloat};\n--font-size:                    %{cssfont_size};\n--margin:                       %{cssmargin};\n--margin-bottom:                %{cssmargin_bottom};\n--overflow:                     %{cssoverflow};\n--padding:                      %{csspadding};\n--text-align:                   %{csstext_align};\n--text-decoration:              %{csstext_decoration};\n--text-overflow:                %{csstext_overflow};\n--text-shadow:                  %{csstext_shadow};\n--white-space:                  %{csswhite_space};\n--max-width:                    %{cssmax_width};\n--width:                        %{csswidth};\n--close-background-color:       %{cssclose_background_color};\n--close-border:                 %{cssclose_border};\n--close-color:                  %{cssclose_color};\n--close-hover-background-color: %{cssclose_hover_background_color}; \n--close-hover-background-image: %{cssclose_hover_background_image};\n--close-hover-border:           %{cssclose_hover_border};\n--hover-background-color:       %{csshover_background_color}; \n--hover-background-image:       %{csshover_background_image};\n--hover-border:                 %{csshover_border};\n}\n* {\n\tbox-sizing: border-box;\n\tmargin: 0;\n\tpadding:0;\n}\n.buttonContainer {\n\tmargin:6px;\n}\nspan { width:100%; }\nbody {\n\tbackground: white;\n}\na {\nbackground-color: var(--background-color);\nborder:           var(--border);\nborder-radius:    var(--border-radius);\ncolor:            var(--color);\ncursor:           var(--cursor);\nfloat:            var(--float);\nfont-size:        var(--font-size);\nmargin:           var(--margin);\nmargin-bottom:    var(--margin-bottom);\noverflow:         var(--overflow);\npadding:          var(--padding);\ntext-align:       var(--text-align);\ntext-decoration:  var(--text-decoration);\ntext-overflow:    var(--text-overflow);\ntext-shadow:      var(--text-shadow);\nwhite-space:      var(--white-space);\nmax-width:        var(--max-width);\nwidth:            var(--width);\n}\n.close {\n\tbackground-color: var(--close-background-color);\n\tborder:           var(--close-border);\n\tcolor:            var(--close-color);\n}\n.close:hover {\n\tbackground-color: var(--close-hover-background-color); \n\tbackground-image: var(--close-hover-background-image);\n\tborder:           var(--close-hover-);\n\t\n}\na:hover {\n\tbackground-color: var(--hover-background-color); \n\tbackground-image: var(--hover-background-image);\n\tborder:           var(--hover-border);\n')]\n\n\n[h: frameHead= strformat('\n\t<head>\n\t<meta charset=\"utf-8\">\n\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n\t<style>%{css}<\/style>\n\t<\/head>')]\n[h: frameBody=strformat('\n\t<body>\n\t<div class=\"\">\n\t\t<div class=\"buttonContainer\">\n\t\t\t%{buttons}\n\t\t<\/div><!-- layerselections -->\n\t<\/div>\n\t<\/body>')]\n\n[frame5(frameName, frameProps):{\n\t<html>\n\t[r: frameHead]\n\t[r: frameBody]\n\t<\/html>\n}]",
      "maxWidth": "",
      "tooltip": "",
      "applyToSelected": false,
      "compare": [],
      "metadata":       {
        "uuid": "645b3cc7-b723-4880-8eb7-974e74c79bfd",
        "commandChecksum": "2f716ea022e88fb30b4f97136a57c5c2",
        "propsChecksum": "67d096bf01ad0f6aea6b6411f7433f05"
      }
    },
        {
      "autoExecute": true,
      "color": "#dcffec",
      "fontColor": "black",
      "group": "Overlay Effects",
      "includeLabel": false,
      "sortBy": "42",
      "index": 25,
      "label": "Rain Heavy",
      "fontSize": "1.00em",
      "minWidth": "110",
      "playerEditable": false,
      "command": "[h: overlayName=\"fx0\"][h: zOrder=0][h: layerOpacity=1]\n[h, if(json.type(macro.args)==\"OBJECT\"):json.toVars(macro.args)]\n\n[h: css=strformat('\n* {background:transparent;}\nbody{opacity: %{layerOpacity};}\n')]\n\n[overlay(overlayName, zOrder): {\n\t[r: '\n<html>\n<head>\n<meta charset=\"UTF-8\">\n<style>\n'+css+'\n<\/style>\n<\/head>\n<body>\n<canvas id=\"canvas\"><\/canvas>\n<script type=\"text/javascript\">\n\"use strict\"\nconst fps = 60;\nconst maxParts = 1000;\n\nvar canvas;\nvar ctx; \nvar w, h;\nvar init = new Array();\nvar particles = new Array();\nvar animId, dt, t0;\n\nfunction draw() {\n  ctx.clearRect(0, 0, w, h);\n  for (var c = 0; c < particles.length; c++) {\n\tvar p = particles[c];\n\tctx.beginPath();\n\tctx.moveTo(p.x, p.y);\n\tctx.lineTo(p.x + p.l * p.xs, p.y + p.l * p.ys);\n\tctx.stroke();\n  }\n  move();\n}\n\nfunction move() {\n  for (var b = 0; b < particles.length; b++) {\n\tvar p = particles[b];\n\tp.x += p.xs;\n\tp.y += p.ys;\n\tif (p.x > w || p.y > h) {\n\t  p.x = Math.random() * w;\n\t  p.y = -40;\n\t}\n  }\n}\nfunction animFrame(){\n    setInterval(function() {\n          animId = requestAnimationFrame(animFrame,canvas);\n          onTimer();\n    }, 1000/fps);\n}\n\nfunction onTimer(){\n\tvar t1 = new Date().getTime(); \n\tdt = 0.001*(t1-t0); \n\tt0 = t1;\n\tif (dt>0.2) {dt=0;};\n\tif(dt>0){ \n\t\tdraw()\n\t}\n}\n\nfunction setup() {\n\tcanvas = document.getElementById(\"canvas\");\n\tcanvas.width = window.innerWidth;\n\tcanvas.height = window.innerHeight;\n\t\n\tctx = canvas.getContext(\"2d\");\n\tw = canvas.width;\n\th = canvas.height;\n\tctx.clearRect(0, 0, w, h);\n\t\n\tfor (var a = 0; a < maxParts; a++) {\n\t  init.push({\n\t\tx: Math.random() * w,\n\t\ty: Math.random() * h,\n\t\tl: Math.random() * 4,\n\t\txs: -4 + Math.random() * 4 ,\n\t\tys: Math.random() * 10 + 18\n\t  })\n\t}\n\tfor (var b = 0; b < maxParts; b++) {\n\t  particles[b] = init[b];\n\t}\n\t\n\tctx.strokeStyle = \"rgba(174,194,224,0.5)\";\n\tctx.lineWidth = 1;\n\tctx.lineCap = \"round\";\n\t\n\tcanvas.style.display=\"block\";\n\tanimFrame();\n}\nwindow.onresize = function() {\n\tw = window.innerWidth;\n\th = window.innerHeight;\n\tcanvas.width = w;\n\tcanvas.height = h;\n}\nwindow.onload = setup;\n<\/script>\n<\/body>\n<\/html>\n']\n}]",
      "maxWidth": "",
      "tooltip": "",
      "applyToSelected": false,
      "compare": [],
      "metadata":       {
        "uuid": "2065c10f-0277-4ad9-aa19-cbc3fff33279",
        "commandChecksum": "de79c0f3e1e218e3fe733926da0dc28a",
        "propsChecksum": "847cf4609f4d708f35d1cdd4d13f7178"
      }
    },
        {
      "autoExecute": true,
      "color": "#acffff",
      "fontColor": "black",
      "group": "Overlay Effects",
      "includeLabel": false,
      "sortBy": "30",
      "index": 30,
      "label": "Rainbow",
      "fontSize": "1.00em",
      "minWidth": "110",
      "playerEditable": false,
      "command": "[h: overlayName=\"fx0\"][h: zOrder=0]\t[h: layerOpacity=1]\n[h, if(json.type(macro.args)==\"OBJECT\"):json.toVars(macro.args)]\n\n[h: css=strformat('body {opacity: %{layerOpacity};}\n.rainbowContainer {\n\toverflow: hidden;\n\tposition: absolute;\n\tmargin: 0;\n\tpadding: 0;\n\tbox-sizing: border-box;\n\tleft:0;\n\ttop:0;\n\twidth: 100vw;\n\theight: 100vh;\n\t}\n.rainbow {\n\tdisplay:block;\n\tposition: absolute;\n\tleft:-150vw;\n\ttop:-100vh;\n\theight:500vw;\n\twidth:500vw;\n\tbackground-repeat: repeat;\n\tanimation-timing-function: ease;\n\topacity: 0;\n}\n.rainbow1 {\n\tbackground: radial-gradient(\n      transparent 45.8%,\n      #ff0000     46%,\n      #ff7700     46.5%,\n      #FFDD00     47%,\n      #00FF00     47.5%,\n      #0000FF     48%,\n\t  #C77DF3     48.5%,\n      #8A2BE2     49%,\n      transparent 49.1%);\n\tanimation: rainbow-anim-1 65s infinite;\n}\n.rainbow2 {\n\tbackground: radial-gradient(\n      transparent 39.8%,\n      #ff0000     40%,\n      #ff7700     40.5%,\n      #FFDD00     41%,\n      #00FF00     41.5%,\n      #0000FF     42%,\n\t  #C77DF3     42.5%,\n      #8A2BE2     43%,\n      transparent 43.1%);\n\tanimation: rainbow-anim-2 65s infinite;\n}\n.rainbow3 {\n\tbackground: radial-gradient(\n      transparent 33.8%,\n      #ff0000     34%,\n      #ff7700     34.5%,\n      #FFDD00     35%,\n      #00FF00     35.5%,\n      #0000FF     36%,\n\t  #C77DF3     36.5%,\n      #8A2BE2     37%,\n      transparent 37.1%);\n\tanimation: rainbow-anim-3 65s infinite;\n}\n\n@keyframes rainbow-anim-1 {\n  0% {opacity:0;   }\n 10% {opacity:0;   }\n 20% {opacity:.2;  }\n 34% {opacity:0;   }\n100% {opacity:0;   }\n}\n@keyframes rainbow-anim-2 {\n  0% {opacity:0;   }\n 12% {opacity:0;   }\n 20% {opacity:.13;  }\n 30% {opacity:0;   }\n100% {opacity:0;   }\n}\n@keyframes rainbow-anim-3 {\n  0% {opacity:0;   }\n 14% {opacity:0;   }\n 20% {opacity:.06;  }\n 28% {opacity:0;   }\n100% {opacity:0;   }\n}\n')]\n[overlay(overlayName, zOrder): {\n\t\n[r: strformat('\n<html>\n<head>\n<meta charset=\"UTF-8\">\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n<style>\n%{css}\n<\/style>\n<\/head>\n<body>\n<div class=\"rainbowContainer\">\n\t<div class=\"rainbow rainbow1\"><\/div>\n\t<div class=\"rainbow rainbow2\"><\/div>\n\t<div class=\"rainbow rainbow3\"><\/div>\n<\/div>\n<\/body>\n<\/html>\n')]\n}]",
      "maxWidth": "",
      "tooltip": "",
      "applyToSelected": false,
      "compare": [],
      "metadata":       {
        "uuid": "bdadd25f-302e-4d24-a5fa-ea90261b0891",
        "commandChecksum": "05cce59b924710868d411d36ac08084d",
        "propsChecksum": "2b5961a2b0634b4caf1d798f3c366cf9"
      }
    },
        {
      "autoExecute": true,
      "color": "#ffdcec",
      "fontColor": "black",
      "group": "Overlay Effects",
      "includeLabel": false,
      "sortBy": "81",
      "index": 31,
      "label": "Starfield1",
      "fontSize": "1.00em",
      "minWidth": "110",
      "playerEditable": false,
      "command": "[h: overlayName=\"fx0\"][h: zOrder=0][h: layerOpacity=1]\n[h, if(json.type(macro.args)==\"OBJECT\"):json.toVars(macro.args)]\n[h: css='\n<style>\nbody {\n  height: 100vh;\n  width: 100vw;\n  padding: 0;\n  margin: 0;\n  overflow: hidden;\n  opacity: %{layerOpacity};\n  background: linear-gradient(to top, #00000066, #15474366);\n}\n\nimg {\n  position: absolute;\n  width: 100vw;\n  height: 100vh;\n  opacity: 0.2;\n  pointer-events: none;\n}\n\ncanvas {\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  padding: 0;\n  background-size: cover !important;\n  width:100vw;\n  height:100vh;\n}\n\n<\/style>']\n\n[overlay(overlayName,  zOrder): {\n\t[r: '\n<html>\n<head>\n'+css+'\n<meta charset=\"UTF-8\">\n<title>Canvas Lightning Effect<\/title>\n<\/head>\n\n\n<body>\n<canvas id=\"starfield\">\n\t<\/canvas>\n<\/body>\n<script>\nvar canvas = document.getElementById(\"starfield\");\nconst ctx = canvas.getContext(\"2d\");\nconst doFor = (count, callback) => {\n  var i = 0;\n  while (i < count) {\n    callback(i++)\n  }\n};\nconst randI = (min, max = min + (min = 0)) => (Math.random() * (max - min) + min) | 0;\nconst rand = (min, max = min + (min = 0)) => Math.random() * (max - min) + min;\nconst point = (x = 0, y) => {\n  if (x.x && y === undefined) {return { x: x.x,y: x.y} }\n  return {x,y: y === undefined ? 0 : y }\n};\nfunction ease (time, amount = 2) { return Math.pow(time % 1,amount) };\nconst clamp = (v, min = 1,max = min + (min = 0)) => v < min ? min : v > max ? max : v;\n\nconst skyColour = [10,30,50,0.1];\nconst density = 1000; // number of star per every density pixels\nconst colourChangeRate = 20; // Time in frames to change a colour\nconst stars = [];\nconst star = {\n  draw() {\n    this.count += 1; \n    if (this.count % colourChangeRate === 0) { \n      var c = (Math.random() + Math.random() + Math.random() + Math.random()) * 4;\n      var str = \"#\";\n      str += Math.floor(c * this.red).toString(16); \n      str += Math.floor(c * this.green).toString(16);\n      str += Math.floor(c * this.blue).toString(16);      \n\n      this.col = str;\n    }\n    ctx.fillStyle = this.col;\n    var ox = (Math.random() + Math.random() + Math.random() + Math.random()) / 4;\n    var oy = (Math.random() + Math.random() + Math.random() + Math.random()) / 4;\n    ctx.fillRect(this.pos.x + ox, this.pos.y + oy, this.size, this.size);\n  }\n}\nfunction createStar(pos) {\n  stars.push(Object.assign({}, star, {\n    pos,\n    col: \"#ccc\",\n    count: randI(colourChangeRate),\n    size: rand(1) * rand(1) * 2 + .5,\n    red: 1-(rand(1) * rand(1) *rand(1)), \n    green: 1-(rand(1) * rand(1) *rand(1)),\n    blue: 1-(rand(1) * rand(1) *rand(1)), \n  }));\n}\n\nvar starCount;\nvar skyGrad;\n\nfunction mainLoop(time) {\n  if (canvas.width !== innerWidth || canvas.height !== innerHeight) {\n    canvas.width = innerWidth;\n    canvas.height = innerHeight;\n    stars.length = 0;\n    starCount = Math.floor((canvas.width * canvas.height) / density);\n    doFor(starCount, () => createStar(point(randI(canvas.width), randI(canvas.height))));\n    skyGrad = ctx.createLinearGradient(0,0,0,canvas.height);\n    skyGrad.addColorStop(0,\"rgba(0,0,0,0.1)\");\n    doFor(100,(i)=>{\n        var pos  = clamp(i/100,0,1);\n        var col = ease(pos);\n        skyGrad.addColorStop(\n            pos,\n            \"rgba(\" + \n              Math.floor(skyColour[0] * col) + \",\" +\n              Math.floor(skyColour[1] * col) + \",\" +\n              Math.floor(skyColour[2] * col) + \",\" +\n              Math.floor(skyColour[3] * col) + \")\"\n         );\n     });\n     skyGrad.addColorStop(1,\"rgba(\"+skyColour[0]+\",\"+skyColour[1]+\",\"+skyColour[2]+\",\"+skyColour[3]+\")\");\n    \n  }\n  ctx.fillStyle = skyGrad;\n  ctx.fillRect(0, 0, canvas.width, canvas.height);\n  doFor(starCount, (i) => stars[i].draw());\n\n  requestAnimationFrame(mainLoop);\n}\nrequestAnimationFrame(mainLoop);\n<\/script>\n\n<\/body>\n<\/html>\n' ]\n}]",
      "maxWidth": "",
      "tooltip": "",
      "applyToSelected": false,
      "compare": [],
      "metadata":       {
        "uuid": "ee59e2ac-d973-42d7-84af-293e6b8cbbfe",
        "commandChecksum": "86b1a21dca6bf923b97d0c7b33f71d3b",
        "propsChecksum": "156d7d5a51819be6bc0dea6a25c5f774"
      }
    },
        {
      "autoExecute": true,
      "color": "#acffff",
      "fontColor": "black",
      "group": "Overlay Effects",
      "includeLabel": false,
      "sortBy": "30",
      "index": 32,
      "label": "Fog",
      "fontSize": "1.00em",
      "minWidth": "110",
      "playerEditable": false,
      "command": "[h: overlayName=\"fx0\"][h: zOrder=0]\t[h: layerOpacity=1]\n[h, if(json.type(macro.args)==\"OBJECT\"):json.toVars(macro.args)]\n\n[h: fog = tableImage(\"tWeather\", 16)]\n[h: css=strformat('body {opacity: %{layerOpacity};}\n.fogcontainer {overflow: hidden;}\n.sliding-background-fog {\n\tposition: absolute;\n\tleft:-50vw;\n\ttop:-50vh;\n\tdisplay: inline-block;\n\tmargin: 0;\n\tpadding: 0;\n\tbox-sizing: border-box;\n\theight: 200vh;\n\twidth:300vw;\n\tbackground-image:url(\"%{fog}\");\n\tbackground-repeat: repeat; \n\tanimation-timing-function: linear;\n\topacity: 0.6;\n}\n\n.first-layer {\n\tleft:-100vw;\n\tanimation: first-layer-anim 85s infinite;\n}\n.second-layer {\n\tleft:-80vw;\n\ttransform:scale(-1, -1);\n\tanimation: second-layer-anim 55s infinite;\n}\n@keyframes first-layer-anim {\n  0% {transform:translateX(0);}\n 50% {transform:translateX(-256px) skewX(15deg) scaleY(.75);}\n100% {transform:translateX(-512px) ;}\n}\n@keyframes second-layer-anim {\n  0% {transform:scale(-1, -1); }\n 45% {transform:scale(-.78, -1.2) translate(230px, -19vh) skewX(28deg);}\n 50% {transform:scale(-.8, -1.2) translate(256px, -20vh) skewX(30deg);}\n 55% {transform:scale(-.78, -1.2) translate(282px, -19vh) skewX(28deg);}\n100% {transform:scale(-1, -1) translateX(512px);}\n}')]\n[overlay(overlayName, zOrder): {\n\t\n[r: strformat('\n<html>\n<head>\n<meta charset=\"UTF-8\">\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n<style>\n%{css}\n<\/style>\n<\/head>\n<body>\n<canvas id=\"canvas\"><\/canvas>\n<div class=\"fogcontainer\">\n\t<div class=\"sliding-background-fog first-layer\"><\/div>\n\t<div class=\"sliding-background-fog second-layer\"><\/div>\n<\/div>\n<\/body>\n<\/html>\n')]\n}]",
      "maxWidth": "",
      "tooltip": "",
      "applyToSelected": false,
      "compare": [],
      "metadata":       {
        "uuid": "39a3d24a-6d19-4154-9f3c-e9c6f297b136",
        "commandChecksum": "fa407d531d3a17a30ad56cac2345c897",
        "propsChecksum": "5d7b1a5eca3bf738b91ea6c1b970700c"
      }
    },
        {
      "autoExecute": true,
      "color": "#dcffec",
      "fontColor": "black",
      "group": "Overlay Effects",
      "includeLabel": false,
      "sortBy": "44",
      "index": 33,
      "label": "Lightning",
      "fontSize": "1.00em",
      "minWidth": "110",
      "playerEditable": false,
      "command": "[h: overlayName=\"fx0\"][h: zOrder=0][h: layerOpacity=1]\n[h, if(json.type(macro.args)==\"OBJECT\"):json.toVars(macro.args)]\n\n[h: css=strformat('body{opacity: %{layerOpacity};}')]\n[overlay(overlayName, zOrder): {\n\t[r: '\n<html>\n<head>\n<meta charset=\"UTF-8\">\n<title>Canvas Lightning Effect<\/title>\n<style>'+css+'<\/style>\n<\/head>\n<body>\n<canvas id=\"lightningcanvas\"><\/canvas>\n<script type=\"text/javascript\">\n\nvar canvasLightning = function(c, cw, ch){\n  this.init = function(){\n    this.loop();\n  };    \n  \n\n  var _this = this;\n  this.c = c;\n  this.ctx = c.getContext(\"2d\");\n  this.cw = cw;\n  this.ch = ch;\n  this.mx = 0;\n  this.my = 0;\n  \n  this.lightning = [];\n  this.lightTimeCurrent = 0;\n  this.lightTimeTotal = 50;\n  \n\nthis.rand = function(rMi, rMa){return ~~((Math.random()*(rMa-rMi+1))+rMi);};\nthis.hitTest = function(x1, y1, w1, h1, x2, y2, w2, h2){return !(x1 + w1 < x2 || x2 + w2 < x1 || y1 + h1 < y2 || y2 + h2 < y1);};\n  \n\n  this.createL= function(x, y, canSpawn){                   \n    this.lightning.push({\n      x: x,\n      y: y,\n      xRange: this.rand(5, 30),\n      yRange: this.rand(5, 25),\n      path: [{\n        x: x,\n        y: y    \n      }],\n      pathLimit: this.rand(10, 35),\n      canSpawn: canSpawn,\n      hasFired: false\n    });\n  };\n  \n\n  this.updateL = function(){\n    var i = this.lightning.length;\n    while(i--){\n      var light = this.lightning[i];                        \n      \n      \n      light.path.push({\n        x: light.path[light.path.length-1].x + (this.rand(0, light.xRange)-(light.xRange/2)),\n        y: light.path[light.path.length-1].y + (this.rand(0, light.yRange))\n      });\n      \n      if(light.path.length > light.pathLimit){\n        this.lightning.splice(i, 1)\n      }\n      light.hasFired = true;\n    };\n  };\n  \n\n  this.renderL = function(){\n    var i = this.lightning.length;\n    while(i--){\n      var light = this.lightning[i];\n      \n      this.ctx.strokeStyle = \"hsla(0, 100%, 100%, \"+this.rand(10, 100)/100+\")\";\n      this.ctx.lineWidth = 1;\n      if(this.rand(0, 30) == 0){\n        this.ctx.lineWidth = 2; \n      }\n      if(this.rand(0, 60) == 0){\n        this.ctx.lineWidth = 3; \n      }\n      if(this.rand(0, 90) == 0){\n        this.ctx.lineWidth = 4; \n      }\n      if(this.rand(0, 120) == 0){\n        this.ctx.lineWidth = 5; \n      }\n      if(this.rand(0, 150) == 0){\n        this.ctx.lineWidth = 6; \n      } \n      \n      this.ctx.beginPath();\n      \n      var pathCount = light.path.length;\n      this.ctx.moveTo(light.x, light.y);\n      for(var pc = 0; pc < pathCount; pc++){    \n        \n        this.ctx.lineTo(light.path[pc].x, light.path[pc].y);\n        \n        if(light.canSpawn){\n          if(this.rand(0, 100) == 0){\n            light.canSpawn = false;\n            this.createL(light.path[pc].x, light.path[pc].y, false);\n          } \n        }\n      }\n      \n      if(!light.hasFired){\n        this.ctx.fillStyle = \"rgba(255, 255, 255, \"+this.rand(4, 12)/100+\")\";\n        this.ctx.fillRect(0, 0, this.cw, this.ch);  \n      }\n      \n      if(this.rand(0, 30) == 0){\n        this.ctx.fillStyle = \"rgba(255, 255, 255, \"+this.rand(1, 3)/100+\")\";\n        this.ctx.fillRect(0, 0, this.cw, this.ch);  \n      } \n      \n      this.ctx.stroke();\n    };\n  };\n  \n\n  this.lightningTimer = function(){\n    this.lightTimeCurrent++;\n    if(this.lightTimeCurrent >= this.lightTimeTotal){\n      var newX = this.rand(100, cw - 100);\n      var newY = this.rand(0, ch / 2); \n      var createCount = this.rand(1, 3);\n      while(createCount--){                         \n        this.createL(newX, newY, true);\n      }\n      this.lightTimeCurrent = 0;\n      this.lightTimeTotal = this.rand(10, 300);\n    }\n  }\n    \n\n    this.clearCanvas = function(){\n      this.ctx.globalCompositeOperation = \"destination-out\";\n      this.ctx.fillStyle = \"rgba(0,0,0,\"+this.rand(1, 30)/100+\")\";\n      this.ctx.fillRect(0,0,this.cw,this.ch);\n      this.ctx.globalCompositeOperation = \"source-over\";\n    };\n  \n\n  this.loop = function(){\n        var loopIt = function(){\n      requestAnimationFrame(loopIt, _this.c);\n      _this.clearCanvas();\n      _this.updateL();\n      _this.lightningTimer();\n      _this.renderL();  \n    };\n    loopIt();                   \n  };\n  \n};\n\nvar isCanvasSupported = function(){\n  var elem = document.createElement(\"lightningcanvas\");\n  return !!(elem.getContext && elem.getContext(\"2d\"));\n};\n\n\nvar setupRAF = function(){\n  var lastTime = 0;\n  var vendors = [\"ms\", \"moz\", \"webkit\", \"o\"];\n  for(var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x){\n    window.requestAnimationFrame = window[vendors[x]+\"RequestAnimationFrame\"];\n    window.cancelAnimationFrame = window[vendors[x]+\"CancelAnimationFrame\"] || window[vendors[x]+\"CancelRequestAnimationFrame\"];\n  };\n  \n  if(!window.requestAnimationFrame){\n    window.requestAnimationFrame = function(callback, element){\n      var currTime = new Date().getTime();\n      var timeToCall = Math.max(0, 16 - (currTime - lastTime));\n      var id = window.setTimeout(function() { callback(currTime + timeToCall); }, timeToCall);\n      lastTime = currTime + timeToCall;\n      return id;\n    };\n  };\n  \n  if (!window.cancelAnimationFrame){\n    window.cancelAnimationFrame = function(id){\n      clearTimeout(id);\n    };\n  };\n};          \n\n\nif(isCanvasSupported){\n  var c = document.getElementById(\"lightningcanvas\");\n  var cw = c.width = window.innerWidth;\n  var ch = c.height = window.innerHeight; \n  var cl = new canvasLightning(c, cw, ch);                \n  \n  setupRAF();\n  cl.init();\n}\n<\/script>\n<\/body>\n<\/html>\n' ]\n}]",
      "maxWidth": "",
      "tooltip": "",
      "applyToSelected": false,
      "compare": [],
      "metadata":       {
        "uuid": "7529b3db-7e82-4590-b0b8-f39c3671ada9",
        "commandChecksum": "aa070f32e1dd2a8a0b6dd83f4962b545",
        "propsChecksum": "777127b77079faf0a7645cd11214159c"
      }
    },
        {
      "autoExecute": true,
      "color": "#acffff",
      "fontColor": "black",
      "group": "Overlay Effects",
      "includeLabel": false,
      "sortBy": "30",
      "index": 35,
      "label": "Smoke",
      "fontSize": "1.00em",
      "minWidth": "110",
      "playerEditable": false,
      "command": "[h: overlayName=\"fx0\"][h: zOrder=0]\t[h: layerOpacity=1]\n[h, if(json.type(macro.args)==\"OBJECT\"):json.toVars(macro.args)]\n\n[h: css=strformat('\n<style>\nbody {opacity: %{layerOpacity};}\n#smokeCanvas {\n\twidth: 100vw;\n\theight: 100vh;\n\tbackground:transparent;\n\topacity:.8;\n}\n<\/style>')]\n\n[overlay(overlayName, zOrder): {\n\t[r: '\n<html>\n<head>\n'+css+'\n<meta charset=\"UTF-8\">\n<\/head>\n<body>\n  <canvas id=\"smokeCanvas\" ><\/canvas>\n<script>\nvar particles = [];\nvar particleCount = 60;\nvar maxVelocity = 3;\nvar targetFPS = 30;\nvar canvasWidth = window.innerWidth;\nvar canvasHeight = window.innerHeight;\n\nvar imageObj = new Image();\nimageObj.onload = function() {\n    particles.forEach(function(particle) {\n            particle.setImage(imageObj);\n    });\n};\n\nimageObj.src = \"'+tableImage('tWeather', 17,256)+'\";\n\nfunction Particle(context) {\n    this.x = 0;\n    this.y = 0;\n    this.xVelocity = 0;\n    this.yVelocity = 0;\n    this.radius = 5;\n    this.context = context;\n    this.draw = function() {\n        if(this.image){\n            this.context.drawImage(this.image, this.x-128, this.y-128);         \n            return;\n        }\n        this.context.beginPath();\n        this.context.arc(this.x, this.y, this.radius, 0, 2 * Math.PI, false);\n        this.context.fillStyle = \"rgba(0, 255, 255, 1)\";\n        this.context.fill();\n        this.context.closePath();\n    };\n\n    this.update = function() {\n        this.x += this.xVelocity;\n        this.y += this.yVelocity;\n\n        if (this.x >= canvasWidth) {\n            this.xVelocity = -this.xVelocity;\n            this.x = canvasWidth;\n        }\n        else if (this.x <= 0) {\n            this.xVelocity = -this.xVelocity;\n            this.x = 0;\n        }\n\n        if (this.y >= canvasHeight) {\n            this.yVelocity = -this.yVelocity;\n            this.y = canvasHeight;\n        }\n        \n        else if (this.y <= 0) {\n            this.yVelocity = -this.yVelocity;\n            this.y = 0;\n        }\n    };\n\n    this.setPosition = function(x, y) {\n        this.x = x;\n        this.y = y;\n    };\n\n    this.setVelocity = function(x, y) {\n        this.xVelocity = x;\n        this.yVelocity = y;\n    };\n    \n    this.setImage = function(image){\n        this.image = image;\n    }\n}\n\nfunction generateRandom(min, max){\n    return Math.random() * (max - min) + min;\n}\n\nvar context;\nfunction init() {\n    var canvas = document.getElementById(\"smokeCanvas\");\n    if (canvas.getContext) {\n        context = canvas.getContext(\"2d\");\n        for(var i=0; i < particleCount; ++i){\n            var particle = new Particle(context);\n            particle.setPosition(generateRandom(0, canvasWidth), generateRandom(0, canvasHeight));\n            particle.setVelocity(generateRandom(-maxVelocity, maxVelocity), generateRandom(-maxVelocity, maxVelocity));\n            particles.push(particle);            \n        }\n    }\n    else {\n        alert(\"Please use a modern browser\");\n    }\n}\n\nfunction draw() {\n    context.fillStyle = \"rgba(180,180,180, 0.5)\";\n    context.fillRect(0, 0, canvasWidth, canvasHeight);\n    particles.forEach(function(particle) {\n        particle.draw();\n    });\n}\n\nfunction update() {\n    particles.forEach(function(particle) {\n        particle.update();\n    });\n}\n\ninit();\n\nif (context) {\n    setInterval(function() {\n        update();\n        draw();\n    }, 1000 / targetFPS);\n}\n<\/script>\n<\/body>\n<\/html>\n' ]\n}]",
      "maxWidth": "",
      "tooltip": "stolen from codepen <a href='https://codepen.io/CarmeK/pen/wBVXoV'>https://codepen.io/CarmeK/pen/wBVXoV</a>",
      "applyToSelected": false,
      "compare": [],
      "metadata":       {
        "uuid": "9e171f5a-1c8b-418b-8afe-018791726970",
        "commandChecksum": "c3889e2e126e9a1ebae052b36005b381",
        "propsChecksum": "90500ff51f05291c181d4e87e39183e4"
      }
    },
        {
      "autoExecute": true,
      "color": "#ffdcec",
      "fontColor": "black",
      "group": "Overlay Effects",
      "includeLabel": false,
      "sortBy": "81",
      "index": 39,
      "label": "Starfield2",
      "fontSize": "1.00em",
      "minWidth": "110",
      "playerEditable": false,
      "command": "[h: overlayName=\"fx0\"][h: zOrder=0][h: layerOpacity=1]\n[h, if(json.type(macro.args)==\"OBJECT\"):json.toVars(macro.args)]\n[h: css='\n<style>\nbody {\n  height: 100vh;\n  width: 100vw;\n  padding: 0;\n  margin: 0;\n  overflow: hidden;\n  opacity: %{layerOpacity};\n  background: linear-gradient(to top, #00000066, #15474366);\n}\n\nimg {\n  position: absolute;\n  width: 100vw;\n  height: 100vh;\n  opacity: 0.2;\n  pointer-events: none;\n}\n\ncanvas {\n  margin-top: -25px;\n  margin-left: -25px;\n  padding: 0;\n  background-size: cover !important;\n}\n\n<\/style>']\n\n[overlay(overlayName, zOrder): {\n\t[r: '\n<html>\n<head>\n'+css+'\n<meta charset=\"UTF-8\">\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n<\/head>\n\n<body>\n<canvas id=\"body\"><\/canvas>\n<\/body>\n<script>\n\"use strict\";\n\nfunction initCanvas(){\n\tvar canvas = document.getElementById(\"body\");\n\tvar ctx = canvas.getContext(\"2d\");\n\n\tctx.canvas.width = window.innerWidth;\n\tctx.canvas.height = window.innerHeight;\n\n    var cW = canvas.width;\n    var cH = canvas.height;\n\n    var\tstars = [];\n\n     function addStar(){\n    \tvar x = Math.floor(Math.random() * cW) + - 200;\n    \tvar y = Math.floor(Math.random() * cH) + 1;\n    \tvar s = Math.floor(Math.random() * 12) + 1;\n  \n\n    \tstars.push({\"x\":x, \"y\":y, \"s\": s});\n    }\n\t\n\tfunction starField(){\n\t\taddStar();\n\t\tfor(var i = 0; i < stars.length; i++){\n\t\t\tctx.fillStyle = \"rgba(255, 255, 255, 1)\";\n\t\t\tctx.fillRect(stars[i].x++, stars[i].y, stars[i].s*0.15, stars[i].s*0.15);\n\t\t\tctx.fill();\n\t\t\tif(stars[i].x > cW){\n\t\t\t\tstars.splice(i, 1);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction animate(){\n\t\tctx.save();\n\t\tctx.clearRect(0, 0, cW, cH);\n\t\tstarField();\n\t\tctx.restore();\n  }\n\t\n\tvar animateInterval = setInterval(animate, 50);\n\t}\n\n\twindow.addEventListener(\"load\", function(event){\n\t});\n\ninitCanvas();\n<\/script>\n\n<\/body>\n<\/html>\n' ]\n}]",
      "maxWidth": "",
      "tooltip": "",
      "applyToSelected": false,
      "compare": [],
      "metadata":       {
        "uuid": "de2d98eb-16af-44f7-b7f5-8bb9e6b40313",
        "commandChecksum": "9d1bd6d172d88fc1f21170007bb78afd",
        "propsChecksum": "eb1951a89cd45ec9df3b3f7e3864d0cd"
      }
    },
        {
      "autoExecute": true,
      "color": "#acffff",
      "fontColor": "black",
      "group": "Overlay Effects",
      "includeLabel": false,
      "sortBy": "30",
      "index": 40,
      "label": "Stalag 13",
      "fontSize": "1.00em",
      "minWidth": "110",
      "playerEditable": false,
      "command": "[h: overlayName=\"fx0\"][h: zOrder=0][h: layerOpacity=1]\n[h, if(json.type(macro.args)==\"OBJECT\"):json.toVars(macro.args)]\n\n[h: css=strformat('\n<style>\nbody {\nopacity: %{layerOpacity};\n}\n#searchlights {\n\twidth: 100vw;\n\theight: 100vh;\n\topacity:.28;\n}\n<\/style>')]\n\n[overlay(overlayName, zOrder): {\n\t[r: '\n<html>\n<head>\n'+css+'\n<meta charset=\"UTF-8\">\n<\/head>\n<body>\n  <canvas id=\"searchlights\" ><\/canvas>\n\n<script>\nvar canvasWidth = parseInt(getComputedStyle(document.getElementById(\"searchlights\")).width);\nvar canvasHeight = parseInt(getComputedStyle(document.getElementById(\"searchlights\")).height);\n\nvar particles = [];\n\nvar particleCount = parseInt(canvasWidth/400*25);\n\nvar maxVelocity = 1;\n\nvar targetFPS = 60;\n\nvar imageObj = new Image();\n\nimageObj.onload = function() {\n    particles.forEach(function(particle) {\n            particle.setImage(imageObj);\n    });\n};\n\nimageObj.src = `data:image/svg+xml;utf8,\n<svg\n xmlns:svg=\"http://www.w3.org/2000/svg\"\n xmlns=\"http://www.w3.org/2000/svg\"\n xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n>\n<defs\n id=\"defs2\">\n<linearGradient\n id=\"linearGradient847\">\n\t<stop\n\t id=\"stop843\"\n\t offset=\"0\"\n\t style=\"stop-color:#4d4d4d;stop-opacity:.1;\" />\n\t<stop\n\t id=\"stop845\"\n\t offset=\"1\"\n\t style=\"stop-color:#4d4d4d;stop-opacity:0.6;\" />\n<\/linearGradient>\n<radialGradient\n gradientUnits=\"userSpaceOnUse\"\n r=\"54.4\"\n fy=\"50\"\n fx=\"50\"\n cy=\"50\"\n cx=\"50\"\n id=\"radialGradient851\"\n xlink:href=\"#linearGradient847\" />\n<\/defs>\n\n<g\n id=\"layer1\">\n<circle \n id=\"path833\"\n cx=\"50\"\n cy=\"50\"\n r=\"50\"\n style=\"fill:url(#radialGradient851);fill-opacity:1;stroke:none;stroke-width:0;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;\" />\n<\/g>\n<\/svg>\n`;\n\nfunction Particle(context) {\n\n    this.x = 0;\n    this.y = 0;\n\n    this.xVelocity = 0;\n    this.yVelocity = 0;\n\n    this.radius = 25;\n\n    this.context = context;\n\n    this.draw = function() {\n        if(this.image){\n            this.context.drawImage(this.image, this.x-128, this.y-128);         \n            return;\n        }\n        this.context.beginPath();\n        this.context.arc(this.x, this.y, this.radius, 0, 2 * Math.PI, false);\n        this.context.fillStyle = \"rgba(225, 211, 255, 0.50)\";\n        this.context.fill();\n        this.context.closePath();\n    };\n\n    this.update = function() {\n        this.x += this.xVelocity;\n        this.y += this.yVelocity;\n\n        if (this.x >= canvasWidth) {\n            this.xVelocity = -this.xVelocity;\n            this.x = canvasWidth;\n        }\n        else if (this.x <= 0) {\n            this.xVelocity = -this.xVelocity;\n            this.x = 0;\n        }\n\n        if (this.y >= canvasHeight) {\n            this.yVelocity = -this.yVelocity;\n            this.y = canvasHeight;\n        }\n        \n        else if (this.y <= 0) {\n            this.yVelocity = -this.yVelocity;\n            this.y = 0;\n        }\n    };\n\n    this.setPosition = function(x, y) {\n        this.x = x;\n        this.y = y;\n    };\n    this.setVelocity = function(x, y) {\n        this.xVelocity = x;\n        this.yVelocity = y;\n    };\n    \n    this.setImage = function(image){\n        this.image = image;\n    }\n}\n\n\nfunction generateRandom(min, max){\n    return Math.random() * (max - min) + min;\n}\n\nvar context;\n\nfunction init() {\n    var canvas = document.getElementById(\"searchlights\");\n    if (canvas.getContext) {\n        context = canvas.getContext(\"2d\");\n        for(var i=0; i < particleCount; ++i){\n            var particle = new Particle(context);\n            particle.setPosition(generateRandom(0, canvasWidth), generateRandom(0, canvasHeight));\n            particle.setVelocity(generateRandom(-maxVelocity, maxVelocity), generateRandom(-maxVelocity, maxVelocity));\n            particles.push(particle);            \n        }\n    }\n    else {\n        alert(\"Please use a modern browser\");\n    }\n}\n\nfunction draw() {\n    context.fillStyle = \"rgba(0, 0, 0, 0.1)\";\n    context.fillRect(0, 0, 400, 400);\n    particles.forEach(function(particle) {\n        particle.draw();\n    });\n}\n\nfunction update() {\n    particles.forEach(function(particle) {\n        particle.update();\n    });\n}\n\ninit();\n\nif (context) {\n    setInterval(function() {\n        update();\n        draw();\n    }, 1000 / targetFPS);\n}\n<\/script>\n<\/body>\n<\/html>\n' ]\n}]",
      "maxWidth": "",
      "tooltip": "",
      "applyToSelected": false,
      "compare": [],
      "metadata":       {
        "uuid": "79fa842e-1a0e-4f43-b728-035331976c25",
        "commandChecksum": "e59bd55a232b31b445272c4269ed9a69",
        "propsChecksum": "e2c10935684bb82384bbe0f7431d917b"
      }
    },
        {
      "autoExecute": true,
      "color": "#ffdcec",
      "fontColor": "black",
      "group": "Overlay Effects",
      "includeLabel": false,
      "sortBy": "80",
      "index": 41,
      "label": "Meteor1",
      "fontSize": "1.00em",
      "minWidth": "110",
      "playerEditable": false,
      "command": "[h: overlayName=\"fx0\"][h: zOrder=0][h: layerOpacity=1]\n[h, if(json.type(macro.args)==\"OBJECT\"):json.toVars(macro.args)]\n[h: css='\nbody{opacity: %{layerOpacity};}\ncanvas {\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  padding: 0;\n  background-size: cover !important;\n  width:100vw;\n  height:100vh;\n  opacity:.4;\n}\n']\n[overlay(overlayName, zOrder): {\n\t[r: '\n<html>\n<head>\n<meta charset=\"UTF-8\">\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.5.16/p5.min.js\"><\/script>\n\n<style>\n'+css+'\n<\/style>\n<\/head>\n<body onload=\"setup()\">\n<canvas id=\"bgCanvas\"><\/canvas>\n<script type=\"text/javascript\">\nvar sky;\nvar stars = [];\n\nfunction windowResized() {\n  resizeCanvas(windowWidth, windowHeight);\n}\n\nfunction setup() {\n  createCanvas(windowWidth, windowHeight);\n  sky = new StarSky();\n  background(8, 15, 23, 20);\n}\n\nfunction draw() {\n  fill(8, 15, 23, 20);\n  noStroke();\n  rectMode(CENTER);\n  rect(width/2, height/2, width, height);\n\n  sky.run();\n}\n\nvar StarSky = function() {\n\n  this.starsnumber = 10;\n  this.stars = [];\n  this.wind;\n\n  for (var i = 0; i < this.starsnumber; i++) {\n    var s = new Star();\n    this.stars.push(s);\n  }\n\n  this.run = function() {\n    this.wind = noise(frameCount/1000)*5;\n    for (var i = 0; i < this.stars.length; i++) {\n      this.stars[i].anim(this.wind);\n      this.stars[i].display();\n\n      if (!this.stars[i].alive) this.stars.splice(i, 1);\n    }\n\n    if (stars.length < this.starsnumber) {\n      for (var i = 0; i < 1; i++) {\n        var s = new Star();\n        this.stars.push(s);\n      }\n    }\n  }\n}\n\nvar Star = function() {\n\n  this.position = createVector(random(-width/2, width), random(-height, height));\n  this.acceleration = createVector(0, 0, 0);\n  this.velocity = createVector(0, 0, 0);\n  this.brightness;\n  this.weight = random(5, 9);\n  this.anim = random(TWO_PI);\n  this.size = cos(this.anim)*2;\n  this.alive = true;\n\n  this.anim = function(wind) {\n    this.acceleration.mult(0);\n    this.acceleration.y += this.weight;\n    this.acceleration.x += wind;\n    this.acceleration.limit(1);\n    this.velocity.add(this.acceleration);\n    this.velocity.limit(1);\n    this.position.add(this.velocity);\n    if (this.position.y > height) this.alive = false;\n  }\n\n  this.display = function() {\n    stroke(255);\n    strokeWeight(this.size+0.2);\n    point(this.position.x, this.position.y);\n  }\n}\n  \n<\/script>\n<\/body>\n<\/html>\n']\n}]",
      "maxWidth": "",
      "tooltip": "",
      "applyToSelected": false,
      "compare": [],
      "metadata":       {
        "uuid": "a249e653-e917-4442-bcea-f4653fc701c9",
        "commandChecksum": "8da5a5466d4e9d4ece43cd83fcc35186",
        "propsChecksum": "e2c4a4af95e98e86f94c210b6ef6c74f"
      }
    },
        {
      "autoExecute": true,
      "color": "#ffdcec",
      "fontColor": "black",
      "group": "Overlay Effects",
      "includeLabel": false,
      "sortBy": "80",
      "index": 42,
      "label": "Meteor2",
      "fontSize": "1.00em",
      "minWidth": "110",
      "playerEditable": false,
      "command": "[h: overlayName=\"fx0\"][h: zOrder=0][h: layerOpacity=1]\n[h, if(json.type(macro.args)==\"OBJECT\"):json.toVars(macro.args)]\n[h: css='\nbody {opacity: %{layerOpacity};}\ncanvas {\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  padding: 0;\n  background-size: cover !important;\n  opacity:.3;\n}\n']\n[overlay(overlayName, zOrder): {\n\t[r: '\n<html>\n<head>\n<meta charset=\"UTF-8\">\n<style>\n'+css+'\n<\/style>\n<\/head>\n<body onload=\"setup()\">\n<canvas id=\"bgCanvas\"><\/canvas>\n<script type=\"text/javascript\">\n  (function() {\n    var requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || \n\t\t\t\t\t\t\t\t  window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || function( callback ){\n                window.setTimeout(callback, 1000 / 30);\n              };\n\t  window.requestAnimationFrame = requestAnimationFrame;\n\t})();\n\n\tvar background = document.getElementById(\"bgCanvas\"),\n\t\tbgCtx = background.getContext(\"2d\"),\n\t\twidth = window.innerWidth,\n\t\theight = window.innerHeight;\n\n\tbackground.width = width;\n\tbackground.height = height;\n\t// Second canvas used for the stars\n\tbgCtx.fillStyle = \"#05004c\";\n\tbgCtx.fillRect(0,0,width,height);\n\n\t// stars\n\tfunction Star(options){\n\t\tthis.size = Math.random()*2;\n\t\tthis.speed = Math.random()*.1;\n\t\tthis.x = options.x;\n\t\tthis.y = options.y;\n\t}\n\n\tStar.prototype.reset = function(){\n\t\tthis.size = Math.random()*2;\n\t\tthis.speed = Math.random()*.1;\n\t\tthis.x = width;\n\t\tthis.y = Math.random()*height;\n\t}\n\t\n\tStar.prototype.update = function(){\n\t\tthis.x-=this.speed;\n\t\tif(this.x<0){\n\t\t  this.reset();\n\t\t}else{\n\t\t  bgCtx.fillRect(this.x,this.y,this.size,this.size); \n\t\t}\n\t}\n\t\n\tfunction ShootingStar(){\n\t\tthis.reset();\n\t}\n\t\n\tShootingStar.prototype.reset = function(){\n\t\tthis.x = Math.random()*width;\n\t\tthis.y = 0;\n\t\tthis.len = (Math.random()*80)+10;\n\t\tthis.speed = (Math.random()*10)+6;\n\t\tthis.size = (Math.random()*1)+0.1;\n    // this is used so the shooting stars arent constant\n\t\tthis.waitTime =  new Date().getTime() + (Math.random()*3000)+500;\n\t\tthis.active = false;\n\t}\n\t\n\tShootingStar.prototype.update = function(){\n\t\tif(this.active){\n\t\t\tthis.x-=this.speed;\n\t\t\tthis.y+=this.speed;\n\t\t\tif(this.x<0 || this.y >= height){\n\t\t\t  this.reset();\n\t\t\t}else{\n\t\t\tbgCtx.lineWidth = this.size;\n\t\t\t\tbgCtx.beginPath();\n\t\t\t\tbgCtx.moveTo(this.x,this.y);\n\t\t\t\tbgCtx.lineTo(this.x+this.len, this.y-this.len);\n\t\t\t\tbgCtx.stroke();\n\t\t\t}\n\t\t}else{\n\t\t\tif(this.waitTime < new Date().getTime()){\n\t\t\t\tthis.active = true;\n\t\t\t}\t\t\t\n\t\t}\n\t}\n\n\tvar entities = [];\n\t\n\t// init the stars\n\tfor(var i=0; i < height; i++){\n\t\tentities.push(new Star({x:Math.random()*width, y:Math.random()*height}));\n\t}\n  \n\t// Add 2 shooting stars that just cycle.\n\tentities.push(new ShootingStar());\n\tentities.push(new ShootingStar());\n\t\n\t//animate background\n\tfunction animate(){\n\t\tbgCtx.fillStyle = \"#05004c\";\n\t\tbgCtx.fillRect(0,0,width,height);\n\t\tbgCtx.fillStyle = \"#ffffff\";\n\t\tbgCtx.strokeStyle = \"#ffffff\";\n\n\t\tvar entLen = entities.length;\n\t  \n\t\twhile(entLen--){\n\t\t\tentities[entLen].update();\n\t\t}\n\t\t\n\t\trequestAnimationFrame(animate);\n\t}\n\n\tanimate();\n\n\n  \n<\/script>\n<\/body>\n<\/html>\n']\n}]",
      "maxWidth": "",
      "tooltip": "",
      "applyToSelected": false,
      "compare": [],
      "metadata":       {
        "uuid": "2ce70efd-383b-40ec-a4f7-b134865015c9",
        "commandChecksum": "0d98f2fc699088be0e28c4a691f0e206",
        "propsChecksum": "4322ca165a7bd005c9cb2144cfb9f65e"
      }
    },
        {
      "autoExecute": true,
      "color": "#ffdcec",
      "fontColor": "black",
      "group": "Overlay Effects",
      "includeLabel": false,
      "sortBy": "80",
      "index": 43,
      "label": "Meteor3",
      "fontSize": "1.00em",
      "minWidth": "110",
      "playerEditable": false,
      "command": "[h: overlayName=\"fx0\"][h: zOrder=0][h: layerOpacity=1]\n[h, if(json.type(macro.args)==\"OBJECT\"):json.toVars(macro.args)]\n[h: css='\nbody{opacity: %{layerOpacity};}\ncanvas {\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  padding: 0;\n  background-size: cover !important;\n  width:100vw;\n  height:100vh;\n}\n']\n[overlay(overlayName, zOrder): {\n\t[r: '\n<html>\n<head>\n<meta charset=\"UTF-8\">\n<style>\n'+css+'\n<\/style>\n<\/head>\n<body>\n<canvas id=\"bgCanvas\"><\/canvas>\n<script type=\"text/javascript\">\n\nconst meteorCount = 12\nconst starCount = 100\nconst maxSize = 5\nconst maxSpeed = 3\nconst minSpeed = 0.8\nconst color = \"#FFFFFF88\"\n\nclass Star {\n  constructor(context) {\n    this.x = Math.random() * window.innerWidth;\n    this.y = Math.random() * window.innerHeight;\n    this.color = color\n    this.context = context;\n    this.radius = Math.random() * 1.5;\n    this.originalRadius = this.radius;\n    this.maxDuration = Math.abs(Math.random() * 200) + 50;\n    this.timing = 0\n    this.expanding = true\n  }\n  \n  \n  update(t) {\n    if( !this.expanding ) {\n      this.radius -= this.originalRadius / this.maxDuration\n      this.timing--;\n    } else {\n       this.radius += this.originalRadius / this.maxDuration\n       this.timing++;\n    }\n    \n    if( this.timing === 0 ) {\n      this.expanding = true\n    } else if ( this.timing >= this.maxDuration ) {\n      this.expanding = false\n    }\n        \n    this.draw()\n  }\n  \n  draw(x =  this.x, y =  this.y, radius = this.radius, color = this.color) {\n    const c = this.context;\n    c.save();\n    c.beginPath();\n    c.arc(x, y, radius, 0, Math.PI * 2, false);\t\n    c.fillStyle = color;\n    c.fill();\n    c.closePath();\n    c.restore();\n  }\n}\n\nclass Meteorite extends Star {\n  \n  constructor(context) {\n    super();\n    this.context = context\n    this.originalPosition = {\n      x: this.x,\n      y: this.y\n    }\n    this.radius = Math.random() * maxSize;\n    this.speed = Math.random() * maxSpeed + minSpeed;\n    this.trailLength = Math.floor(Math.random() * 25 + 15)\n  }\n  \n  update() {\n    if(this.x > window.innerWidth + this.radius + this.trailLength) {\n      this.x = -this.radius * 10;\n    }\n    \n    if (this.y > window.innerHeight + this.radius+ this.trailLength) {\n      this.y = -this.radius * 10;\n    }\n    \n    this.draw(this.x, this.y, this.radius *1.5, \"rgba(255, 255, 255, 0.2\")\n    for(let i = 0; i <= this.trailLength; i ++) {\n      const color = \"rgba(255, 255, 255, \"+ Math.abs(1 - i/this.trailLength) + \")\"\n      this.draw(this.x - i * 2, this.y - i * 2, this.radius - (i * this.radius/(this.trailLength * 1.7)), color)\n    }\n    this.x += this.speed;\n    this.y += this.speed * 0.8;\n  }\n}\n\nclass App {\n  constructor() {\n    this.el = document.getElementById(\"bgCanvas\");\n    this.context = this.el.getContext(\"2d\");\n\t\tthis.el.width = window.innerWidth;\n\t\tthis.el.height = window.innerHeight;\n    this.t = 0\n    this.meteorites = []\n    this.stars = []\n        \n    this.init()\n    this.update()\n    this.bind()\n  }\n  \n  bind() {\n    window.addEventListener(\"resize\", this.resize.bind(this))\n  }\n  \n  resize() {\n    this.el.width  = window.innerWidth;\t\n\t\tthis.el.height = window.innerHeight;\n    this.meteorites = [];\n    this.stars = [];\n\t\tthis.init();\n  }\n  \n  init() {\n    for(let i = 0; i < meteorCount; i++)  {\n      const m = new Meteorite(this.context)\n      this.meteorites.push(m);\n    }\n    \n    for(let i = 0; i < starCount; i++)  {\n      const s = new Star(this.context)\n      this.stars.push(s);\n    }\n  }\n  \n  update() {\n    window.requestAnimationFrame(this.update.bind(this))\n    this.context.save();\n    this.context.clearRect(0, 0, this.el.width, this.el.height);\n    // this.context.fillStyle = \"rgba(0, 0, 0, 0.15)\";\n    for(let i = 0; i < this.meteorites.length; i++)  {\n      this.meteorites[i].update();\n    }\n    \n    for(let i = 0; i < this.stars.length; i++)  {\n      this.stars[i].update(this.t);\n    }   \n    \n    this.t += 1/60;\n  }\n}\n\nnew App()\nwindow.onload=setup();\n<\/script>\n<\/body>\n<\/html>\n']\n}]",
      "maxWidth": "",
      "tooltip": "",
      "applyToSelected": false,
      "compare": [],
      "metadata":       {
        "uuid": "7e124b0b-d19b-42eb-ac71-9e6d79575925",
        "commandChecksum": "1fc3852ca4ea6912992d542233fee2e6",
        "propsChecksum": "a0908583749c1cae7ccb2460f608f98a"
      }
    },
        {
      "autoExecute": true,
      "color": "lime",
      "fontColor": "black",
      "group": "zFunctions: Overlay",
      "includeLabel": false,
      "sortBy": "1000",
      "index": 55,
      "label": "emptyOverlay",
      "fontSize": "1.00em",
      "minWidth": "110",
      "playerEditable": false,
      "command": "[h:name = arg(0)]\n[h, overlay(name): {\n<script>\n[r:'\n\n\n']\n<\/script>\n}]\n\n[h:closeOverlay(name)]",
      "maxWidth": "",
      "tooltip": "",
      "applyToSelected": false,
      "compare": [],
      "metadata":       {
        "uuid": "ba9bddd4-1fcb-4024-911f-8aa244dd3c4d",
        "commandChecksum": "4a68cf86b17892eeae3e38633e10eb7c",
        "propsChecksum": "793dd74208409fa3b5a35b08c41cd865"
      }
    },
        {
      "autoExecute": true,
      "color": "lime",
      "fontColor": "black",
      "group": "zFunctions: Overlay",
      "includeLabel": false,
      "sortBy": "999",
      "index": 56,
      "label": "runMacro",
      "fontSize": "1.00em",
      "minWidth": "110",
      "playerEditable": false,
      "command": "[h: abort(argCount())]\n[h: macroName = arg(0)]\n[h, if(argCount()>1): args=arg(1); args=\"\"]\n[h, if(argCount()>2): runWhen=arg(2); runWhen=1]\n[h, if(argCount()>3): playerNames=arg(3); playerNames=json.append(\"\", \"all\")]\n[h: macroToRun = macroLinkText(macroName + \"@\" + getMacroLocation(),\"none\", args)]\n[h: execLink(macroToRun, runWhen, playerNames, \"json\")]\n",
      "maxWidth": "",
      "tooltip": "Executes the specified macro on all clients.\nUsage: runMacro(\"macro name\" [optional: , \"macro arguments\"][, boolean Run immediately][, player names])",
      "applyToSelected": false,
      "compare": [],
      "metadata":       {
        "uuid": "d6c2e261-c0da-4559-b5a8-6ef0d8848f58",
        "commandChecksum": "244c9d21282caf78d25c079006d17e29",
        "propsChecksum": "3f977265d6b09fb2fec01ae6a5754610"
      }
    },
        {
      "autoExecute": true,
      "color": "#aa0000",
      "fontColor": "white",
      "group": "Campaign",
      "includeLabel": false,
      "sortBy": "0",
      "index": 69,
      "label": "Stop FX",
      "fontSize": "1.00em",
      "minWidth": "110",
      "playerEditable": false,
      "command": "[h: macroToRun = macroLinkText(\"Close FX@lib:weather\",\"none\")]\n[h: execLink(macroToRun, 0, \"all\")]",
      "maxWidth": "",
      "tooltip": "",
      "applyToSelected": false,
      "compare": [],
      "metadata":       {
        "uuid": "0bf4aa15-7882-4e40-bc2f-cadb0038f7db",
        "commandChecksum": "22fa9ae0f9d24b9785a711d97dd7e7ef",
        "propsChecksum": "8e50bb0e4f733cd48b2579b2ad30679f"
      }
    },
        {
      "autoExecute": true,
      "color": "#acffff",
      "fontColor": "black",
      "group": "Overlay Effects",
      "includeLabel": false,
      "sortBy": "30",
      "index": 80,
      "label": "Drifting Light Rays",
      "fontSize": "1.00em",
      "minWidth": "110",
      "playerEditable": false,
      "command": "[h: overlayName=\"fx0\"][h: zOrder=0]\t[h: layerOpacity=1]\n[h, if(json.type(macro.args)==\"OBJECT\"):json.toVars(macro.args)]\n\n[h: css=strformat('\n* {\n  padding: 0;\n  margin:0;\n}\nbody {\n  width: 100vw;\n  height: 100vh;\n  overflow: hidden; \n  opacity: %{layerOpacity};\n}\n.beamContainer{\n\tposition:absolute;\n\ttop: -800vw;\n\tleft:-200vw;\n\tborder-radius: 18vw;\n\ttransform-origin:0 0;\n  \ttransform-style: preserve-3d;\n  \tanimation: anim1 120s 0s ease-in-out infinite alternate,\n  \t\t\t   anim2 120s 0s linear infinite alternate;\n}\n\t\n.beam {\n\tdisplay: inline-block;\n\tposition:absolute;\n\twidth:3vw;\n\theight:910vw;\n\tborder-radius: 18vw;\n\t-webkit-mask-image: linear-gradient(to bottom, black 94%, transparent 100%);\n  \tbackground-image: linear-gradient(to right, \n  \t\ttransparent, \n  \t\trgba(200, 200, 0, .4) 35%,\n  \t\trgba(200, 200, 0, 1) 50%,\n  \t\trgba(255, 180, 0, 1) 65%,\n  \t\ttransparent);\n  \ttransform-origin:inherit;\n}\n@keyframes anim1 {\n  0%   {transform-origin:0 0%;}\n  100% {transform-origin:0 -10%;}\n}\n@keyframes anim2 {\n  0%   {opacity: .7;}\n  100% {opacity: .3;}\n}\n')]\n[overlay(overlayName, zOrder): {\n\t\n[r: strformat('\n<html>\n<head>\n<meta charset=\"UTF-8\">\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n<style>\n%{css}\n<\/style>\n<\/head>\n<body>\n<div class=\"beamContainer\" id=\"beamContainer\"><div class=\"beam\"><\/div><\/div>\n\n<script>\nwindow.onload = function() {\n\tvar cont=document.getElementById(\"beamContainer\");\n\tfor(i=0; i<20; i++) {\n\t\tlet el = document.createElement(\"div\");\n\t\tel.classList.add(\"beam\");\n\t\tvar angle=(-Math.random()*8-12).toFixed(1);\n\t\tel.style.transform=\"rotate(\"+angle+\"deg)\";\n\t\tel.style.width=Math.random()*1.5+2+\"vw\";\n\t\tel.style.opacity=Math.random()*Math.random();\n\t\tcont.appendChild(el);\n\t};\n};\n<\/script>\n<\/body>\n<\/html>\n')]\n}]",
      "maxWidth": "",
      "tooltip": "Random light beams for understory effect.",
      "applyToSelected": false,
      "compare": [],
      "metadata":       {
        "uuid": "2d8f9053-0e08-4e69-93b3-0daa77aabf6e",
        "commandChecksum": "b16d2521831ba049c0e454fae422c767",
        "propsChecksum": "fdf00435bf7f21fdd13fc7c58b5f969e"
      }
    },
        {
      "autoExecute": true,
      "color": "#dcecff",
      "fontColor": "black",
      "group": "Overlay Effects",
      "includeLabel": false,
      "sortBy": "10",
      "index": 81,
      "label": "Falling Leaves",
      "fontSize": "1.00em",
      "minWidth": "110",
      "playerEditable": false,
      "command": "[h: leafsize=\"20\"]\n[h: numLeaves=\"20\"]\n[h: magnitude=\"1.2\"]\n[h: maxSpeed=\"12\"]\n[h: duration= \"300\"]\n[h: overlayName=\"fx0\"][h: zOrder=0]\t[h: layerOpacity=1]\n[h, if(json.type(macro.args)==\"OBJECT\"):json.toVars(macro.args)]\n\n[h: css=strformat('\nbody {\n  width: 100vw;\n  height: 100vh;\n  opacity: %{layerOpacity};\n  overflow: hidden;\n}\n.falling-leaves {\nposition: absolute;\ntop: 0;\nwidth: 100%;\nheight: 100%;\noverflow: hidden;\nz-index: -1;\n}\n\n.leaf-scene {\nposition: absolute;\ntop: 0;\nleft: 0;\nbottom: 0;\nwidth: 100%;\n-webkit-transform-style: preserve-3d;\ntransform-style: preserve-3d;\n}\n.leaf-scene .leaf1 {\nposition: absolute;\ntop: 0;\nleft: 0;\nwidth: %{leafsize};\nheight: %{leafsize};\nbackground: url('+json.get(getTableEntry(\"tWeather\", 120), \"assetid\")+') no-repeat;\nbackground-size: 100%;\n-webkit-transform-style: preserve-3d;\ntransform-style: preserve-3d;\n-webkit-backface-visibility: visible;\nbackface-visibility: visible;\n}\n\n\n.leaf-scene .leaf2 {\nposition: absolute;\ntop: 0;\nleft: 0;\nwidth:  %{leafsize}px;\nheight: %{leafsize}px;\nbackground: url('+json.get(getTableEntry(\"tWeather\", 121), \"assetid\")+') no-repeat;\nbackground-size: 100%;\n-webkit-transform-style: preserve-3d;\ntransform-style: preserve-3d;\n-webkit-backface-visibility: visible;\nbackface-visibility: visible;\n}\n.leaf-scene .leaf3 {\nposition: absolute;\ntop: 0;\nleft: 0;\nwidth: %{leafsize};\nheight: %{leafsize};\nbackground: url('+json.get(getTableEntry(\"tWeather\", 122), \"assetid\")+') no-repeat;\nbackground-size: 100%;\n-webkit-transform-style: preserve-3d;\ntransform-style: preserve-3d;\n-webkit-backface-visibility: visible;\nbackface-visibility: visible;\n}')]\n[overlay(overlayName, zOrder): {\n\t\n[r: strformat('\n\n<html>\n<head>\n<meta charset=\"UTF-8\">\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n<style>\n%{css}\n<\/style>\n<\/head>\n<body>\n<div class=\"falling-leaves\"><\/div>\n<script>\nconst leaftypes = [\"leaf1\", \"leaf2\", \"leaf3\"];\nvar LeafScene = function(el) {\n    this.viewport = el;\n    this.world = document.createElement(\"div\");\n    this.leaves = [];\n\n    this.options = {\n      numLeaves: '+numLeaves+',\n      wind: {\n        magnitude: '+magnitude+',\n        maxSpeed: '+maxSpeed+',\n        duration: '+duration+',\n        start: 0,\n        speed: 0\n      },\n    };\n\n    this.width = this.viewport.offsetWidth;\n    this.height = this.viewport.offsetHeight;\n\n    // animation helper\n    this.timer = 0;\n\n    this._resetLeaf = function(leaf) {\n\n      // place leaf towards the top left\n      leaf.x = this.width * 2 - Math.random()*this.width*1.75;\n      leaf.y = -10;\n      leaf.z = Math.random()*200;\n      if (leaf.x > this.width) {\n        leaf.x = this.width + 10;\n        leaf.y = Math.random()*this.height/2;\n      }\n      // at the start, the leaf can be anywhere\n      if (this.timer == 0) {\n        leaf.y = Math.random()*this.height;\n      }\n\n      // Choose axis of rotation.\n      // If axis is not X, chose a random static x-rotation for greater variability\n      leaf.rotation.speed = Math.random()*10;\n      var randomAxis = Math.random();\n      if (randomAxis > 0.5) {\n        leaf.rotation.axis = \"X\";\n      } else if (randomAxis > 0.25) {\n        leaf.rotation.axis = \"Y\";\n        leaf.rotation.x = Math.random()*180 + 90;\n      } else {\n        leaf.rotation.axis = \"Z\";\n        leaf.rotation.x = Math.random()*360 - 180;\n        // looks weird if the rotation is too fast around this axis\n        leaf.rotation.speed = Math.random()*3;\n      }\n\n      // random speed\n      leaf.xSpeedVariation = Math.random() * 0.8 - 0.4;\n      leaf.ySpeed = Math.random() + 1.5;\n\n      return leaf;\n    }\n\n    this._updateLeaf = function(leaf) {\n      var leafWindSpeed = this.options.wind.speed(this.timer - this.options.wind.start, leaf.y);\n\n      var xSpeed = leafWindSpeed + leaf.xSpeedVariation;\n      leaf.x -= xSpeed;\n      leaf.y += leaf.ySpeed;\n      leaf.rotation.value += leaf.rotation.speed;\n\n      var t = \"translateX( \" + leaf.x + \"px ) translateY( \" + leaf.y + \"px ) translateZ( \" + leaf.z + \"px )  rotate\" + leaf.rotation.axis + \"( \" + leaf.rotation.value + \"deg )\";\n      if (leaf.rotation.axis !== \"X\") {\n        t += \" rotateX(\" + leaf.rotation.x + \"deg)\";\n      }\n      leaf.el.style.webkitTransform = t;\n      leaf.el.style.MozTransform = t;\n      leaf.el.style.oTransform = t;\n      leaf.el.style.transform = t;\n\n      // reset if out of view\n      if (leaf.x < -10 || leaf.y > this.height + 10) {\n        this._resetLeaf(leaf);\n      }\n    }\n\n    this._updateWind = function() {\n      // wind follows a sine curve: asin(b*time + c) + a\n      // where a = wind magnitude as a function of leaf position, b = wind.duration, c = offset\n      // wind duration should be related to wind magnitude, e.g. higher windspeed means longer gust duration\n\n      if (this.timer === 0 || this.timer > (this.options.wind.start + this.options.wind.duration)) {\n\n        this.options.wind.magnitude = Math.random() * this.options.wind.maxSpeed;\n        this.options.wind.duration = this.options.wind.magnitude * 50 + (Math.random() * 20 - 10);\n        this.options.wind.start = this.timer;\n\n        var screenHeight = this.height;\n\n        this.options.wind.speed = function(t, y) {\n          // should go from full wind speed at the top, to 1/2 speed at the bottom, using leaf Y\n          var a = this.magnitude/2 * (screenHeight - 2*y/3)/screenHeight;\n          return a * Math.sin(2*Math.PI/this.duration * t + (3 * Math.PI/2)) + a;\n        }\n      }\n    }\n  }\n\n  LeafScene.prototype.init = function() {\n\n    for (var i = 0; i < this.options.numLeaves; i++) {\n      var leaf = {\n        el: document.createElement(\"div\"),\n        x: 0,\n        y: 0,\n        z: 0,\n        rotation: {\n          axis: \"X\",\n          value: 0,\n          speed: 0,\n          x: 0\n        },\n        xSpeedVariation: 0,\n        ySpeed: 0,\n        path: {\n          type: 1,\n          start: 0,\n\n        },\n        image: 1\n      };\n      leaf.el.classList.add(leaftypes[Math.floor(Math.random() * leaftypes.length)]);\n      this._resetLeaf(leaf);\n      this.leaves.push(leaf);\n      this.world.appendChild(leaf.el);\n    }\n\n    this.world.className = \"leaf-scene\";\n    this.viewport.appendChild(this.world);\n\n    // set perspective\n    this.world.style.webkitPerspective = \"400px\";\n    this.world.style.MozPerspective = \"400px\";\n    this.world.style.oPerspective = \"400px\";\n    this.world.style.perspective = \"400px\";\n    \n    // reset window height/width on resize\n    var self = this;\n    window.onresize = function(event) {\n      self.width = self.viewport.offsetWidth;\n      self.height = self.viewport.offsetHeight;\n    };\n  }\n\n  LeafScene.prototype.render = function() {\n    this._updateWind();\n    for (var i = 0; i < this.leaves.length; i++) {\n      this._updateLeaf(this.leaves[i]);\n    }\n\n    this.timer++;\n\n    requestAnimationFrame(this.render.bind(this));\n  }\n\n  // start up leaf scene\n  var leafContainer = document.querySelector(\".falling-leaves\"),\n      leaves = new LeafScene(leafContainer);\n\n  leaves.init();\n  leaves.render();\n<\/script>\n<\/body>\n<\/html>\n')]\n}]",
      "maxWidth": "",
      "tooltip": "https://codepen.io/karinka/pen/yLBeKjN\n",
      "applyToSelected": false,
      "compare": [],
      "metadata":       {
        "uuid": "fc216e84-52af-42e2-af44-5b6370c21984",
        "commandChecksum": "df4a2e70fd35175eed6070083fcd176b",
        "propsChecksum": "89b86143f1bf49e90a4ed87d9dfa60e2"
      }
    },
        {
      "autoExecute": true,
      "color": "#dcecff",
      "fontColor": "black",
      "group": "Overlay Effects",
      "includeLabel": false,
      "sortBy": "96",
      "index": 82,
      "label": "Neon Border",
      "fontSize": "1.00em",
      "minWidth": "110",
      "playerEditable": false,
      "command": "[h: overlayName=\"fx0\"][h: zOrder=0][h: layerOpacity=1]\n[h, if(json.type(macro.args)==\"OBJECT\"):json.toVars(macro.args)]\n\n[h: css=strformat('\nbody {opacity: %{layerOpacity};}\n.container {\nwidth: 99%;\nheight: 98%;\npadding: 1vh;\n}\n.box {\nwidth: 100%;\nheight: 100%;\nborder-radius: 1.5vh;\nbox-shadow:\ninset    0    0   3vw 1vh  #fff,\n0    0   3vw 1vh  #fff,\ninset    1vh  1vh 3vh .1vh #0ff,\ninset   -1vh -1vh 3vh .1vh #0ff,\n1vh  1vh 3vh .1vh #0aa,\n-1vh -1vh 3vh .1vh #0aa;\ntransform:translate(-50% -50%);\n}')]\n\n[h: sHTML=strformat('\n<html>\n<head>\n<style>\n%{css}\n<\/style>\n<\/head>\n<body>\n<div class=\"container\">\n\t<div class=\"box\"><\/div>\n<\/div>\n<\/body>\n<\/html>\n')]\n[overlay(overlayName, zOrder):{\n    [r:sHTML]}]",
      "maxWidth": "",
      "tooltip": "",
      "applyToSelected": false,
      "compare": [],
      "metadata":       {
        "uuid": "d2c51581-2a62-49d9-a581-9a2cdc9b2eab",
        "commandChecksum": "0143e17a0d39ee14f4d4992a14924c06",
        "propsChecksum": "a464f62f770f5b940b63d73ade175604"
      }
    },
        {
      "autoExecute": true,
      "color": "darkgray",
      "fontColor": "maroon",
      "group": "zVariables & Settings",
      "includeLabel": false,
      "sortBy": "1",
      "index": 83,
      "label": "Sound Panel Settings",
      "fontSize": "1.00em",
      "minWidth": "110",
      "playerEditable": false,
      "command": "[h:settings = '{\n\"devCache\":1,\n\"autoload\":1,\n\"channelCount\":6\n}']\n\n[h: setLibProperty(\"soundPanel_settings\", settings, getMacroLocation())]\n[h:'<!-- set devCache to 1 to generate and cache HTML etc. -->']\n[h:'<!-- channelCount number of sound channels visible     -->']",
      "maxWidth": "",
      "tooltip": "Sound Panel Settings",
      "applyToSelected": false,
      "compare": [],
      "metadata":       {
        "uuid": "9aa5b552-2fa4-4240-a47b-e5990d270b1e",
        "commandChecksum": "93f00e0c3dc6254090149ce5a1f68be1",
        "propsChecksum": "ad7590a6678533cedfde5671c9ca301b"
      }
    },
        {
      "autoExecute": true,
      "color": "#dcffec",
      "fontColor": "black",
      "group": "Overlay Effects",
      "includeLabel": false,
      "sortBy": "40",
      "index": 86,
      "label": "Rain Overhead",
      "fontSize": "1.00em",
      "minWidth": "110",
      "playerEditable": false,
      "command": "[h: overlayName=\"fx0\"][h: zOrder=0][h: layerOpacity=1]\n[h, if(json.type(macro.args)==\"OBJECT\"):json.toVars(macro.args)]\n\n[h: css=strformat('\n* {\n\tmargin:0;\n\tpadding:0;\n\tbox-sizing:border-box;\n}\nbody {opacity: %{layerOpacity};}\n.overheadRain {\n  background-color: transparent;\n  position:fixed;\n  top:0;\n  left:0;\n}')]\n[h: js='\nvar cnv0;\nvar cnv1;\nvar ctx0;\nvar ctx1;\nvar ctx1_globalAlpha = 0.42;\n\nvar wWidth = window.innerWidth;\nvar wHeight= window.innerHeight;\nvar eye = new Vector3D(wWidth/2, wHeight/2, Math.max(wWidth, wHeight));\n\nvar fov = 200;\nvar drops = new Array();\nvar dropRadius = 4;\nvar splashDrops = new Array();\nvar splashFrames = 8;\nvar maxdrops=550;\nvar zStart = 1240;\nvar zEnd = 0;\nvar fallrate = new Vector3D(0,0,zStart/-4);\nvar t0;\nvar dt;\nvar fps = 26;\nvar force;\nvar acc;\n\n\n\nvar forceField;\nvar forceTheta = 0;\n\nfunction Particle(radius,r,g,b,a,gradient,mass){\n\tif(typeof(radius)===\"undefined\") radius = 5;\n\tif(typeof(r)===\"undefined\") r = 255;\n\tif(typeof(g)===\"undefined\") g = 255;\n\tif(typeof(b)===\"undefined\") b = 255;\t\n\tif(typeof(a)===\"undefined\") a = 1;\n\tif(typeof(gradient)===\"undefined\") gradient = true;\n\tif(typeof(mass)===\"undefined\") mass = 1;\t\n\tthis.r = r;\n\tthis.g = g;\n\tthis.b = b;\n\tthis.a = a;\n\tthis.r_ = Math.max(0, this.r-80);\n\tthis.g_ = Math.max(0, this.g-80);\n\tthis.b_ = Math.max(0, this.b-80);\n\tthis.a_ = Math.round(Math.max(0,   this.a-0.3),4);\n\tthis.colour = \"rgba(\"+this.r+\",\"+this.g+\",\"+this.b+\",\"+this.a+\")\";\n\tthis.colour_ = \"rgba(\"+this.r_+\",\"+this.g_+\",\"+this.b_+\",\"+this.a_+\")\";\n\tthis.radius = dropRadius;\n\tthis.mass = mass;\n\tthis.x = 0;\n\tthis.y = 0;\n\tthis.z = 0;\n\tthis.lastx = 0;\n\tthis.lasty = 0;\n\tthis.lastScale = 1;\n\tthis.vx = 0;\n\tthis.vy = 0;\n\tthis.vz = 0;\n\tthis.splash = -1;\n\tthis.splashColour = \"#9999ff66\";\n}\nParticle.prototype = {\n\tget pos3D (){return new Vector3D(this.x,this.y,this.z);},\n\tset pos3D (pos){\n\t\tthis.x = pos.x;\n\t\tthis.y = pos.y;\n\t\tthis.z = pos.z;\n\t},\n\tget velo3D (){return new Vector3D(this.vx,this.vy,this.vz);\t},\n\tset velo3D (velo){\n\t\tthis.vx = velo.x;\n\t\tthis.vy = velo.y;\n\t\tthis.vz = velo.z;\n\t},\n\tdraw: function (context) { \n\t\tif(this.z < -fov) {return};\n\t\tvar scale = (fov+this.z)/fov;\n\t\tvar x2d = (this.x * scale) + wWidth/2;\n\t\tvar y2d = (this.y * scale) + wHeight/2;\n\t\tif(this.lastx==0) {\n\t\t\tvar scale_ = scale;\n\t\t\tvar x2d_ = x2d;\n\t\t\tvar y2d_ = y2d;\n\t\t} else {\n\t\t\tvar scale_ = this.lastScale;\n\t\t\tvar x2d_ = (this.lastx * scale_) + wWidth/2;\n\t\t\tvar y2d_ = (this.lasty * scale_) + wHeight/2;\n\t\t}\t\t\n\t\t\n\t\tthis.lastx = this.x;\n\t\tthis.lasty = this.y;\n\t\tthis.lastScale = scale;\n\t\t\n\t\tif( x2d < 0 || x2d > wWidth || y2d < 0 || y2d > wHeight ) {} else {\n\t\t\tvar grd = context.createRadialGradient(x2d, y2d, 0, x2d, y2d, 4);\n\t\t\tgrd.addColorStop(1, this.colour);\n\t\t\tgrd.addColorStop(0, this.colour_);\n\t\t\tcontext.strokeStyle = grd;\n\t\t\tcontext.fillStyle = grd;\n\t\t\tcontext.lineWidth = this.radius/scale;\n\t\t\tcontext.lineCap = \"round\";\n\t\t\tcontext.beginPath();\n\t\t\tcontext.moveTo(x2d,y2d);\n\t\t\tcontext.lineTo(x2d_,y2d_);\n\t\t\tcontext.stroke();\n\t\t\tcontext.fill();\n\t\t}\n\t},\n\tdrawSplash: function (context, step) {\n\t\tvar scale = (fov+this.z)/fov;\n\t\tvar x2d = (this.x * scale) + wWidth/2;\n\t\tvar y2d = (this.y * scale) + wHeight/2;\n\t\tthis.radius = this.radius * 1.18;\n\t\tvar grad = context.createRadialGradient(x2d,y2d,0,x2d,y2d,this.radius);\n\t\tgrad.addColorStop(0,\"transparent\");\n\t\tgrad.addColorStop(0.6,\"transparent\");\n\t\tgrad.addColorStop(0.9,this.splashColour);\n\t\tgrad.addColorStop(1,\"transparent\");\n\t\tcontext.fillStyle = grad;\n\t\tcontext.beginPath();\n\t\tcontext.arc(x2d, y2d, this.radius, 0, 2*Math.PI, true);\n\t\tcontext.closePath();\n\t\tcontext.fill();\n\t}\n};\nParticle.prototype.constructor = Particle;\n\nfunction Vector3D(x,y,z) {\n\tthis.x = x;\n\tthis.y = y;\t\n\tthis.z = z;\t\n}\t\t\nVector3D.prototype = {\t\t\n\tadd: function(vec) {return new Vector3D(this.x + vec.x,this.y + vec.y,this.z + vec.z);\t},\n\tincrementBy: function(vec) {\n\t\tthis.x += vec.x;\n\t\tthis.y += vec.y;\n\t\tthis.z += vec.z;\t\t\n\t},\t\n\tmultiply: function(k) {return new Vector3D(k*this.x,k*this.y,k*this.z);\t},\t\n\taddScaled: function(vec,k) {return new Vector3D(this.x + k*vec.x, this.y + k*vec.y, this.z + k*vec.z);}\n};\t\t\n\nfunction Forces(){}\nForces.zeroForce = function() {\treturn (new Vector3D(0,0,0));}\nForces.forceField = function(q,E) {\treturn E.multiply(q);}\nForces.add = function(arr){\n\t\tvar forceSum = new Vector3D(0,0,0);\n\t\tfor (var i=0; i<arr.length; i++){\n\t\tvar force = arr[i];\n\t\tforceSum.incrementBy(force);\n\t}\n\treturn forceSum;\n}\n\nfunction init() {\n\t//create canvasses\n\tcnv0 = createCanvas(cnv0);\n\tctx0 = cnv0.getContext(\"2d\");\n\t// create drops\n\tfor (var i=0; i<maxdrops; i++){\t\n\t\tvar drop    = new Particle(18,255,255,255,0.2,true);\n\t\trecycleDrop(drop);\n\t\tdrop.z = Math.random()*1.1*zStart;\n\t\tdrop.draw(ctx0);\n\t\tdrops.push(drop);\n\t}\t\n\t\n\tt0 = new Date().getTime(); \n\tanimFrame();\n}\nfunction createCanvas(canvas) {\n\tcanvas  = document.createElement(\"canvas\");\n\tcanvas.width = wWidth;\n\tcanvas.height = wHeight;\n\tdocument.body.appendChild(canvas);\n\tcanvas.classList.add(\"overheadRain\");\n\treturn canvas;\n}\n\nfunction animFrame(){\n     setTimeout(function() {\n          animId = requestAnimationFrame(animFrame,cnv0);\n          onTimer();\n     }, 1000/fps);\n}\n\nfunction onTimer(){\n\tvar t1 = new Date().getTime(); \n\tdt = 0.001*(t1-t0); \n\tt0 = t1;\n\tif (dt>0.2 || dt == 0) {dt=0.001;};\t\n\tforceTheta += Math.random()*4/(dt);\n\tmove();\n}\n\nfunction move(){\n\tctx0.clearRect(0, 0, wWidth, wHeight);\n\n\tfor (var i=0; i<drops.length; i++){\n\t\tvar drop = drops[i];\n\t\tmoveObject(drop, ctx0);\n\t\tif(drop.splash==-1) {\n\t\t\tcalcForce(drop);\n\t\t\tupdateAccel(drop.mass);\n\t\t\tupdateVelo(drop);\n\t\t};\n\t};\n}\n\nfunction moveObject(obj, fallingContext){\n\tif(obj.splash>-1) {\n\t\tobj.splash+=1;\t\t\n\t} else {\n\t\tobj.pos3D = obj.pos3D.addScaled(obj.velo3D,dt);\n\t\tif (obj.z <= zEnd) { obj.splash+=1; }\n\t};\n\n\tif(obj.splash>=0) {\n\t\tobj.drawSplash(fallingContext, obj.splash);\n\t} else {\n\t\tobj.draw(fallingContext);\n\t};\n\tif(obj.splash > splashFrames) { recycleDrop(obj);}\n}\nfunction updateAccel(mass){\tacc = force.multiply(1/mass); }\t\nfunction updateVelo(obj){ obj.velo3D = obj.velo3D.addScaled(acc,dt); }\nfunction calcForce(obj){\t\n\tforce = Forces.zeroForce();\n\tif(obj.splash==-1) {\n\t\tforceField = Forces.forceField(\n\t\t\tMath.random()*0.04, \n\t\t\tnew Vector3D(\n\t\t\t\tMath.cos(forceTheta)*wWidth*2, \n\t\t\t\tMath.sin(forceTheta)*wHeight/2\n\t\t\t\t,0)); \n\t\tforce = Forces.add([force, forceField]);\n\t};\n}\nfunction recycleDrop(obj){\n\tobj.pos3D = new Vector3D((Math.random()-0.5)*1.1*wWidth,(Math.random()-0.5)*1.1*wHeight, zStart);\n\tobj.lastx = 0;\n\tobj.lasty = 0;\n\tobj.velo3D = fallrate;\n\tobj.splash = -1;\n\tobj.radius = dropRadius;\n}\nwindow.onload = init;']\n[overlay(overlayName, zOrder): {\n\t[r: '\n<html>\n<head>\n<meta charset=\"UTF-8\">\n<title>Overhead Rain Effect<\/title>\n<style>\n%{css}\n<\/style>\n<\/head>\n<body>\n\n<script>\n'+js+'\n<\/script>\n<\/body>\n<\/html>\n' ]\n}]",
      "maxWidth": "",
      "tooltip": "All mine. Not stolen from anywhere unless you count the book I learned from.",
      "applyToSelected": false,
      "compare": [],
      "metadata":       {
        "uuid": "b48d5853-5b52-48b9-ba8a-bfdf9586e02e",
        "commandChecksum": "14f506dfcfe28fa791ac8c3b773b8af4",
        "propsChecksum": "db1defbefd39d2c81ded6e00b7a1871a"
      }
    },
        {
      "autoExecute": true,
      "color": "#dcecff",
      "fontColor": "black",
      "group": "Overlay Effects",
      "includeLabel": false,
      "sortBy": "10",
      "index": 88,
      "label": "Firefront",
      "fontSize": "1.00em",
      "minWidth": "110",
      "playerEditable": false,
      "command": "[h: overlayName=\"fx0\"][h: zOrder=0]\t[h: layerOpacity=1]\n[h, if(json.type(macro.args)==\"OBJECT\"):json.toVars(macro.args)]\n\n[h: css=strformat('\n* {\n  box-sizing: border-box;\n  margin:0;\n  padding: 0;\n}\nbody {\n  background: rgba(0,0,0,.3);\n  opacity: %{layerOpacity};\n  overflow: hidden;\n}\n\ncanvas {\n  height: 102vh;\n  left: -1vw;\n  position: fixed;\n  top: -1vh;\n  width: 102vw;\n}\n')]\n[overlay(overlayName, zOrder): {\t\n[r: strformat('\n<html>\n<head>\n<meta charset=\"UTF-8\">\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n<style>\n%{css}\n<\/style>\n<\/head>\n<body>\n\n\n<canvas id=\"emberCanvas\" width=\"800\" height=\"600\"><\/canvas>\n<script>\nvar canvas;\nvar canvasW, canvasH;\nvar context;\nvar fps = 26;\nvar t0,dt;\nvar k = 50;\nvar vortices;\nvar attractors;\nvar embers;\nvar force;\nvar forceTheta = 0;\nvar forceField;\nvar acc;\nvar numEmbers = 350;\nvar maxEmberSize;\nvar minEmberSize;\nvar numAttractors = 2;\nvar numVortices = 3;\nvar vortexLifetime=45;\nvar graph;\nvar vMax=80;\n\nfunction Vortex(radius, spin)\n    { this.respawn(radius, spin) }\n    Vortex.prototype = {\n\t\tget pos2D (){\n\t\treturn new Vector2D(this.x,this.y);\n\t\t},\n\t\tset pos2D (pos){\n\t\tthis.x = pos.x;\n\t\tthis.y = pos.y;\n\t\t},\n\t\tget velo2D (){\n\t\treturn new Vector2D(this.vx,this.vy);\n\t\t},\n\t\tset velo2D (velo){\n\t\tthis.vx = velo.x;\n\t\tthis.vy = velo.y;\n\t\t}\n\t}\n\tVortex.prototype.respawn=function(radius, spin) {\n      if(typeof(radius)===\"undefined\") radius = canvasW/(Math.random()*7+7);\n\t  if(typeof(spin)===\"undefined\") spin = Math.sign(Math.random()-0.5)*(Math.random()*8+2);\n\t  this.x=canvas.width*Math.random()\n      this.y=canvas.height*Math.random()\n      this.vx=(Math.random()-0.5)*10\n      this.vy=(Math.random()-0.5)*10\n      this.life=vortexLifetime\n      this.radius = radius\n      this.speed=spin\t\n\t  this.scale=canvasH*0.0016\n      this.scale*=this.scale\n      if (Math.random()<0.5) this.speed=-this.speed\n    }\n\t\n    Vortex.prototype.update=function() {\n      var lifeFactor=this.life/vortexLifetime\n\t  var damping=1-0.005\n      this.vx*=damping\n      this.vy*=damping\n      this.x+=this.vx\n      this.y+=this.vy\n      this.life-=1\n      if (this.life<=0 || this.x <= 0 || this.x >= canvasW || this.y <= 0 || this.y >= canvasH) this.respawn()\n    }\n\n    Vortex.prototype.draw=function() {\n\t\tcontext.fillStyle = \"#ffffff66\";\n\t\tcontext.beginPath();\n\t\tcontext.arc(this.x, this.y, this.radius, 1*Math.PI, 0, true);\n\t\tcontext.closePath();\n\t\tcontext.fill();\t\t\n    }\n\nfunction Particle(mass,charge){\n\tif(typeof(mass)===\"undefined\") mass = 1;\n\tif(typeof(charge)===\"undefined\") charge = 0;\n\tthis.mass = mass;\n\tthis.charge = charge;\n\tthis.life = 0;\n\tthis.x = 0;\n\tthis.y = 0;\n\tthis.vx = 0;\n\tthis.vy = 0;\n}\n\tParticle.prototype = {\n\t\tget pos2D (){\n\t\treturn new Vector2D(this.x,this.y);\n\t},\n\tset pos2D (pos){\n\t\tthis.x = pos.x;\n\t\tthis.y = pos.y;\n\t},\n\tget velo2D (){\n\t\treturn new Vector2D(this.vx,this.vy);\n\t},\n\tset velo2D (velo){\n\t\tthis.vx = velo.x;\n\t\tthis.vy = velo.y;\n\t}\n};\n\nfunction Ball(radius,color,mass,charge,gradient){\n\tif(typeof(radius)===\"undefined\") radius = 20;\n\tif(typeof(color)===\"undefined\") color = \"#0000ff\";\n\tif(typeof(mass)===\"undefined\") mass = 1;\n\tif(typeof(charge)===\"undefined\") charge = 0;\n\tif(typeof(gradient)===\"undefined\") gradient = false;\t\n\tthis.radius = radius;\n\tthis.color = color;\n\tthis.mass = mass;\n\tthis.charge = charge;\n\tthis.gradient = gradient;\n\tthis.x = 0;\n\tthis.y = 0;\n\tthis.vx = (Math.random()-0.5)*8;\n\tthis.vy = (Math.random()-0.5)*5;\n}\t\t\nBall.prototype = Object.create(Particle.prototype);\nBall.prototype.constructor = Ball;\nBall.prototype.draw = function (context){\n\tif (this.gradient){\n\t\tgrad = context.createRadialGradient(this.x,this.y,0,this.x,this.y,this.radius);\n\t\tgrad.addColorStop(0,\"#ffff00\");\n\t\tgrad.addColorStop(1,this.color);\n\t\tcontext.fillStyle = grad;\n\t}else{\n\t\tcontext.fillStyle = this.color;\n\t}\t\n\tcontext.beginPath();\n\tcontext.arc(this.x, this.y, this.radius, 0, 2*Math.PI, true);\n\tcontext.closePath();\n\tcontext.fill();\t\t\n};\n\n\nfunction Vector2D(x,y) {\n\tthis.x = x;\n\tthis.y = y;\t\t\n}\nVector2D.prototype = {\t\t\n\tlengthSquared: function(){\n\t\treturn this.x*this.x + this.y*this.y;\n\t},\n\tadd: function(vec) {\n\t\treturn new Vector2D(this.x + vec.x,this.y + vec.y);\n\t},\n\tincrementBy: function(vec) {\n\t\tthis.x += vec.x;\n\t\tthis.y += vec.y;\n\t},\t\t\n\tsubtract: function(vec) {\n\t\treturn new Vector2D(this.x - vec.x,this.y - vec.y);\n\t},\t\n\tmultiply: function(k) {\n\t\treturn new Vector2D(k*this.x,k*this.y);\n\t},\t\t\n\taddScaled: function(vec,k) {\n\t\treturn new Vector2D(this.x + k*vec.x, this.y + k*vec.y);\n\t}\n};\n\nfunction Forces(){}\nForces.zeroForce = function() {\n\treturn (new Vector2D(0,0));\n}\nForces.electric2 = function(k,q1,q2,r){\n\treturn r.multiply(k*q1*q2/(r.lengthSquared()));\n}\nForces.forceField = function(q,E) {\n\treturn E.multiply(q);\n}\nForces.vortex = function(obj, vortex) {\n\tvar dx=obj.x-vortex.x\n\tvar dy=obj.y-vortex.y\n\tvar speed=vortex.speed\n\tvar vx=-dy*speed+vortex.vx\n\tvar vy= dx*speed+vortex.vy\n\tvar factor=1/(1+(dx*dx+dy*dy)/vortex.scale)\n\tvar lifeFactor=vortex.life/vortexLifetime\n\tfactor*=(1-lifeFactor)*lifeFactor*4\n\tobj.vx+=(vx-obj.vx)*factor\n\tobj.vy+=(vy-obj.vy)*factor\n\treturn (new Vector2D(obj.vx, obj.vy));\n}\nForces.add = function(arr){\n\t\tvar forceSum = new Vector2D(0,0);\n\t\tfor (var i=0; i<arr.length; i++){\n\t\tvar force = arr[i];\n\t\tforceSum.incrementBy(force);\n\t}\n\treturn forceSum;\n}\n\nfunction init() {\n\tcanvas = document.getElementById(\"emberCanvas\");\n\tcanvas.width  = window.innerWidth;\n\tcanvas.height = window.innerHeight;\n\tcanvasW = canvas.width;\n\tcanvasH = canvas.height;\n\tcontext = canvas.getContext(\"2d\"); \n\tvortices = new Array();\n\tfor (var i=0; i<numVortices; i++){\t\n\t\tvar vortex = new Vortex(canvasW/(Math.random()*7+7), 8);\t\n\t\tvortices.push(vortex);\n\t}\t\n\tattractors = new Array();\n\tfor (var i=0; i<numAttractors; i++){\t\n\t\tvar attractor = new Ball(canvasW/(Math.random()*5+1),\"#88000000\",10000,10,false);\t\n\t\tattractor.pos2D = new Vector2D(canvasW,Math.random()*canvas.height);\n\t\tattractor.velo2D = new Vector2D((Math.random())*-50-100\t,(Math.random()-0.5)*50);\n\t\tattractor.charge = -5;\n\t\tattractors.push(attractor);\n\t}\n\tnumEmbers = Math.floor(canvasW*canvasH/750);\n\tminEmberSize = Math.min(canvasW/canvasH, canvasH/canvasW);\n\tmaxEmberSize = Math.max(canvasW/canvasH, canvasH/canvasW)+1.78;\n\tembers = new Array();\n\tfor (var i=0; i<numEmbers; i++){ createNewEmbers(embers);}\n\tt0 = new Date().getTime(); \n\tanimFrame();\n}\n\nfunction createNewEmbers(embers) {\n\tvar size = Math.max(minEmberSize, Math.random()*maxEmberSize);\n\tvar ember = new Ball(size,\"#88000033\",1, 1, true);\n    ember.pos2D = new Vector2D(Math.random()*canvasW,Math.random()*canvasH);\n    ember.life = Math.floor(Math.random()*300);\n\tember.draw(context);\n\tembers.push(ember);\n}\nfunction recycleEmber(obj){\n\tobj.pos2D  = new Vector2D(Math.random()*canvasW,Math.random()*canvasH);\n\tobj.velo2D = new Vector2D(0,0);\n\tobj.radius = Math.max(minEmberSize, Math.random()*maxEmberSize);\n\tobj.life = Math.floor(Math.random()*300);\n}\nfunction animFrame(){\n     setTimeout(function() {\n          animId = requestAnimationFrame(animFrame,canvas);\n          onTimer();\n     }, 1000/fps);\n}\n\nfunction onTimer(){\n\tvar t1 = new Date().getTime(); \n\tdt = 0.001*(t1-t0); \n\tt0 = t1;\n\tif (dt>0.2) {dt=0;};\n\tforceTheta += Math.random()/10;\n\tmove();\n}\nfunction move(){\n\tcontext.clearRect(0, 0, canvasW, canvasH);\n\tforceField = Forces.forceField(Math.random()/10, new Vector2D(Math.cos(forceTheta)*canvasW*2, Math.sin(forceTheta)*canvasH/2)); \n\tfor (var i=0; i<vortices.length; i++){\n\t\tvar vortex=vortices[i];\n\t\tcalcForce(vortex);\n\t\tvortex.update();\n\t\t//vortex.draw();\n\t}\n\tfor (var i=0; i<embers.length; i++){\n\t\tvar ember = embers[i];\n\t\tember.life -= 1;\n\t\tif(ember.life == -1) {recycleEmber(ember);}\n\t\tmoveEmber(ember);\n\t\tcalcForce(ember);\n\t\tupdateAccel(ember.mass);\n\t\tupdateVelo(ember);\t\t\t\t\n\t}\n\tfor (var i=0; i<attractors.length; i++){\n\t\tvar attractor = attractors[i];\t\n\t\tmoveAttractor(attractor);\n\t}\n}\nfunction moveEmber(obj){\n\tobj.pos2D = obj.pos2D.addScaled(obj.velo2D,dt);\n\tif(obj.vx < -vMax || obj.vx > vMax) { obj.vx = obj.vx * 0.63 }\n\tif(obj.vy < -vMax || obj.vy > vMax) { obj.vy = obj.vy * 0.63 }\n\tif (obj.x < 0 \t    ){obj.x = canvasW; obj.vx = obj.vx*0.1}\n\tif (obj.x > canvasW ){obj.x = 0; \t   obj.vx = obj.vx*0.1}\n\tif (obj.y < 0\t    ){obj.y = canvasH; obj.vy = obj.vy*0.1}\n\tif (obj.y > canvasH ){obj.y = 0;\t   obj.vy = obj.vy*0.1}\n\tobj.draw(context);\n}\nfunction moveAttractor(obj){\n\tobj.pos2D = obj.pos2D.addScaled(obj.velo2D,dt);\t\n\tif (obj.x <= 0 || obj.x >= canvasW || obj.y <= 0 || obj.y >= canvasH){\n\t\trecycleAttractor(obj);\n\t\t}\n\tobj.draw(context);\t\n}\nfunction recycleAttractor(obj){\n\tobj.pos2D = new Vector2D(canvasW,Math.random()*canvasH);\n\tobj.velo2D = new Vector2D((Math.random())*-50-100,(Math.random()*Math.random()-0.5)*40);\n\tobj.radius = canvasW/(Math.random()*5+1);\n}\nfunction updateAccel(mass){\n\tacc = force.multiply(1/mass);\n}\t\nfunction updateVelo(obj){\n\tobj.velo2D = obj.velo2D.addScaled(acc,dt);\t\t\t\t\n}\nfunction calcForce(obj){\t\n\tvar gravity;\n\tvar vortex;\n\tvar cForce;\n\tforce = Forces.zeroForce();\n\tfor (var i=0; i<numVortices; i++){\n\t\tvar vortex = vortices[i];\n\t\tvForce = Forces.vortex(obj, vortex);\n\t\tforce = Forces.add([force, vForce]);\n\t}\n\tfor (var i=0; i<numAttractors; i++){\n\t\tvar attractor = attractors[i];\t\n\t\tvar dist = obj.pos2D.subtract(attractor.pos2D);\n\t\tvar scalarDist = Math.sqrt((obj.x-attractor.x)^2 + (obj.y-attractor.y)^2);\n\t\tif(scalarDist< attractor.radius) {\n\t\t\tif(scalarDist < attractor.radius/2) {\n\t\t\t\telectric = Forces.electric2(k,attractor.charge,obj.charge,dist);\n\t\t\t} else {\n\t\t\t\telectric = Forces.electric2(k,-attractor.charge,obj.charge,dist);\n\t\t\t};\n\t\t\tforce = Forces.add([force, electric]);\n\t\t} else {\n\t\tforce = Forces.add([force, forceField]);\n\t\t}\n\t}\t\t\t\n}\n\nwindow.onload = init;\n\n<\/script>\n<\/body>\n<\/html>\n')]\n}]",
      "maxWidth": "",
      "tooltip": "https://github.com/devramtal/Physics-for-JavaScript-Games-Animation-Simulations\nhttps://gamedevelopment.tutsplus.com/tutorials/adding-turbulence-to-a-particle-system--gamedev-13332",
      "applyToSelected": false,
      "compare": [],
      "metadata":       {
        "uuid": "fc2b5ec6-40d7-49d4-87f0-d63d7da05747",
        "commandChecksum": "47200e6625951b894d88e107de6f781f",
        "propsChecksum": "90e4d4aef7c2625d8bb156a362d9a8c5"
      }
    },
        {
      "autoExecute": true,
      "color": "#dcecff",
      "fontColor": "black",
      "group": "Overlay Effects",
      "includeLabel": false,
      "sortBy": "10",
      "index": 89,
      "label": "Birds",
      "fontSize": "1.00em",
      "minWidth": "110",
      "playerEditable": false,
      "command": "[h: birdsize          = \"3.6\" ]\n[h: nBoidsMultiplier  = 1     ]\n[h: birdSpeed         = 0.003 ]\n[h: avoidanceRange    = 0.0018]\n[h: alignmentRange    = 0.003 ]\n[h: attractionRange   = 0.015 ]\n[h: avoidanceStrength = 0.52  ]\n[h: alignmentStrength = 0.02  ]\n[h: attractionStrength= 0.008 ]\n[h: overlayName = \"fx0\"][h: zOrder      = -1]\t[h: layerOpacity=1]\n[h, if(json.type(macro.args)==\"OBJECT\"): json.toVars(macro.args)]\n\n[h: birdSrc = '']\n[h, for(i, 0, 10): birdSrc=json.append(birdSrc, json.get(getTableEntry(\"tWeather\", i), \"assetid\"))]\n[h: css=strformat('\n* {\n\tbox-sizing: border-box;\n\tmargin: 0;\n\tpadding: 0;\n}\nbody {\n\theight: 100vh;\n\toverflow: hidden;\n\twidth: 100vw;\n\tbackground: transparent;\n\topacity: %{layerOpacity};\n}\n.container {\n\tposition: absolute;\n\ttop: -10vw;\n\tleft: -10vh;\n\theight: 120vh;\n\twidth: 120vw;\n\t}\n.birdpos {position: absolute;}\n.birdimg {\n\tposition: absolute;\n\tleft:0;\n\ttop:0;\n\twidth: %{birdsize}vw;\n}\n')]\n\n\n[overlay(overlayName, zOrder): {\n[r: strformat('\n<html>\n<head>\n<title>Boids<\/title>\n<meta charset=\"UTF-8\"><meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n<style>%{css}\n<\/style>\n<\/head>\n<body>\n<div class=\"container\" id=\"container\">\n\t<div class=\"birdpos\" id=\"birdposO\">\n\t\t<img id=\"birdimageO\" class=\"birdimg\"  +json.get(birdSrc,0)+>\n\t<\/div>\n<\/div>\n<script>\n\n\"use strict\"\nvar\ncontainer = document.getElementById(\"container\"),\ncStyle = getComputedStyle(container),\ncWidth  = parseInt(cStyle.width ),\ncHeight = parseInt(cStyle.height),\ndescend = {x:0, y:0, z:-0.05},\nclimb   = {x:0, y:0, z: 0.05},\nsimulationInfo = {\n  boids: [],\n  nBoids: parseInt('+nBoidsMultiplier+'*(cWidth+cHeight)/100),\n  birdSpeed: '+birdSpeed+',\n  avoidanceRange: '+avoidanceRange+',\n  alignmentRange: '+alignmentRange+',\n  attractionRange: '+attractionRange+',\n  avoidanceStrength: '+avoidanceStrength+',\n  alignmentStrength: '+alignmentStrength+',\n  attractionStrength: '+attractionStrength+',\n  handle: 0,\n  tick: 0,\n};\nvar birdImgSrc = %{birdSrc};\n\nfunction getNewBoid() {\n  var retVal = {\n\tposition: {x: Math.random(), y: Math.random(), z: Math.random()}, \n\tspeed: [\n\t\t{x: Math.sign(Math.random()-0.5)*0.1+Math.random()*0.9, \n\t\ty: Math.sign(Math.random()-0.5)*0.1+Math.random()*0.9, z: 0}, \n\t\t{x: Math.random()-0.5, y: Math.random()-0.5, z: 0}], \n\thighlight: false,\n\timgFrame: Math.floor(Math.random()*10),\n\telement: document.getElementById(\"birdposO\").cloneNode(true)};\n  normalize(retVal.speed[0]);\n  normalize(retVal.speed[1]);\n  retVal.element.style.display=\"block\";\n  container.append(retVal.element);\n  return retVal;\n}\n\nfunction init() {\n  for (var i = 0; i < simulationInfo.nBoids; ++i) {\n    simulationInfo.boids[i] = getNewBoid();\n\tsimulationInfo.boids[i].element.id=\"birdpos\"+i;\n\tsimulationInfo.boids[i].element.firstElementChild.id=\"birdimage\"+i;\n  }\n  step();\n}\n\nfunction normalize(vec) {\n  var len = Math.pow(vec.x, 2) + Math.pow(vec.y, 2) + Math.pow(vec.z, 2);\n  if (len > 0) {\n    len = Math.sqrt(len);\n    vec.x /= len;\n    vec.y /= len;\n    vec.z /= len;\n  }\n  return vec;\n}\nfunction getLength(vec) { return Math.sqrt(vec.x*vec.x + vec.y*vec.y + vec.z*vec.z);}\nfunction getDistance(firstVec, secondVec) {\n  var dist = Math.pow(firstVec.x - secondVec.x, 2) + Math.pow(firstVec.y - secondVec.y, 2) + Math.pow(firstVec.z - secondVec.z, 2);\n  return dist;\n}\nfunction multiplyVector(vec, scalar) { return {x: vec.x*scalar, y: vec.y*scalar, z: vec.z*scalar};}\nfunction addVector(firstVec, secondVec) { return {x: firstVec.x + secondVec.x, y: firstVec.y + secondVec.y, z: firstVec.z + secondVec.z};}\nfunction getAngle(firstVec, secondVec) {\n  return Math.acos((firstVec.x * secondVec.x + firstVec.y * secondVec.y + firstVec.z * secondVec.z)/(getLength(firstVec)*getLength(secondVec)));\n}\n\nfunction updateAvoidAlignAttract(boidActor, boidObject, avoid, align, attract) {\n  var dist = getDistance(boidActor.position, boidObject.position);\n  if (dist < simulationInfo.avoidanceRange) {\n    avoid.x += (boidActor.position.x - boidObject.position.x)*Math.pow((simulationInfo.avoidanceRange - dist)/simulationInfo.avoidanceRange,2);\n    avoid.y += (boidActor.position.y - boidObject.position.y)*Math.pow((simulationInfo.avoidanceRange - dist)/simulationInfo.avoidanceRange,2);\n    avoid.z += (boidActor.position.z - boidObject.position.z)*Math.pow((simulationInfo.avoidanceRange - dist)/simulationInfo.avoidanceRange,2);\n  }  \n  if (dist < simulationInfo.alignmentRange) {\n    align.x += (boidObject.speed[simulationInfo.tick].x);\n    align.y += (boidObject.speed[simulationInfo.tick].y);\n    align.z += (boidObject.speed[simulationInfo.tick].z);\n  } \n  if (dist < simulationInfo.attractionRange) {\n    attract.x += (boidObject.position.x - boidActor.position.x);\n    attract.y += (boidObject.position.y - boidActor.position.y);\n    attract.z += (boidObject.position.z - boidActor.position.z);\n  }\n}\n\nfunction recalculateSpeeds() {\n  var i, j, avoid, align, attract, maxRange, angle, minPoint, countEffectors, skippedEffectors;\n  minPoint = 0;\n  maxRange = Math.max(Math.sqrt(simulationInfo.attractionRange), Math.sqrt(simulationInfo.alignmentRange), Math.sqrt(simulationInfo.avoidanceRange));\n  for (i = 0; i < simulationInfo.boids.length; ++i) {\n    avoid = {x: 0, y: 0, z: 0};\n    if(i%(Math.floor(Math.random()*12))==0){align = {x: (Math.random()-0.6)/30, y: (Math.random()-0.4)/30, z: (Math.random()-0.5)/50}} else {align = {x: 0, y: 0, z: 0}};\n    attract = {x: 0, y: 0, z: 0};\n    for (j = minPoint; j < i; ++j) {\n      if (simulationInfo.boids[i].position.x - simulationInfo.boids[j].position.x > maxRange) {\n        minPoint++;\n        continue;\n      }\n      if (Math.pow(simulationInfo.boids[i].position.y - simulationInfo.boids[j].position.y,2) > simulationInfo.attractionRange) continue;\n      updateAvoidAlignAttract(simulationInfo.boids[i], simulationInfo.boids[j], avoid, align, attract);\n    }\n    for (j = i+1; j < simulationInfo.boids.length; ++j) {\n      if (simulationInfo.boids[j].position.x - simulationInfo.boids[i].position.x > maxRange) break;\n      if (Math.pow(simulationInfo.boids[i].position.y - simulationInfo.boids[j].position.y,2) > simulationInfo.attractionRange) continue;\n      updateAvoidAlignAttract(simulationInfo.boids[i], simulationInfo.boids[j], avoid, align, attract);\n    }\n    if (avoid.x != 0 || avoid.y != 0 || avoid.z != 0) {\n      avoid = multiplyVector(normalize(avoid), simulationInfo.avoidanceStrength);\n    } else {\n      avoid = addVector(multiplyVector(normalize(align), simulationInfo.alignmentStrength), multiplyVector(normalize(attract), simulationInfo.attractionStrength));\n    }\n    simulationInfo.boids[i].speed[1 - simulationInfo.tick] = {x: simulationInfo.boids[i].speed[simulationInfo.tick].x, y: simulationInfo.boids[i].speed[simulationInfo.tick].y, z: simulationInfo.boids[i].speed[simulationInfo.tick].z};\n    simulationInfo.boids[i].speed[1 - simulationInfo.tick] = normalize(addVector(simulationInfo.boids[i].speed[1 - simulationInfo.tick], avoid));\n  }\n  \n  simulationInfo.tick = 1 - simulationInfo.tick;\n}\n\nfunction step() {\n  var i, j, avoid, align, attract, maxRange, angle, minPoint, countEffectors, skippedEffectors;\n  recalculateSpeeds();\n  for (i = 0; i < simulationInfo.boids.length; ++i) {\n    simulationInfo.boids[i].position.x = (simulationInfo.boids[i].position.x + 1 + simulationInfo.birdSpeed*simulationInfo.boids[i].speed[simulationInfo.tick].x)%1;\n    simulationInfo.boids[i].position.y = (simulationInfo.boids[i].position.y + 1 + simulationInfo.birdSpeed*simulationInfo.boids[i].speed[simulationInfo.tick].y)%1;\n    simulationInfo.boids[i].position.z = simulationInfo.boids[i].position.z + simulationInfo.birdSpeed*simulationInfo.boids[i].speed[simulationInfo.tick].z;\n  }\n  requestRepaint();\n  simulationInfo.boids.sort(function(a, b){\n    return a.position.x - b.position.x;\n  });\n  setTimeout(\"step();\", 20);\n}\n\nfunction requestRepaint() {\n  if (simulationInfo.handle == 0) {\n    simulationInfo.handle = window.requestAnimationFrame(repaint);\n  }\n}\n\nfunction repaint() {\n  for (var i = 0; i < simulationInfo.boids.length; ++i) {\n\tvar birdpos = simulationInfo.boids[i].element,\n\t\tbirdimage = birdpos.firstElementChild;\n\tvar birdscale = (simulationInfo.boids[i].position.z*0.3+0.4) *cWidth/1080;\n\tvar birdrotate= (simulationInfo.boids[i].speed[simulationInfo.tick].y < 0) ?\n\t\t\t\t\t2*Math.PI - Math.acos(simulationInfo.boids[i].speed[simulationInfo.tick].x):\n\t\t\t\t\tMath.acos(simulationInfo.boids[i].speed[simulationInfo.tick].x);\t\n\tsimulationInfo.boids[i].speed[simulationInfo.tick] = simulationInfo.boids[i].position.z >0.9 ? addVector(simulationInfo.boids[i].speed[simulationInfo.tick], descend) : simulationInfo.boids[i].speed[simulationInfo.tick];\n\t\tsimulationInfo.boids[i].speed[simulationInfo.tick] = simulationInfo.boids[i].position.z <0.1 ? addVector(simulationInfo.boids[i].speed[simulationInfo.tick], climb) : simulationInfo.boids[i].speed[simulationInfo.tick];\n\tsimulationInfo.boids[i].imgFrame++;\n\tsimulationInfo.boids[i].imgFrame = simulationInfo.boids[i].imgFrame>9 ? \n\t\tMath.random()<0.21 ? 0 : 9 : simulationInfo.boids[i].imgFrame;\n\tbirdimage.src = birdImgSrc[simulationInfo.boids[i].imgFrame];\n    birdpos.style.left = parseInt(simulationInfo.boids[i].position.x*cWidth )+\"px\";\n\tbirdpos.style.top =  parseInt(simulationInfo.boids[i].position.y*cHeight)+\"px\";\n\tbirdimage.style.transform = \"translate(-50%, -50%) rotate(\"+birdrotate+\"rad) scale(\"+birdscale+\")\";\n\t\n  }\n  simulationInfo.handle = 0;\n}\n\nwindow.onload = init;\n<\/script>\n<\/body>\n<\/html>\n')]\n}]",
      "maxWidth": "",
      "tooltip": "/*  Boids\n *  Agent and GUI script\n *  Copyright 2016 Harmen de Weerd\n */\nhttp://www.harmendeweerd.nl/scripts/boids.html",
      "applyToSelected": false,
      "compare": [],
      "metadata":       {
        "uuid": "2b7e9438-f63b-428c-8692-a36d4f59f2e1",
        "commandChecksum": "a3bcb52c0d436d39298118d5de48c475",
        "propsChecksum": "bd40663a4c360fa2a950d53160d8927d"
      }
    },
        {
      "autoExecute": true,
      "color": "#dcecff",
      "fontColor": "black",
      "group": "Overlay Effects",
      "includeLabel": false,
      "sortBy": "10",
      "index": 90,
      "label": "Firefight",
      "fontSize": "1.00em",
      "minWidth": "110",
      "playerEditable": false,
      "command": "[h: overlayName=\"fx0\"][h: zOrder=0]\t[h: layerOpacity=1]\n[h, if(json.type(macro.args)==\"OBJECT\"):json.toVars(macro.args)]\n\n[h: css=strformat('\n* {\n\tbox-sizing: border-box;\n\tmargin: 0;\n\tpadding: 0;\n}\nbody {\n\theight: 100vh;\n\topacity: %{layerOpacity};\n\toverflow: hidden;\n\twidth: 100vw;\n\tbackground: transparent;\n}\n')]\n\n[overlay(overlayName, zOrder): {\n[r: strformat('\n<html>\n<head>\n<meta charset=\"UTF-8\"><meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n<style>%{css}<\/style>\n<\/head>\n<body>\n\n<script>\n\"use strict\"\nconsole.clear();\nconst dft={radius:3.2,colours:[\"#d5bb6d\",\"#c2b280\",\"#afa892\",\"#cbb676\"],mass:0.001,charge:1,gradient:false}\nfunction Particle(radius,colours,mass,charge,gradient){if(typeof(radius)===\"undefined\")radius=prt.radius;if(typeof(colours)===\"undefined\")colours=prt.colours;if(typeof(mass)===\"undefined\")mass=prt.mass;if(typeof(charge)===\"undefined\")charge=prt.charge;if(typeof(gradient)===\"undefined\")gradient=prt.gradient;this.radius=radius;this.colours=colours;this.lastcolor=0;this.mass=mass;this.charge=charge;this.gradient=gradient;this.x=0;this.y=0;this.vx=(Math.random()-0.5)*8;this.vy=(Math.random()-0.5)*5;this.life=0;this.lifetime=1;this.alpha=this.calcAlpha();this.vUnit=this.velo2D.unit();this.startframe;this.speed;this.type;}\nParticle.prototype.constructor=Particle;Particle.prototype={get pos2D(){return new Vector2D(this.x,this.y);},set pos2D(pos){this.x=pos.x;this.y=pos.y;},get velo2D(){return new Vector2D(this.vx,this.vy);},set velo2D(velo){this.vx=velo.x;this.vy=velo.y;},age:function(dt){if(typeof dt===\"undefined\")dt=1;this.life+=dt;return this.life>this.lifetime;},calcAlpha:function(){var decValue=parseInt((1-(this.life/this.lifetime))*(this.life/this.lifetime)*4*255);var hexString=decValue.toString(16);if((hexString.length%2)>0){hexString=\"0\"+hexString}\nreturn hexString},draw:function(context){if(this.gradient){var grad=context.createRadialGradient(this.x,this.y,0,this.x,this.y,this.radius);grad.addColorStop(0,this.colours[0]);grad.addColorStop(1,this.colours[this.colours.length]);context.fillStyle=grad;}else{this.lastcolor=this.lastcolor==this.colours.length?0:this.lastcolor++;context.fillStyle=this.colours[this.lastcolor];}\ncontext.beginPath();context.arc(this.x,this.y,this.radius,0,2*Math.PI,true);context.closePath();context.fill();},drawLine:function(context){var lineEnd=this.pos2D.add(this.velo2D.multiply(0.051));if(this.gradient){var grad=context.createLinearGradient(this.x,this.y,lineEnd.x,lineEnd.y);grad.addColorStop(0.0,this.colours[0]+\"00\");grad.addColorStop(0.3,this.colours[0]);grad.addColorStop(0.6,this.colours[this.colours.length-1]+\"a1\");grad.addColorStop(1.0,this.colours[this.colours.length-1]+\"00\");context.strokeStyle=grad;}else{this.lastcolor=this.lastcolor==this.colours.length?0:this.lastcolor++;context.strokeStyle=this.colours[this.lastcolor];}\nvar lineEnd=this.pos2D.add(this.velo2D.multiply(0.03));context.lineWidth=2;context.beginPath();context.moveTo(this.x,this.y);context.lineTo(lineEnd.x,lineEnd.y);context.closePath();context.stroke();},wrap:function(canvas){if(this.x<0){this.x=canvas.width-Math.floor(Math.random()*12)}\nif(this.x>canvas.width){this.x=Math.floor(Math.random()*12)}\nif(this.y<0){this.y=canvas.height-Math.floor(Math.random()*12)}\nif(this.y>canvas.height){this.y=Math.floor(Math.random()*12)}}};\n\nfunction Vector2D(x,y){if(typeof x===\"undefined\")x=0;if(typeof y===\"undefined\")y=0;this.x=parseFloat(x);this.y=parseFloat(y);}\nVector2D.prototype={lengthSquared:function(){return this.x*this.x+this.y*this.y;},length:function(){return Math.sqrt(this.lengthSquared());},angle:function(){return Math.atan2(this.y,this.x);},clone:function(){return new Vector2D(this.x,this.y);},negate:function(){return new Vector2D(this.x==0?0:-this.x,this.y==0?0:-this.y)},unit:function(){var length=this.length();if(length>0){return new Vector2D(this.x/length,this.y/length);}else{return new Vector2D(0,0);}},normalize:function(){var length=this.length();if(length>0){this.x/=length;this.y/=length;}\nreturn this.length();},add:function(vec){return new Vector2D(this.x+vec.x,this.y+vec.y);},incrementBy:function(vec){this.x+=vec.x;this.y+=vec.y;},subtract:function(vec){return new Vector2D(this.x-vec.x,this.y-vec.y);},decrementBy:function(vec){this.x-=vec.x;this.y-=vec.y;},multiply:function(k){return new Vector2D(k*this.x,k*this.y);},inverse:function(){var x,y;if(this.x==0){x=0}else{x=1/this.x};if(this.y==0){y=0}else{y=1/this.y};return new Vector2D(x,y);},addScaled:function(vec,k){return new Vector2D(this.x+k*vec.x,this.y+k*vec.y);},scaleBy:function(k){this.x*=k;this.y*=k;},dotProduct:function(vec){return this.x*vec.x+this.y*vec.y;},crossProduct:function(vec){return this.x*vec.y-this.y*vec.x;},projection:function(vec){var length=this.length();var lengthVec=vec.length();var proj;if((length==0)||(lengthVec==0)){proj=0;}else{proj=(this.x*vec.x+this.y*vec.y)/lengthVec;}\nreturn proj;},project:function(vec){return vec.para(this.projection(vec));},para:function(u,positive){if(typeof(positive)===\"undefined\")positive=true;var length=this.length();var vec=new Vector2D(this.x,this.y);if(positive){vec.scaleBy(u/length);}else{vec.scaleBy(-u/length);}\nreturn vec;},perp:function(u,anticlockwise){if(typeof(anticlockwise)===\"undefined\")anticlockwise=true;var length=this.length();var vec=new Vector2D(this.y,-this.x);if(length>0){if(anticlockwise){vec.scaleBy(u/length);}else{vec.scaleBy(-u/length);}}else{vec=new Vector2D(0,0);}\nreturn vec;},rotate:function(angle){return new Vector2D(this.x*Math.cos(angle)-this.y*Math.sin(angle),this.x*Math.sin(angle)+this.y*Math.cos(angle));}};Vector2D.distance=function(vec1,vec2){return(vec1.subtract(vec2)).length();};Vector2D.angleBetween=function(vec1,vec2){return Math.acos(vec1.dotProduct(vec2)/(vec1.length()*vec2.length()));};Vector2D.scale=function(vec,sca){vec.x*=sca;vec.y*=sca;};Vector2D.vector2D=function(mag,angle,clockwise){if(typeof(clockwise)===\"undefined\")clockwise=true;var vec=new Vector2D(0,0);vec.x=mag*Math.cos(angle);vec.y=mag*Math.sin(angle);if(!clockwise){vec.y*=-1;};return vec;};\n\nconst\n\tprt = {radius: .62,\n\t\tcolours: [[\"#80ff00\",\"#80ff00\"],\n\t\t\t\t [\"#ffd500\",\"#ffd500\"],\n\t\t\t\t [\"#ff8888\",\"#ff8888\"],\n\t\t\t\t [\"#fafafa\",\"#fafafa\"]],\n\t\tgradient: true,\n\t\tlife:1000 \n    },\n\tfps = 26,\n\tbulletSpeed = 800;\n\t\nvar\twinWidth = window.innerWidth,\n\twinHeight= window.innerHeight,\n\twinCenW  = winWidth/2,\n\twinCenH  = winHeight/2,\n\twinCenter= new Vector2D(winCenW, winCenH),\n\twinLength= 2*winWidth+2*winHeight,\n\tcanvas,\n\tcontext,\n\tanimId,\n\tt0 = 0,dt,\n\tframe = 0,\n\tsporadic  = new Array(),\n\tchainfire = new Array(),\n\texplosion,\n\tmaxParticles = Math.floor(winWidth*3/winHeight),\n\ttimescale = 2000;\n\t\nfunction startPoint(num) {\n\tnum = parseInt(num);\n\tvar vec = new Vector2D();\n\tif(num < winWidth) { vec.x=num; vec.y=0;\n\t} else if(num < winWidth+winHeight  ) { vec.x=winWidth; vec.y=num-winWidth; \t\t    \n\t} else if(num < 2*winWidth+winHeight) { vec.x=num-winWidth-winHeight; vec.y=winHeight;\n\t} else { vec.x=0; vec.y=num-2*winWidth-winHeight;\t\t}\n\treturn vec;\n}\nfunction startDirection(startPoint) {\n\t//return startPoint.subtract(winCenter).unit();\n\treturn winCenter.subtract(startPoint).unit().rotate(Math.random()/5);\n}\nfunction createCanvas() {\n\tcanvas  = document.createElement(\"canvas\");\n\tcanvas.width = winWidth;\n\tcanvas.height = winHeight;\n\tdocument.body.appendChild(canvas);\n\tcanvas.classList.add(\"firefight\");\n\treturn canvas;\n}\nfunction init() {\n\tcanvas = createCanvas();\n\tcontext = canvas.getContext(\"2d\"); \n\tfor (var i=0; i< maxParticles; i++){ spawn() }\n\tfor (var i=0; i< maxParticles; i++){ spawn(3+Math.floor(Math.random()*6)) }\n\texplosion = new Explosion();\n\texplosion.setup();\n\tanimFrame();\n}\nfunction spawn(num) {\n\tif(typeof num === \"undefined\") num =1;\n\tvar particle, partArr = new Array();\n\tfor(var i=0; i<num; i++){\n\t\tparticle=new Particle();\n\t\tparticle.lifetime  = prt.life;\n\t\tparticle.colours   = prt.colours[Math.floor(Math.random()*prt.colours.length)];\n\t\tparticle.lastcolor = Math.floor(Math.random()*particle.colours.length);\n\t\tparticle.speed\t   = bulletSpeed;\n\t\tif(num ==1) {\n\t\t\tsporadic.push(particle);\n\t\t\trespawn(particle);\n\t\t} else {\n\t\t\tpartArr.push(particle);\n\t\t}\n\t}\n\tif(num > 1) {\n\t\trespawn(partArr);\n\t\tchainfire.push(partArr);\n\t\t}\n}\nfunction respawn(obj) {\n\tvar particles;\n\tif(typeof obj.length === \"undefined\") { particles=[obj]; } else { particles=obj; };\n\tvar num = particles.length;\n\tif(num > 1) {\n\t\tvar swingArc = Math.random()*Math.random();\n\t}\n\tvar particle;\n\t\n\tfor(var i=0; i < num; i++)\t{\n\t\tparticle = particles[i];\n\t\tif(i == 0) {\n\t\t\tparticle.life      = Math.floor(Math.random()+Math.random()/0.8*prt.life);\n\t\t\tparticle.pos2D     = startPoint(Math.random()*winLength);\n\t\t\tparticle.lastpos   = particle.pos2D;\n\t\t\tparticle.velo2D    = startDirection(particle.pos2D);\n\t\t\tparticle.velo2D    = particle.velo2D.multiply(bulletSpeed);\n\t\t\tparticle.colours   = prt.colours[Math.floor(Math.random()*prt.colours.length)];\n\t\t\tparticle.startframe= frame + Math.floor(Math.random()*maxParticles*timescale);\n\t\t} else {\n\t\t\tparticle.life      = particles[0].life;\n\t\t\tparticle.pos2D     = particles[0].pos2D;\n\t\t\tparticle.lastpos   = particles[0].pos2D;\n\t\t\tparticle.velo2D    = particles[0].velo2D.rotate(-swingArc/2+swingArc*i);\n\t\t\tparticle.startframe= particles[0].startframe+i*2*fps;\n\t\t\tparticle.colours   = particles[0].colours;\n\t\t}\n\t}\n}\nfunction animFrame(){\n    setInterval(function() {\n          animId = requestAnimationFrame(animFrame,canvas);\n          onTimer();\n    }, 1000/fps);\n}\n\nfunction onTimer(){\n\tvar t1 = new Date().getTime(); \n\tdt = 0.001*(t1-t0); \n\tt0 = t1;\n\tif (dt>0.2) {dt=0;};\n\t\n\tif(dt>0){ \n\t\tframe++;\n\t\tmove()\n\t\t}\n}\nfunction move(){\n\tcontext.clearRect(0, 0, winWidth, winHeight);\n\t\n\tvar particles=sporadic.concat(chainfire);\n\tfor (var i=0; i < sporadic.length; i++){\n\t\tvar obj = particles[i];\n\t\tif(obj.startframe <= frame) {\n\t\t\tmoveParticle(obj)\n\t\t\tobj.drawLine(context);\n\t\t\tif(obj.age() || obj.x < 0 || obj.x > canvas.width || obj.y < 0 || obj.y > canvas.height) respawn(obj);\n\t\t}\n\t}\t\n\tfor (var i=0; i < chainfire.length; i++){ var tmpPart = chainfire[i];\n\tfor (var ii=0; ii < tmpPart.length; ii++){\n\t\tvar obj = tmpPart[ii];\n\t\tif(obj.startframe <= frame) {\n\t\t\tmoveParticle(obj)\n\t\t\tobj.drawLine(context);\n\t\t\tif(ii < tmpPart.length-1 && obj.age() || obj.x < 0 || obj.x > canvas.width || obj.y < 0 || obj.y > canvas.height) \n\t\t\t{respawn(chainfire[i]);}\n\t\t}\t\n\t}}\n\n\tif(explosion.startframe <= frame) explosion.draw(context, dt)\n}\nfunction moveParticle(obj){\n\tvar damping = 1-0.05;\n\tobj.velo2D = obj.velo2D.subtract(obj.velo2D.multiply(damping*dt));\n\tobj.lastpos = obj.pos2D;\n\tobj.pos2D = obj.pos2D.addScaled(obj.velo2D, dt);\n}\nfunction Explosion() {\n\tthis.life;\n\tthis.lifespan;\n\tthis.radius;\n\tthis.size;\n\tthis.startframe;\n\tthis.x;\n\tthis.y;\n\t}\nExplosion.prototype.constructor = Explosion;\nExplosion.prototype = {\n\tsetup: function(){\n\t\tthis.life = 0;\n\t\tthis.lifespan = 3; //0.2+Math.random()*0.8;\n\t\tthis.radius = 1+Math.random()*Math.random()*6;\n\t\tthis.size = 80;\n\t\tthis.startframe = frame+Math.floor(Math.random()*2300);\n\t\tthis.x = Math.floor(winWidth*Math.random());\n\t\tthis.y = Math.floor(winHeight*Math.random());\n\t},\n\tdraw: function(ctx, dt) {\n\t\tvar factor = 0.1-this.life;\n\t\tthis.radius += this.radius*factor;\n\t\tvar grd = ctx.createRadialGradient(this.x, this.y, 0, this.x, this.y, this.radius);\n\t\tgrd.addColorStop(0.000, \"#ffffff00\");//grd.addColorStop(0.000, \"#ffffff00\");\n\t\tgrd.addColorStop(0.375, \"#ffffff02\");//grd.addColorStop(0.375, \"#ffffff06\");\n\t\tgrd.addColorStop(0.707, \"#ffffff04\");//grd.addColorStop(0.707, \"#ffffff0B\");\n\t\tgrd.addColorStop(0.927, \"#ffffff0B\");//grd.addColorStop(0.927, \"#ffffff11\");\n\t\tgrd.addColorStop(1.000, \"#ffffff11\");//grd.addColorStop(1.000, \"#ffffff19\");\n\t\tctx.fillStyle = grd;\n\t\tctx.beginPath();\n\t\tctx.arc(this.x, this.y, this.radius, 0, 2*Math.PI, true);\t\n\t\tctx.fill();\n\t\tthis.life+=dt;\n\t\tif(this.life > this.lifespan || this.radius < 1) this.setup();\n\t}\n};\nwindow.onresize = function() {\n\tcanvas.width = winWidth;\n\tcanvas.height = winHeight;\n\t}\nwindow.onload = init;\n<\/script>\n<\/script>\n<\/body>\n<\/html>\n')]\n}]\n\n",
      "maxWidth": "",
      "tooltip": "",
      "applyToSelected": false,
      "compare": [],
      "metadata":       {
        "uuid": "81b21dee-a267-497d-bc66-daa67ad48666",
        "commandChecksum": "8752033a60f90577d22ba77205e89623",
        "propsChecksum": "b30323d925632d7d13edfd8d69891e07"
      }
    },
        {
      "autoExecute": true,
      "color": "white",
      "fontColor": "black",
      "group": "Overlay Effects",
      "includeLabel": false,
      "sortBy": "70",
      "index": 91,
      "label": "Blizzard",
      "fontSize": "1.00em",
      "minWidth": "110",
      "playerEditable": false,
      "command": "[h: overlayName=\"fx0\"][h: zOrder=0][h: layerOpacity=1]\n[h, if(json.type(macro.args)==\"OBJECT\"):json.toVars(macro.args)]\n\n[h: css=strformat('body {opacity: %{layerOpacity};}\n#snowCanvas {display: block;}')]\n[r, overlay(overlayName, zOrder): {\n\t[r: strformat('\n<!DOCTYPE HTML>\n<html>\n<head>\n<meta charset=\"UTF-8\">\n<title>Canvas Snow Effect<\/title>\n<style type=\"text/css\">\n%{css}\n<\/style>\n<body>\n<canvas id=\"scene\"><\/canvas>\n<script type=\"text/javascript\">\n\"use strict\";\n\nvar FastRandom = function()\n{\n    var me = this;\n    var stack = [];\n    var index = 0;\n    var max   = 1000;\n\n    this.nextFloat = function()    {\n        if (index === max) {\n            index = parseInt(Math.random() * (max - 1));\n        }\n        return stack[index++];\n    };\n\n    this.nextRealFloat = function()    {\n        return Math.random();\n    };\n\n    this.nextInt = function(min, max)    {\n        return parseInt((max - min) * me.nextFloat() + min);\n    };\n\n    this.nextRealInt = function(min, max)    {\n        return parseInt((max - min) * me.nextRealFloat() + min);\n    };\n\n    !function(){\n        for (var i = 0; i < max; i++) {\n            stack.push(Math.random());\n        }\n    }();\n};\n\nvar Rain = function(){\n    var me = this;\n    var rainCount = 5000;\n    var canvas;\n    var engine;\n    var width;\n    var height;\n    var midWidth;\n    var midHeight;\n    var debug = [];\n    var rain;\n    var rainParts = 5;\n    var rainColor = [0xff, 0x44];\n    var random;\n    var tickCounter   = 0;\n    var gravityPoints = [];\n    var gravityProcc;\n    var distanceNormalizer;\n    var visibility = {\n        current : 0.2,\n        target  : 0.2\n    };\n\n    var mainWind = {\n        current : 0,\n        target  : 0\n    };\n\n    var createRain = function()    {\n        rain = [];\n        for (var i = 0, sy; i < rainCount; i++) {\n            sy = random.nextRealFloat();\n            rain.push({\n                x  : getRandomXRainPos(),\n                y  : random.nextRealInt(0, sy * height), //abs y pos\n                sx : 0, //move x per tick\n                sy : sy, //move y per tick\n                r  : random.nextRealFloat(), //kp\n                ge : random.nextFloat(), //gravity/wind dependency\n                v  : random.nextRealFloat() //visibility\n            });\n        }\n    };\n\n    var setup = function()    {\n        random = new FastRandom();\n        canvas = document.getElementById(\"scene\");\n        width  = window.innerWidth;\n        height = window.innerHeight;\n        midWidth  = parseInt(width / 2);\n        midHeight = parseInt(height / 2);\n        canvas.setAttribute(\"width\", width);\n        canvas.setAttribute(\"height\", height);\n        engine = canvas.getContext(\"2d\");\n        createRain();\n        changeWindTarget();\n        solveGravityProcc();\n        distanceNormalizer = (width + height) / 2;\n        if (!engine) {return false;}\n        if (!window.requestAnimationFrame) {return false;}\n        return true;\n    };\n\n    var solveX = function(percentageX)    {\n        return parseInt(width / 100 * percentageX);\n    };\n\n    var solveY = function(percentageY)    {\n        return parseInt(height / 100 * percentageY);\n    };\n\n\n    var drawDarkness = function()    {\n        engine.clearRect(0, 0, width, height);\n    };\n\n    var getRandomXRainPos = function()    {\n        return random.nextFloat() * width + 1000 * 1000;\n    };\n\n    var scaleToGrey = function(scale)    {\n        scale = scale | 0;\n        return \"#\" + (scale + (scale << 8) + (scale << 16)).toString(16);\n    };\n\n    var renderRain = function()    {\n        engine.lineWidth   = 2;\n\t\tvar absX, absBaseX;\n        var moveX, moveY;\n        var partSize  = parseInt(rain.length / rainParts);\n        var colorStep = parseInt((rainColor[0] - rainColor[1]) / rainParts);\n        for (var i = 0, baseIndex; i < rainParts; i++) {\n            baseIndex = i * partSize;\n\n            engine.beginPath();\n            engine.strokeStyle = scaleToGrey(rainColor[0] - colorStep * i);\n\n            for (var d = baseIndex, max = baseIndex + partSize, drops; d < max; d++) {\n\n                drops = rain[d];\n\n                absBaseX = drops.x % width;\n                moveY    = (height / 300) + drops.sy * height / 100;\n                moveX    = mainWind.current * drops.sy * drops.r;\n\n                gravityPoints.forEach(function(gravPoint) {\n\n                    var distance    = Math.sqrt(Math.pow(gravPoint.x - absBaseX, 2) + Math.pow(gravPoint.y - drops.y, 2));\n                    var gravity     = Math.max(0.05, 1 - distance * 2 / distanceNormalizer) * Math.sin(Math.PI / gravPoint.tm * gravPoint.t);\n                    var move        = width / 1000 * (gravity + 0.3) * drops.ge;\n\n                    if (gravPoint.d) {\n                        drops.sx += move;\n                    } else {\n                        drops.sx -= move;\n                    }\n                    moveY += (gravPoint.y - drops.y) / 10 * (gravity / 3);\n                });\n\n                drops.sx *= 0.95;\n\n                var completeMoveX = moveX + drops.sx;\n                drops.x += completeMoveX;\n                drops.y += moveY;\n\n                if (drops.y > drops.sy * height) {\n                    drops.y = random.nextInt(-50, 0);\n                    drops.x = getRandomXRainPos();\n                }\n\n                if (drops.v > visibility.current) {\n                    continue;\n                }\n                absX = parseInt(drops.x % width);\n                engine.moveTo(absX, drops.y | 0);\n                engine.lineTo(\n                    parseInt(absX + completeMoveX  * drops.sy),\n                    parseInt((drops.y | 0) + 10 * drops.sy + height / 200)\n                );\n            }\n            engine.closePath();\n            engine.stroke();\n        }\n    };\n\n    var changeWindTarget = function()    {\n        mainWind.target = (0.5 - random.nextFloat()) * width / 30;\n    };\n\n    var solveWind = function()\n    {\n        if (random.nextFloat() < 0.01) { changeWindTarget(); }\n        if (mainWind.current === mainWind.target) { return; }\n        var diff = mainWind.target - mainWind.current;\n\n        if (Math.abs(diff) < 0.01) {\n            mainWind.current = mainWind.target;\n            return;\n        }\n        mainWind.current += diff / 200;\n    };\n\n    var solveGravityProcc = function()    {\n        gravityProcc = random.nextInt(100, 400);\n    };\n\n    var solveGravity = function()    {\n        if (tickCounter % gravityProcc === 0) {\n            solveGravityProcc();\n            var t = random.nextInt(100, 300);\n            gravityPoints.push({\n                x : random.nextInt(0, width),\n                y : random.nextInt(0, height),\n                t : t,\n                tm : t,\n                d : random.nextFloat() < 0.5 ? 0 : 1\n            });\n        }\n\n        var remove = [];\n        for (var i = 0; i < gravityPoints.length; i++) {\n            gravityPoints[i].t--;\n\n            if (gravityPoints[i].t === 0) {\n                remove.push(i);\n            }\n        }\n\n        for (var r = 0; r < remove.length; r++) {\n            gravityPoints.splice(remove[r] - r, 1);\n        }\n    };\n\n    var changeVisibility = function()\n    {\n        visibility.current += (visibility.target - visibility.current) / 100;\n\n        if (tickCounter % 240 === 0) {\n            visibility.target = random.nextRealFloat();\n        }\n    };\n\n    var tick = function()\n    {\n        drawDarkness();\n        renderRain();\n        solveWind();\n        solveGravity();\n        changeVisibility();\n        register();\n        tickCounter++;\n    };\n\n    var register = function()\n    {\n        window.requestAnimationFrame(tick);\n    };\n\n    this.run = function()\n    {\n        if (!setup()) {\n            return;\n        }\n        engine.fillStyle = \"rgba(0,0,0,0)\";\n        engine.fillRect(0, 0, 100, 100);\n        register();\n    }\n};\n\nvar r = new Rain();\nr.run();\n<\/script>\n<\/body>\n<\/html>\n')]\n}]",
      "maxWidth": "",
      "tooltip": "https://codepen.io/Supercopra/pen/wpPvZZ",
      "applyToSelected": false,
      "compare": [],
      "metadata":       {
        "uuid": "14fafad6-bf86-4993-856e-581bdb528b3e",
        "commandChecksum": "40cc995579e040ec4af44cd8c0adcccd",
        "propsChecksum": "7fe999127dca2f5ba64c20cba813b2ff"
      }
    },
        {
      "autoExecute": true,
      "color": "white",
      "fontColor": "black",
      "group": "Overlay Effects",
      "includeLabel": false,
      "sortBy": "70",
      "index": 92,
      "label": "Snow2",
      "fontSize": "1.00em",
      "minWidth": "110",
      "playerEditable": false,
      "command": "[h: overlayName=\"fx0\"][h: zOrder=0][h: layerOpacity=1]\n[h, if(json.type(macro.args)==\"OBJECT\"):json.toVars(macro.args)]\n\n[h: css=strformat('\nbody{opacity: %{layerOpacity};}\n#snowCanvas {display: block;}')]\n[r, overlay(overlayName, zOrder): {\n\t[r: strformat('\n<!DOCTYPE HTML>\n<html>\n<head>\n<meta charset=\"UTF-8\">\n<title>Canvas Snow Effect<\/title>\n<style type=\"text/css\">\n%{css}\n<\/style>\n<body>\n<canvas id=\"canv\"><\/canvas>\n<script type=\"text/javascript\">\nvar c = document.getElementById(\"canv\"), \n    ctx = c.getContext(\"2d\");\nvar w = c.width = window.innerWidth, \n    h = c.height = window.innerHeight;\n\nSnowy();\nfunction Snowy() {\n  var snow, arr = [];\n  var num = 600, tsc = 1, sp = 1;\n  var sc = 1.3, t = 0, mv = 20, min = 1;\n    for (var i = 0; i < num; ++i) {\n      snow = new Flake();\n      snow.y = Math.random() * (h + 50);\n      snow.x = Math.random() * w;\n      snow.t = Math.random() * (Math.PI * 2);\n      snow.sz = (100 / (10 + (Math.random() * 100))) * sc;\n      snow.sp = (Math.pow(snow.sz * .8, 2) * .15) * sp;\n      snow.sp = snow.sp < min ? min : snow.sp;\n      arr.push(snow);\n    }\n  go();\n  function go(){\n    window.requestAnimationFrame(go);\n      ctx.clearRect(0, 0, w, h);\n      ctx.fillStyle = \"hsla(242, 95%, 3%, .1)\";\n      ctx.fillRect(0, 0, w, h);\n      ctx.fill();\n        for (var i = 0; i < arr.length; ++i) {\n          f = arr[i];\n          f.t += .05;\n          f.t = f.t >= Math.PI * 2 ? 0 : f.t;\n          f.y += f.sp;\n          f.x += Math.sin(f.t * tsc) * (f.sz * .3);\n          if (f.y > h + 50) f.y = -10 - Math.random() * mv;\n          if (f.x > w + mv) f.x = - mv;\n          if (f.x < - mv) f.x = w + mv;\n          f.draw();}\n }\n function Flake() {\n   this.draw = function() {\n      this.g = ctx.createRadialGradient(this.x, this.y, 0, this.x, this.y, this.sz);\n      this.g.addColorStop(0, \"hsla(255,255%,255%,1)\");\n      this.g.addColorStop(1, \"hsla(255,255%,255%,0)\");\n      ctx.moveTo(this.x, this.y);\n      ctx.fillStyle = this.g;\n      ctx.beginPath();\n      ctx.arc(this.x, this.y, this.sz, 0, Math.PI * 2, true);\n      ctx.fill();}\n  }\n}\n\nwindow.addEventListener(\"resize\", function(){\n  c.width = w = window.innerWidth;\n  c.height = h = window.innerHeight;\n}, false);\n<\/script>\n<\/body>\n<\/html>\n')]\n}]",
      "maxWidth": "",
      "tooltip": "https://engageinteractive.co.uk/blog/5-modern-snow-effects",
      "applyToSelected": false,
      "compare": [],
      "metadata":       {
        "uuid": "414eb449-f047-4ec7-8d99-bf96e5fdffd9",
        "commandChecksum": "ed9cfec3be5e06e9c97e0a7e22e18e98",
        "propsChecksum": "4e1afcff994b6eb7df70e6cf0e9e6f89"
      }
    },
        {
      "autoExecute": true,
      "color": "#dcecff",
      "fontColor": "black",
      "group": "Overlay Effects",
      "includeLabel": false,
      "sortBy": "10",
      "index": 94,
      "label": "Swarm",
      "fontSize": "1.00em",
      "minWidth": "110",
      "playerEditable": false,
      "command": "[h: birdSpeed         = 0.003 ]\n[h: avoidanceRange    = 0.0018]\n[h: alignmentRange    = 0.003 ]\n[h: attractionRange   = 0.015 ]\n[h: avoidanceStrength = 0.52  ]\n[h: alignmentStrength = 0.02  ]\n[h: attractionStrength= 0.008 ]\n[h: imagesize=\"1.3\"][h: numfactor=1][h: '<!-- imagesize=1.3*number(getZoom())-->']\n[h: overlayName=\"fx0\"][h: zOrder=0][h: layerOpacity=1]\n[h, if(json.type(macro.args)==\"OBJECT\"):json.toVars(macro.args)]\n\n\n[h: imgSrc = '']\n[h, for(i, 0, 6): imgSrc=json.append(imgSrc, json.get(getTableEntry(\"tWeather\", i+10), \"assetid\"))]\n[h: css=strformat('\n* {\n\tbox-sizing: border-box;\n\tmargin: 0;\n\tpadding: 0;\n}\nbody {\n\theight: 100vh;\n\toverflow: hidden;\n\twidth: 100vw;\n\tbackground: transparent;\n\topacity: %{layerOpacity};\n}\n.container {\n\tposition: absolute;\n\ttop: -10vw;\n\tleft: -10vh;\n\theight: 120vh;\n\twidth: 120vw;\n\t}\n.imagePos {position: absolute;}\n.imgClass {\n\tposition: absolute;\n\tleft:0;\n\ttop:0;\n\twidth: %{imagesize}vw;\n}\n')]\n\n\n[overlay(overlayName, zOrder): {\n[r: strformat('\n<html>\n<head>\n<title>Boids<\/title>\n<meta charset=\"UTF-8\"><meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n<style>%{css}\n<\/style>\n<\/head>\n<body>\n<div class=\"container\" id=\"container\">\n\t<div class=\"imagePos\" id=\"imagePosO\">\n\t\t<img id=\"imageIdO\" class=\"imgClass\"  +json.get(imgSrc,0)+>\n\t<\/div>\n<\/div>\n<script>\n\n\"use strict\"\nvar\ncontainer = document.getElementById(\"container\"),\ncStyle = getComputedStyle(container),\ncWidth  = parseInt(cStyle.width ),\ncHeight = parseInt(cStyle.height),\ndescend = {x:0, y:0, z:-0.05},\nclimb   = {x:0, y:0, z: 0.05},\nsimulationInfo = {\n  boids: [],\n  nBoids: parseInt(%{numfactor}*(cWidth+cHeight)/10),\n  birdSpeed: '+birdSpeed+',\n  avoidanceRange: '+avoidanceRange+',\n  alignmentRange: '+alignmentRange+',\n  attractionRange: '+attractionRange+',\n  avoidanceStrength: '+avoidanceStrength+',\n  alignmentStrength: '+alignmentStrength+',\n  attractionStrength: '+attractionStrength+',\n  handle: 0,\n  tick: 0,\n};\nvar birdImgSrc = %{imgSrc};\n\nfunction getNewBoid() {\n  var retVal = {\n\tposition: {x: Math.random(), y: Math.random(), z: Math.random()}, \n\tspeed: [\n\t\t{x: Math.sign(Math.random()-0.5)*0.1+Math.random()*0.9, \n\t\ty: Math.sign(Math.random()-0.5)*0.1+Math.random()*0.9, z: 0}, \n\t\t{x: Math.random()-0.5, y: Math.random()-0.5, z: 0}], \n\thighlight: false,\n\timgFrame: Math.floor(Math.random()*10),\n\telement: document.getElementById(\"imagePosO\").cloneNode(true)};\n  normalize(retVal.speed[0]);\n  normalize(retVal.speed[1]);\n  retVal.element.style.display=\"block\";\n  container.append(retVal.element);\n  return retVal;\n}\n\nfunction init() {\n  for (var i = 0; i < simulationInfo.nBoids; ++i) {\n    simulationInfo.boids[i] = getNewBoid();\n\tsimulationInfo.boids[i].element.id=\"imagePos\"+i;\n\tsimulationInfo.boids[i].element.firstElementChild.id=\"imageId\"+i;\n  }\n  step();\n}\n\nfunction normalize(vec) {\n  var len = Math.pow(vec.x, 2) + Math.pow(vec.y, 2) + Math.pow(vec.z, 2);\n  if (len > 0) {\n    len = Math.sqrt(len);\n    vec.x /= len;\n    vec.y /= len;\n    vec.z /= len;\n  }\n  return vec;\n}\nfunction getLength(vec) { return Math.sqrt(vec.x*vec.x + vec.y*vec.y + vec.z*vec.z);}\nfunction getDistance(firstVec, secondVec) {\n  var dist = Math.pow(firstVec.x - secondVec.x, 2) + Math.pow(firstVec.y - secondVec.y, 2) + Math.pow(firstVec.z - secondVec.z, 2);\n  return dist;\n}\nfunction multiplyVector(vec, scalar) { return {x: vec.x*scalar, y: vec.y*scalar, z: vec.z*scalar};}\nfunction addVector(firstVec, secondVec) { return {x: firstVec.x + secondVec.x, y: firstVec.y + secondVec.y, z: firstVec.z + secondVec.z};}\nfunction getAngle(firstVec, secondVec) {\n  return Math.acos((firstVec.x * secondVec.x + firstVec.y * secondVec.y + firstVec.z * secondVec.z)/(getLength(firstVec)*getLength(secondVec)));\n}\n\nfunction updateAvoidAlignAttract(boidActor, boidObject, avoid, align, attract) {\n  var dist = getDistance(boidActor.position, boidObject.position);\n  if (dist < simulationInfo.avoidanceRange) {\n    avoid.x += (boidActor.position.x - boidObject.position.x)*Math.pow((simulationInfo.avoidanceRange - dist)/simulationInfo.avoidanceRange,2);\n    avoid.y += (boidActor.position.y - boidObject.position.y)*Math.pow((simulationInfo.avoidanceRange - dist)/simulationInfo.avoidanceRange,2);\n    avoid.z += (boidActor.position.z - boidObject.position.z)*Math.pow((simulationInfo.avoidanceRange - dist)/simulationInfo.avoidanceRange,2);\n  }  \n  if (dist < simulationInfo.alignmentRange) {\n    align.x += (boidObject.speed[simulationInfo.tick].x);\n    align.y += (boidObject.speed[simulationInfo.tick].y);\n    align.z += (boidObject.speed[simulationInfo.tick].z);\n  } \n  if (dist < simulationInfo.attractionRange) {\n    attract.x += (boidObject.position.x - boidActor.position.x);\n    attract.y += (boidObject.position.y - boidActor.position.y);\n    attract.z += (boidObject.position.z - boidActor.position.z);\n  }\n}\n\nfunction recalculateSpeeds() {\n  var i, j, avoid, align, attract, maxRange, angle, minPoint, countEffectors, skippedEffectors;\n  minPoint = 0;\n  maxRange = Math.max(Math.sqrt(simulationInfo.attractionRange), Math.sqrt(simulationInfo.alignmentRange), Math.sqrt(simulationInfo.avoidanceRange));\n  for (i = 0; i < simulationInfo.boids.length; ++i) {\n    avoid = {x: 0, y: 0, z: 0};\n    if(i%(Math.floor(Math.random()*12))==0){align = {x: (Math.random()-0.6)/30, y: (Math.random()-0.4)/30, z: (Math.random()-0.5)/50}} else {align = {x: 0, y: 0, z: 0}};\n    attract = {x: 0, y: 0, z: 0};\n    for (j = minPoint; j < i; ++j) {\n      if (simulationInfo.boids[i].position.x - simulationInfo.boids[j].position.x > maxRange) {\n        minPoint++;\n        continue;\n      }\n      if (Math.pow(simulationInfo.boids[i].position.y - simulationInfo.boids[j].position.y,2) > simulationInfo.attractionRange) continue;\n      updateAvoidAlignAttract(simulationInfo.boids[i], simulationInfo.boids[j], avoid, align, attract);\n    }\n    for (j = i+1; j < simulationInfo.boids.length; ++j) {\n      if (simulationInfo.boids[j].position.x - simulationInfo.boids[i].position.x > maxRange) break;\n      if (Math.pow(simulationInfo.boids[i].position.y - simulationInfo.boids[j].position.y,2) > simulationInfo.attractionRange) continue;\n      updateAvoidAlignAttract(simulationInfo.boids[i], simulationInfo.boids[j], avoid, align, attract);\n    }\n    if (avoid.x != 0 || avoid.y != 0 || avoid.z != 0) {\n      avoid = multiplyVector(normalize(avoid), simulationInfo.avoidanceStrength);\n    } else {\n      avoid = addVector(multiplyVector(normalize(align), simulationInfo.alignmentStrength), multiplyVector(normalize(attract), simulationInfo.attractionStrength));\n    }\n    simulationInfo.boids[i].speed[1 - simulationInfo.tick] = {x: simulationInfo.boids[i].speed[simulationInfo.tick].x, y: simulationInfo.boids[i].speed[simulationInfo.tick].y, z: simulationInfo.boids[i].speed[simulationInfo.tick].z};\n    simulationInfo.boids[i].speed[1 - simulationInfo.tick] = normalize(addVector(simulationInfo.boids[i].speed[1 - simulationInfo.tick], avoid));\n  }\n  \n  simulationInfo.tick = 1 - simulationInfo.tick;\n}\n\nfunction step() {\n  var i, j, avoid, align, attract, maxRange, angle, minPoint, countEffectors, skippedEffectors;\n  recalculateSpeeds();\n  for (i = 0; i < simulationInfo.boids.length; ++i) {\n    simulationInfo.boids[i].position.x = (simulationInfo.boids[i].position.x + 1 + simulationInfo.birdSpeed*simulationInfo.boids[i].speed[simulationInfo.tick].x)%1;\n    simulationInfo.boids[i].position.y = (simulationInfo.boids[i].position.y + 1 + simulationInfo.birdSpeed*simulationInfo.boids[i].speed[simulationInfo.tick].y)%1;\n    simulationInfo.boids[i].position.z = simulationInfo.boids[i].position.z + simulationInfo.birdSpeed*simulationInfo.boids[i].speed[simulationInfo.tick].z;\n  }\n  requestRepaint();\n  simulationInfo.boids.sort(function(a, b){\n    return a.position.x - b.position.x;\n  });\n  setTimeout(\"step();\", 20);\n}\n\nfunction requestRepaint() {\n  if (simulationInfo.handle == 0) {\n    simulationInfo.handle = window.requestAnimationFrame(repaint);\n  }\n}\n\nfunction repaint() {\n  for (var i = 0; i < simulationInfo.boids.length; ++i) {\n\tvar imagePos = simulationInfo.boids[i].element,\n\t\timageId = imagePos.firstElementChild;\n\tvar birdscale = (simulationInfo.boids[i].position.z*0.3+0.4) *cWidth/1080;\n\tvar birdrotate= (simulationInfo.boids[i].speed[simulationInfo.tick].y < 0) ?\n\t\t\t\t\t2*Math.PI - Math.acos(simulationInfo.boids[i].speed[simulationInfo.tick].x):\n\t\t\t\t\tMath.acos(simulationInfo.boids[i].speed[simulationInfo.tick].x);\t\n\tsimulationInfo.boids[i].speed[simulationInfo.tick] = simulationInfo.boids[i].position.z >0.9 ? addVector(simulationInfo.boids[i].speed[simulationInfo.tick], descend) : simulationInfo.boids[i].speed[simulationInfo.tick];\n\t\tsimulationInfo.boids[i].speed[simulationInfo.tick] = simulationInfo.boids[i].position.z <0.1 ? addVector(simulationInfo.boids[i].speed[simulationInfo.tick], climb) : simulationInfo.boids[i].speed[simulationInfo.tick];\n\tsimulationInfo.boids[i].imgFrame++;\n\tsimulationInfo.boids[i].imgFrame = simulationInfo.boids[i].imgFrame>5 ? 0 : simulationInfo.boids[i].imgFrame;\n\timageId.src = birdImgSrc[simulationInfo.boids[i].imgFrame];\n    imagePos.style.left = parseInt(simulationInfo.boids[i].position.x*cWidth )+\"px\";\n\timagePos.style.top =  parseInt(simulationInfo.boids[i].position.y*cHeight)+\"px\";\n\timageId.style.transform = \"translate(-50%, -50%) rotate(\"+birdrotate+\"rad) scale(\"+birdscale+\")\";\n\t\n  }\n  simulationInfo.handle = 0;\n}\n\nwindow.onload = init;\n<\/script>\n<\/body>\n<\/html>\n')]\n}]",
      "maxWidth": "",
      "tooltip": "/*  Boids\n *  Agent and GUI script\n *  Copyright 2016 Harmen de Weerd\n */\nhttp://www.harmendeweerd.nl/scripts/boids.html",
      "applyToSelected": false,
      "compare": [],
      "metadata":       {
        "uuid": "30a958ab-cf30-4b7c-ae36-4f764cbda35e",
        "commandChecksum": "7df65269c3235b0836b72ceceafb16f1",
        "propsChecksum": "cb4efa37a1ee307e7dfb69766718cb0a"
      }
    },
        {
      "autoExecute": true,
      "color": "#acffff",
      "fontColor": "black",
      "group": "Sounds",
      "includeLabel": false,
      "sortBy": "12",
      "index": 95,
      "label": "Rain.Heavy",
      "fontSize": "1.00em",
      "minWidth": "110",
      "playerEditable": false,
      "command": "[h: link\t\t= \"https://dl.dropboxusercontent.com/s/hp0zitmjd6rziu5/Rain%20Heavy%20.mp3\"]\n[h: repeat\t\t= -1]\n[h: volume\t\t= 0.5]\n\n[h: args\t\t= json.append(\"\", link, repeat, volume)]\n[h: runMacro(\"localStream\", args, 1)]",
      "maxWidth": "",
      "tooltip": "",
      "applyToSelected": false,
      "compare": [],
      "metadata":       {
        "uuid": "cb93f9e2-1213-49ed-952c-ca1440d21f32",
        "commandChecksum": "5f7a8448552887e5cf8596a196139708",
        "propsChecksum": "a1f8d41ca5535f9dd2af04b4a91abdd2"
      }
    },
        {
      "autoExecute": true,
      "color": "silver",
      "fontColor": "black",
      "group": "zFunctions: Sound",
      "includeLabel": false,
      "sortBy": "2",
      "index": 97,
      "label": "localStream",
      "fontSize": "11pt",
      "minWidth": "110",
      "playerEditable": false,
      "command": "[h:'<!-- ------------------------ localStream(link,repeat,volume,start,stop) ---------------------------->\n<!--\nlink\t- The uri/url of the file. \nrepeat\t- The number of times the audio should play. If set to 0, the file is cached but not played; if set to -1, the file is played continuously. Defaults to 1.   \nvolume\t- The volume the audio is to be played at. Can range from 0 to 1. Defaults to 1.\nstart\t- The time offset in seconds where audio should start playing, or restart from when repeating. Defaults to 0.\nstop\t- The time offset where audio should stop playing or restart when repeating. Defaults to the end of the audio.\n-->']\n[h:maxArgs = 5]\n[h: assert(argCount(),\"At least one argument is required to run \"+getMacroName(),0)]\n[h: assert(argCount()<=maxArgs,\"You have too many arguments, max \"+maxArgs+\" arguments allowed in \"+getMacroName(),0)]\n\n[h, if(argCount() == 1): playStream(arg(0))]\n[h, if(argCount() == 2): playStream(arg(0), arg(1))]\n[h, if(argCount() == 3): playStream(arg(0), arg(1), arg(2))]\n[h, if(argCount() == 4): playStream(arg(0), arg(1), arg(2), arg(3))]\n[h, if(argCount() == 5): playStream(arg(0), arg(1), arg(2), arg(3), arg(4))]",
      "maxWidth": "",
      "tooltip": "",
      "applyToSelected": false,
      "compare": [],
      "metadata":       {
        "uuid": "ca84497b-1780-4e96-a1e1-6cf2b443487d",
        "commandChecksum": "682860806e3b96c1f14c1cd5475f5668",
        "propsChecksum": "ac299b17be6e5ee5c8451414494d1fe9"
      }
    },
        {
      "autoExecute": true,
      "color": "silver",
      "fontColor": "black",
      "group": "zFunctions: Sound",
      "includeLabel": false,
      "sortBy": "12",
      "index": 98,
      "label": "globalStream",
      "fontSize": "11pt",
      "minWidth": "110",
      "playerEditable": false,
      "command": "[h:'<!-- ------------------------------- globalStream(link,repeat,volume,start,stop) ------------------>']\n<!--\nlink \t- The uri/url of the file. \nrepeat\t- The number of times the audio should play. If set to 0, the file is cached but not played; if set to -1, the file is played continuously. Defaults to 1.   \nvolume\t- The volume the audio is to be played at. Can range from 0 to 1. Defaults to 1.\nstart\t- The time offset in seconds where audio should start playing, or restart from when repeating. Defaults to 0.\nstop\t- The time offset where audio should stop playing or restart when repeating. Defaults to the end of the audio.\n-->\n\n[h: maxArgs \t= 5]\n[h: nArgs\t\t= argCount()]\n[h: assert(nArgs,\t\t\t\"At least one argument is required to run \"+getMacroName(),\t\t\t\t\t\t\t0)]\n[h: assert(nargs <= maxArgs,\"You have too many arguments, max \"+maxArgs+\" arguments allowed in \"+getMacroName(),0)]\n\n[h: args \t\t= \"[]\"]\n[h, for(i, 0, nArgs): args = json.append(args, arg(roll.count))]\n\n[H: audioLink \t= macroLinkText(\"localStream@\"+getMacroLocation(),\"none\", args)]\n[H: execLink(audioLink,1,\"all\")]",
      "maxWidth": "",
      "tooltip": "",
      "applyToSelected": false,
      "compare": [],
      "metadata":       {
        "uuid": "5cc4d223-ba7b-4752-9ba0-63a1c86f0be8",
        "commandChecksum": "93e820eca6da32c64f4b9554cd870a68",
        "propsChecksum": "ad527ba084ea21e2dd4c6c8b644bff57"
      }
    },
        {
      "autoExecute": true,
      "color": "red",
      "fontColor": "white",
      "group": "zFunctions: Sound",
      "includeLabel": false,
      "sortBy": "16",
      "index": 99,
      "label": "Stop Sounds",
      "fontSize": "11pt",
      "minWidth": "110",
      "playerEditable": false,
      "command": "[h: args \t\t= json.append(\"\", \"*\")]\n[H: audioLink \t= macroLinkText(\"stopLocal@\"+getMacroLocation(),\"none\", args)]\n[H: execLink(audioLink,1,\"all\")]",
      "maxWidth": "",
      "tooltip": "",
      "applyToSelected": false,
      "compare": [],
      "metadata":       {
        "uuid": "515cccb6-6af1-4997-b556-88c79ed8dd98",
        "commandChecksum": "6ae935830eb2e72230f1cdff21282daa",
        "propsChecksum": "2983c1a83f5ce30bb041da9fcc6cf43c"
      }
    },
        {
      "autoExecute": true,
      "color": "white",
      "fontColor": "black",
      "group": "zFunctions: Sound",
      "includeLabel": false,
      "sortBy": "0",
      "index": 101,
      "label": "dropbox audio link converter",
      "fontSize": "1.00em",
      "minWidth": "233",
      "playerEditable": false,
      "command": "[h,if(argCount()): dlink=arg(0) ; abort(input(\"dlink|<here>|enter dropbox link\"))]\n[h: dindex=indexOf(dlink, '?')]\n[h, if(dindex!=-1):dlink=substring(dlink, 0, dindex); '']\n[r: macro.return=replace(dlink, 'www.dropbox.com', 'dl.dropboxusercontent.com')]",
      "maxWidth": "",
      "tooltip": "<html><table width=260>\nCleans and alters dropbox links for use as audio URIs\nAuthor: Reverend/Bubblobill/wolph42\nDate: 2nd November 2020\n<\/html>",
      "applyToSelected": false,
      "compare": [],
      "metadata":       {
        "uuid": "90fa1c9e-dd7e-484f-afd0-f20a9603577e",
        "commandChecksum": "5b84367b86e792976adc4d2ae37fb6f0",
        "propsChecksum": "7857f2896323f1cd60a4dfbe8ad71251"
      }
    },
        {
      "autoExecute": true,
      "color": "silver",
      "fontColor": "black",
      "group": "zFunctions: Sound",
      "includeLabel": false,
      "sortBy": "15",
      "index": 102,
      "label": "stopLocal",
      "fontSize": "11pt",
      "minWidth": "110",
      "playerEditable": false,
      "command": "[h:'<!------------------ stopLocal(uri, remove, fadeout) ------------------------------>']\n<!--\nuri\t\t- The uri/url of the stream or clip to stop. If set to \"*\", all audio stream or clips are stopped. Defaults to \"*\".\nremove\t- If set to 1, the audio file is removed from memory. Defaults to 1.\nfadeout\t- Optional fadeout (in seconds) before stopping the stream or clip. If set to 0, stop as soon as possible. Defaults to 0.\n-->\n\n[h:maxArgs = 3]\n[h: assert(argCount()<=maxArgs,\"You have too many arguments, max \"+maxArgs+\" arguments allowed in \"+getMacroName(),0)]\n[h, if(argCount() == 0): stopSound(\"*\")]\n[h, if(argCount() == 1): stopSound(arg(0))]\n[h, if(argCount() == 2): stopSound(arg(0), arg(1))]\n[h, if(argCount() == 3): stopSound(arg(0), arg(1), arg(2))]",
      "maxWidth": "",
      "tooltip": "",
      "applyToSelected": false,
      "compare": [],
      "metadata":       {
        "uuid": "bb0d195d-7ac8-472e-b860-22fa3117ea12",
        "commandChecksum": "1179eea9a2a856f9e285971ef0d21ab6",
        "propsChecksum": "9fe449bfdf09ab630e589e46ac1aecb6"
      }
    },
        {
      "autoExecute": true,
      "color": "#acffff",
      "fontColor": "black",
      "group": "Sounds",
      "includeLabel": false,
      "sortBy": "11",
      "index": 103,
      "label": "Rain.Medium",
      "fontSize": "1.00em",
      "minWidth": "110",
      "playerEditable": false,
      "command": "[h: link\t\t= \"https://dl.dropboxusercontent.com/s/82dr1sejz77aa4w/Rain%20Medium.mp3\"]\n[h: repeat\t\t= -1]\n[h: volume\t\t= 0.5]\n\n[h: args\t\t= json.append(\"\", link, repeat, volume)]\n[H: audioLink \t= macroLinkText(\"localStream@\"+getMacroLocation(),\"none\", args)]\n[H: execLink(audioLink,1,\"all\")]",
      "maxWidth": "",
      "tooltip": "",
      "applyToSelected": false,
      "compare": [],
      "metadata":       {
        "uuid": "96b831d7-bb5a-4e94-9679-0050a6b5c0f3",
        "commandChecksum": "59ebf330b807bf917731cd6831b83756",
        "propsChecksum": "3d8ffafc6b4d6ed7ce05baded540f9ce"
      }
    },
        {
      "autoExecute": true,
      "color": "#acffff",
      "fontColor": "black",
      "group": "Sounds",
      "includeLabel": false,
      "sortBy": "10",
      "index": 104,
      "label": "Rain.Light",
      "fontSize": "1.00em",
      "minWidth": "110",
      "playerEditable": false,
      "command": "[h: link\t\t= \"https://dl.dropboxusercontent.com/s/zo9qp9pklzve9m2/Rain%20Light.mp3\"]\n[h: repeat\t\t= -1]\n[h: volume\t\t= 0.5]\n\n[h: args\t\t= json.append(\"\", link, repeat, volume)]\n[H: audioLink \t= macroLinkText(\"localStream@\"+getMacroLocation(),\"none\", args)]\n[H: execLink(audioLink,1,\"all\")]",
      "maxWidth": "",
      "tooltip": "",
      "applyToSelected": false,
      "compare": [],
      "metadata":       {
        "uuid": "6aa6e87e-b7cf-44ed-809f-58ad385501ca",
        "commandChecksum": "70af57af06ab04f11c4aa7082c83cf57",
        "propsChecksum": "b5c8ff0020566733dc6d73cb76f5690e"
      }
    },
        {
      "autoExecute": true,
      "color": "darkgray",
      "fontColor": "black",
      "group": "Sounds",
      "includeLabel": false,
      "sortBy": "13",
      "index": 105,
      "label": "Thundersturm",
      "fontSize": "1.00em",
      "minWidth": "110",
      "playerEditable": false,
      "command": "[h: link\t\t= \"https://dl.dropboxusercontent.com/s/9hboyg658w2prhz/Thunderstorm.mp3\"]\n[h: repeat\t\t= -1]\n[h: volume\t\t= 0.7]\n\n[h: args\t\t= json.append(\"\", link, repeat, volume)]\n[H: audioLink \t= macroLinkText(\"localStream@\"+getMacroLocation(),\"none\", args)]\n[H: execLink(audioLink,1,\"all\")]\n\n[h: link\t\t= \"https://dl.dropboxusercontent.com/s/hp0zitmjd6rziu5/Rain%20Heavy%20.mp3\"]\n[h: repeat\t\t= -1]\n[h: volume\t\t= 0.5]\n\n[h: args\t\t= json.append(\"\", link, repeat, volume)]\n[H: audioLink \t= macroLinkText(\"localStream@\"+getMacroLocation(),\"none\", args)]\n[H: execLink(audioLink,1,\"all\")]\n\n",
      "maxWidth": "",
      "tooltip": "",
      "applyToSelected": false,
      "compare": [],
      "metadata":       {
        "uuid": "ce92e21f-00a9-42d7-979e-b4df1ef14744",
        "commandChecksum": "af72f4d068ae83b569b3c95fe0cd3a84",
        "propsChecksum": "cfc13f0afedc466cb273eca0e5ea7f66"
      }
    },
        {
      "autoExecute": true,
      "color": "navy",
      "fontColor": "white",
      "group": "Sounds",
      "includeLabel": false,
      "sortBy": "31",
      "index": 106,
      "label": "Underwater",
      "fontSize": "1.00em",
      "minWidth": "110",
      "playerEditable": false,
      "command": "[h: link\t\t= \"https://dl.dropboxusercontent.com/s/afpgwp0m0c4gk3a/Underwater.mp3\"]\n[h: repeat\t\t= -1]\n[h: volume\t\t= 0.5]\n\n[h: args\t\t= json.append(\"\", link, repeat, volume)]\n[H: audioLink \t= macroLinkText(\"localStream@\"+getMacroLocation(),\"none\", args)]\n[H: execLink(audioLink,1,\"all\")]",
      "maxWidth": "",
      "tooltip": "",
      "applyToSelected": false,
      "compare": [],
      "metadata":       {
        "uuid": "85a678b1-12dd-42b2-8b4c-5daadcd5e30f",
        "commandChecksum": "11d2f3d8b38e96410dbe977beb5a62b1",
        "propsChecksum": "1c696cb6552295c48d660a2f4ca3c387"
      }
    },
        {
      "autoExecute": true,
      "color": "white",
      "fontColor": "black",
      "group": "Sounds",
      "includeLabel": false,
      "sortBy": "22",
      "index": 107,
      "label": "Wind.Strong",
      "fontSize": "1.00em",
      "minWidth": "110",
      "playerEditable": false,
      "command": "[h: link\t\t= \"https://dl.dropboxusercontent.com/s/4lxbrkgmxb41omz/Wind%20Strong.mp3\"]\n[h: repeat\t\t= -1]\n[h: volume\t\t= 0.5]\n\n[h: args\t\t= json.append(\"\", link, repeat, volume)]\n[H: audioLink \t= macroLinkText(\"localStream@\"+getMacroLocation(),\"none\", args)]\n[H: execLink(audioLink,1,\"all\")]",
      "maxWidth": "",
      "tooltip": "",
      "applyToSelected": false,
      "compare": [],
      "metadata":       {
        "uuid": "1934ab20-9585-4c15-94fe-f7993dd28295",
        "commandChecksum": "4efee6cea4d5dd4a9b3649acae206e7f",
        "propsChecksum": "a78c13c994e3b6eed4f1e4339af8da99"
      }
    },
        {
      "autoExecute": true,
      "color": "white",
      "fontColor": "black",
      "group": "Sounds",
      "includeLabel": false,
      "sortBy": "21",
      "index": 108,
      "label": "Wind.Light",
      "fontSize": "1.00em",
      "minWidth": "110",
      "playerEditable": false,
      "command": "[h: link\t\t= \"https://dl.dropboxusercontent.com/s/7a2grk6lsh2785z/Wind%20Light.mp3\"]\n[h: repeat\t\t= -1]\n[h: volume\t\t= 0.7]\n\n[h: args\t\t= json.append(\"\", link, repeat, volume)]\n[H: audioLink \t= macroLinkText(\"localStream@\"+getMacroLocation(),\"none\", args)]\n[H: execLink(audioLink,1,\"all\")]",
      "maxWidth": "",
      "tooltip": "",
      "applyToSelected": false,
      "compare": [],
      "metadata":       {
        "uuid": "bcd67cf7-c844-4cd5-839d-95c108c757cc",
        "commandChecksum": "8d7427f424b9a3a32b0619bc374c3b60",
        "propsChecksum": "d7d38af8ceaa32e4262c2729253bb59a"
      }
    },
        {
      "autoExecute": true,
      "color": "black",
      "fontColor": "yellow",
      "group": "VERSION",
      "includeLabel": false,
      "sortBy": "z",
      "index": 109,
      "label": "Version 1.4.1",
      "fontSize": "1.00em",
      "minWidth": "110",
      "playerEditable": false,
      "command": "<pre>\nWeather Girl Version 1.4.2\n\nCredits:\n\nOverlay effects: Reverend/Bubblobill\nSounds and some minor tinkering: Wolph42\n\nnotes:\nThe sounds will work out fo the box as they are linked to my dropbox, however I would suggest to create your own links and replace these in the sound macros.\n\nVersion 1.0\n- first release with version number\n- added sounds. \n- made leaf table images smaller\n\nVersion 1.1\n- added Parade overlay\n\nVersion 1.2\n- fixed some overlay names\n- moved Environment Lighting back to its own macro\n\nVersion 1.3\n- moved macroLink execution to UDF \"runMacro\"\n- split up into separate overlays mostly based on input groupings\n\t* fx.Ambience (sfx)\n\t* fx.Lighting (Environment lighting)\n\t* fx.Lightning(will change one day to something more generic)\n\t* fx.Space\t  (Space)\n\t* fx.Surround (Border)\n\t* fx.Weather  (Actual weather)\n- fixed some typos and fiddly bits\n\nVersion 1.3.1\n- stores previous selection and prepopulates input fields\n\nVersion 1.3.2\n- updated input to handle more layers\n\nVersion 1.3.3b\n- replaced launcher with Frame form\n- added argument receiving code to each overlay\n\nVersion 1.3.3b1\n- reformatted frame launcher\n- tidying up\n- added more controls for some overlays\n- bug fixes\n- added \"setStartStopMacros\" which sets the macro commands for \"Set FX\" and \"Stop FX\" so that they launch with this token's name.\n- updated notes\n\nVersion 1.3.3b2\n- notes updated with sound instructions\n- sounds added to launcher\n\nVersion 1.3.3b3\n- added Bubbles Overhead\n- added radial gradient type to Gradient Edge\n\nVersion 1.3.4\n- added underwater sound\n- cleaned up sound buttons\n\nVersion 1.3.5\n- reworked launcher layout\n\nVersion 1.3.6\n- added \"Bloodied\" and \"Splat\" overlays\n- added more controls for \"Falling Leaves\", \"Birds\", and \"Swarm\"\n\nVersion 1.4\n- changed z-order to be more intuitive\n- added player names argument to runMacro\n- improved \"Splat\" to dispose of token\n- added ability to play multiple sounds\n- launcher layout accordioned for overlay and sound selection\n- added sound controls for volume, loop, start position, stop position\n- moved preferences for devcache, number of overlays, and number sounds to lib property\n- moved sound links to lib property\n- fixed stopLocal to accept 0 arguments to stop all sounds\n\nVersion 1.4.1\n- fixed \"Splat\"\n- added VFX & SFX Shortcuts panels\n- updated notes\n",
      "maxWidth": "",
      "tooltip": "Version info",
      "applyToSelected": false,
      "compare": [],
      "metadata":       {
        "uuid": "690c5739-2fac-4781-a012-713178e35e04",
        "commandChecksum": "892fa96c5516af611ef3f90aa0f63a84",
        "propsChecksum": "4c30e2941547f02151744cdeb01c2f13"
      }
    },
        {
      "autoExecute": true,
      "color": "#dcecff",
      "fontColor": "black",
      "group": "Overlay Effects",
      "includeLabel": false,
      "sortBy": "98",
      "index": 111,
      "label": "Environment Lighting",
      "fontSize": "1.00em",
      "minWidth": "110",
      "playerEditable": false,
      "command": "[h: lightValues\t= getLibProperty(\"lightValues\", getMacroLocation())]\n[r: lightvalue  = json.get(lightValues, \"Noon\")]\n[h: overlayName = \"fx0\"][h: zOrder      = -1][h: layerOpacity=1]\n[h, if(json.type(macro.args)==\"OBJECT\"): json.toVars(macro.args)]\n\n[h: css=strformat('\nbody {\n\tbackground-color:%{lightvalue}; \n\topacity: %{layerOpacity};\n}')]\n[h: sHTML=strformat('\n<html>\n<head>\n<style>\n%{css}\n<\/style>\n<\/head>\n<body>\n<\/body>\n<\/html>\n')]\n[r, overlay(overlayName, zOrder):{[r:sHTML]}]",
      "maxWidth": "",
      "tooltip": "",
      "applyToSelected": false,
      "compare": [],
      "metadata":       {
        "uuid": "89a7f475-b315-439f-a1e7-43db8dd7b536",
        "commandChecksum": "f2767ae6c7531cfa73f1dac54cf3d114",
        "propsChecksum": "6e9fa3a67aa8c74f0a8bc8637ff94bd6"
      }
    },
        {
      "autoExecute": true,
      "color": "green",
      "fontColor": "white",
      "group": "Campaign",
      "includeLabel": false,
      "sortBy": "0",
      "index": 113,
      "label": "<html>🎧 Shortcuts<\/html>",
      "fontSize": "1.00em",
      "minWidth": "110",
      "playerEditable": false,
      "command": "[r, macro(\"SFXShortcuts@lib:weather\"):\"\"]",
      "maxWidth": "",
      "tooltip": "",
      "applyToSelected": false,
      "compare": [],
      "metadata":       {
        "uuid": "52a24969-f830-4cb9-95ed-6614b717e39f",
        "commandChecksum": "11361282c163c047683f3986d73605ff",
        "propsChecksum": "518da008a5f23a9aefa8044d47655353"
      }
    },
        {
      "autoExecute": true,
      "color": "#dcecff",
      "fontColor": "black",
      "group": "Overlay Effects",
      "includeLabel": false,
      "sortBy": "96",
      "index": 114,
      "label": "Gradient Edge",
      "fontSize": "1.00em",
      "minWidth": "110",
      "playerEditable": false,
      "command": "[h: geColorOutside='#24243e']\n[h: geColorInside='#302b63']\n[h: geOpacityCenter=0]\n[h: geOpacityEdge=45]\n[h: geGradientType = 0]\n[h: geWidth=18]\n[h: overlayName=\"fx0\"][h: zOrder=0][h: layerOpacity=1]\n[h, if(json.type(macro.args)==\"OBJECT\"):json.toVars(macro.args)]\n\n[h: geWidth2=100-geWidth]\n[h: geWidthR = geWidth*2]\n[h: co=round(geOpacityCenter/100*255)]\n[h: eo=round(  geOpacityEdge/100*255)]\n[h: geColorOutside= strformat('%{geColorOutside}%02X', eo)]\n[h: geColorInside = strformat('%{geColorInside}%02X',  co)]\n\n[r, if(geGradientType), code:{\n\t[h: geGradient= strformat(\n\t'%{geColorOutside},\n\t%{geColorInside},%{geWidth}%,\n\t%{geColorInside},%{geWidth2}%,\n\t%{geColorOutside}')]\n\t[h: geGradientR= 'none']\n};{\n\t[h: geGradient= 'none']\t\n\t[r: geGradientR= strformat(\n\t'%{geColorInside} %{geWidthR}%,\n\t%{geColorOutside} 100%')]\n}]\n\n[h: css='\nbody {opacity: '+layerOpacity+';}\n.edgeGradient {\n\tdisplay: inline;\n\tmargin:0;\n\tposition: fixed;\n\ttop:0;\n\tleft:0;\n\twidth:100vw;\n\theight:100vh;\n}\n.edgeHorizontal {background:linear-gradient(to right, '+geGradient+'); }\n.edgeVertical   {background:linear-gradient(to bottom,'+geGradient+'); }\n.edgeRadial\t\t{background:radial-gradient(circle,   '+geGradientR+'); }\n']\n\n[h: sHTML=strformat('\n<html>\n<head>\n<style>\n%{css}\n<\/style>\n<\/head>\n<body>\n<span class=\"edgeGradient edgeHorizontal\"><\/span>\n<span class=\"edgeGradient edgeVertical\"  ><\/span>\n<span class=\"edgeGradient edgeRadial\"    ><\/span>\n<\/body>\n<\/html>\n')]\n\n[overlay(overlayName,zOrder):{[r:sHTML]}]",
      "maxWidth": "",
      "tooltip": "",
      "applyToSelected": false,
      "compare": [],
      "metadata":       {
        "uuid": "b2596a81-5b3c-4cc9-a777-1a415206e624",
        "commandChecksum": "3868f4ebec57b31212b1a8cff6c37332",
        "propsChecksum": "4b732df25824523ed8674fe4b9565b3c"
      }
    },
        {
      "autoExecute": true,
      "color": "#dcecff",
      "fontColor": "black",
      "group": "Overlay Effects",
      "includeLabel": false,
      "sortBy": "10",
      "index": 115,
      "label": "Sandstorm",
      "fontSize": "1.00em",
      "minWidth": "110",
      "playerEditable": false,
      "command": "[h: overlayName=\"fx0\"][h: zOrder=0]\t[h: layerOpacity=1]\n[h, if(json.type(macro.args)==\"OBJECT\"): json.toVars(macro.args)]\n\n[h: css=strformat('body {\nmargin: 0;\nopacity: %{layerOpacity};\noverflow: hidden;\n}\n.wind { background:transparent; }\n')]\n[overlay(overlayName, zOrder): {\n<html>\n<head>\n<meta charset=\"UTF-8\">\n<title>Sandstorm<\/title>\n<style>\n[r:css]\n<\/style>\n<script>\n[r:'\n\nfunction Vector2D(x,y){if(typeof x===\"undefined\")x=0;if(typeof y===\"undefined\")y=0;this.x=parseFloat(x);this.y=parseFloat(y);}\nVector2D.prototype={lengthSquared:function(){return this.x*this.x+this.y*this.y;},length:function(){return Math.sqrt(this.lengthSquared());},angle:function(){return Math.atan2(this.y,this.x);},clone:function(){return new Vector2D(this.x,this.y);},negate:function(){return new Vector2D(this.x==0?0:-this.x,this.y==0?0:-this.y)},unit:function(){var length=this.length();if(length>0){return new Vector2D(this.x/length,this.y/length);}else{return new Vector2D(0,0);}},normalize:function(){var length=this.length();if(length>0){this.x/=length;this.y/=length;}\nreturn this.length();},add:function(vec){return new Vector2D(this.x+vec.x,this.y+vec.y);},incrementBy:function(vec){this.x+=vec.x;this.y+=vec.y;},subtract:function(vec){return new Vector2D(this.x-vec.x,this.y-vec.y);},decrementBy:function(vec){this.x-=vec.x;this.y-=vec.y;},multiply:function(k){return new Vector2D(k*this.x,k*this.y);},inverse:function(){var x,y;if(this.x==0){x=0}else{x=1/this.x};if(this.y==0){y=0}else{y=1/this.y};return new Vector2D(x,y);},addScaled:function(vec,k){return new Vector2D(this.x+k*vec.x,this.y+k*vec.y);},scaleBy:function(k){this.x*=k;this.y*=k;},dotProduct:function(vec){return this.x*vec.x+this.y*vec.y;},crossProduct:function(vec){return this.x*vec.y-this.y*vec.x;},projection:function(vec){var length=this.length();var lengthVec=vec.length();var proj;if((length==0)||(lengthVec==0)){proj=0;}else{proj=(this.x*vec.x+this.y*vec.y)/lengthVec;}\nreturn proj;},project:function(vec){return vec.para(this.projection(vec));},para:function(u,positive){if(typeof(positive)===\"undefined\")positive=true;var length=this.length();var vec=new Vector2D(this.x,this.y);if(positive){vec.scaleBy(u/length);}else{vec.scaleBy(-u/length);}\nreturn vec;},perp:function(u,anticlockwise){if(typeof(anticlockwise)===\"undefined\")anticlockwise=true;var length=this.length();var vec=new Vector2D(this.y,-this.x);if(length>0){if(anticlockwise){vec.scaleBy(u/length);}else{vec.scaleBy(-u/length);}}else{vec=new Vector2D(0,0);}\nreturn vec;},rotate:function(angle){return new Vector2D(this.x*Math.cos(angle)-this.y*Math.sin(angle),this.x*Math.sin(angle)+this.y*Math.cos(angle));}};Vector2D.distance=function(vec1,vec2){return(vec1.subtract(vec2)).length();};Vector2D.angleBetween=function(vec1,vec2){return Math.acos(vec1.dotProduct(vec2)/(vec1.length()*vec2.length()));};Vector2D.scale=function(vec,sca){vec.x*=sca;vec.y*=sca;};Vector2D.vector2D=function(mag,angle,clockwise){if(typeof(clockwise)===\"undefined\")clockwise=true;var vec=new Vector2D(0,0);vec.x=mag*Math.cos(angle);vec.y=mag*Math.sin(angle);if(!clockwise){vec.y*=-1;};return vec;};\n\nconst defaults={charge:0,colours:[\"orange\",\"red\"],gradient:false,mass:1,radius:40,scale:0.2,spinRate:0.001,vortexLifetime:-1};function Vortex(radius,spinRate,age){if(typeof radius===\"undefined\")radius=defaults.radius;if(typeof spinRate===\"undefined\")spinRate=defaults.spinRate;if(typeof age===\"undefined\")age=Math.floor(Math.random()*this.lifeTime);this.charge=defaults.charge;this.colours=defaults.colours;this.gradient=defaults.gradient;this.lastcolor=0;this.life=age;this.lifetime=defaults.vortexLifetime;this.mass=defaults.mass;this.mass_=defaults.mass;this.radius=radius;this.radius_=radius;this.scale=defaults.scale;this.spinRate=spinRate;this.x=0;this.y=0;this.vx=0;this.vy=0;};Vortex.prototype.constructor=Vortex;Vortex.prototype={get pos2D(){return new Vector2D(this.x,this.y);},set pos2D(pos){this.x=pos.x;this.y=pos.y;},get velo2D(){return new Vector2D(this.vx,this.vy);},set velo2D(velo){this.vx=velo.x;this.vy=velo.y;},draw:function(context){if(this.gradient){var grad=context.createRadialGradient(this.x,this.y,0,this.x,this.y,this.radius);grad.addColorStop(0,this.colours[0]);grad.addColorStop(1,this.colours[this.colours.length]);context.fillStyle=grad;}else{this.lastcolor=this.lastcolor==this.colours.length?0:this.lastcolor++;context.fillStyle=this.colours[this.lastcolor];};context.beginPath();context.arc(this.x,this.y,this.radius,0,2*Math.PI,true);context.closePath();context.fill();},respawn:function(radius,spinRate,obj){if(typeof radius===\"undefined\")radius=defaults.radius;if(typeof spinRate===\"undefined\")spinRate=defaults.spinRate;if(typeof obj===\"undefined\")obj={};if(obj[\"x\"]){this.x=obj[\"x\"]}else{this.x=0};if(obj[\"y\"]){this.y=obj[\"y\"]}else{this.y=0};if(obj[\"vx\"]){this.vx=obj[\"vx\"]}else{this.vx=0};if(obj[\"vy\"]){this.vy=obj[\"vy\"]}else{this.vy=0};if(obj[\"life\"]){this.life=obj[\"life\"]}else{this.life=0};if(obj[\"lifetime\"]===\"undefined\"){this.lifetime=defaults.vortexLifetime}else{this.lifeTime=obj[\"lifetime\"]};this.radius=radius;this.spinRate=spinRate;if(obj[\"scale\"]){this.scale=obj[\"scale\"]}else{this.scale=defaults.scale};console.log(this.radius);},update:function(dt){if(typeof dt===\"undefined\")dt=1;this.life-=1;var damping=1-0.015*dt;this.vx*=damping;this.vy*=damping;this.x+=this.vx*dt;this.y+=this.vy*dt;if(Math.ceil(this.life)==0)this.respawn();if(this.x<0)this.x=window.innerWidth;if(this.x>winWidth)this.x=0;if(this.y<0)this.y=window.innerHeight;if(this.y>winHeight)this.y=0;var lifeFactor=Math.ceil(this.life)/this.lifetime;this.radius=this.radius_-this.radius_*(1-lifeFactor)*lifeFactor*4;this.mass=8*this.mass_-this.mass_*(1-lifeFactor)*lifeFactor*4;}};\n\nconst dft={radius:3.2,colours:[\"#d5bb6d\",\"#c2b280\",\"#afa892\",\"#cbb676\"],mass:0.001,charge:1,gradient:false}\nfunction Particle(radius,colours,mass,charge,gradient){if(typeof(radius)===\"undefined\")radius=prt.radius;if(typeof(colours)===\"undefined\")colours=prt.colours;if(typeof(mass)===\"undefined\")mass=prt.mass;if(typeof(charge)===\"undefined\")charge=prt.charge;if(typeof(gradient)===\"undefined\")gradient=prt.gradient;this.radius=radius;this.colours=colours;this.lastcolor=0;this.mass=mass;this.charge=charge;this.gradient=gradient;this.x=0;this.y=0;this.vx=(Math.random()-0.5)*8;this.vy=(Math.random()-0.5)*5;this.life=0;this.lifetime=1;this.alpha=this.calcAlpha();this.vUnit=this.velo2D.unit();this.startframe;this.speed;this.type;}\nParticle.prototype.constructor=Particle;Particle.prototype={get pos2D(){return new Vector2D(this.x,this.y);},set pos2D(pos){this.x=pos.x;this.y=pos.y;},get velo2D(){return new Vector2D(this.vx,this.vy);},set velo2D(velo){this.vx=velo.x;this.vy=velo.y;},age:function(dt){if(typeof dt===\"undefined\")dt=1;this.life+=dt;return this.life>this.lifetime;},calcAlpha:function(){var decValue=parseInt((1-(this.life/this.lifetime))*(this.life/this.lifetime)*4*255);var hexString=decValue.toString(16);if((hexString.length%2)>0){hexString=\"0\"+hexString}\nreturn hexString},draw:function(context){if(this.gradient){var grad=context.createRadialGradient(this.x,this.y,0,this.x,this.y,this.radius);grad.addColorStop(0,this.colours[0]);grad.addColorStop(1,this.colours[this.colours.length]);context.fillStyle=grad;}else{this.lastcolor=this.lastcolor==this.colours.length?0:this.lastcolor++;context.fillStyle=this.colours[this.lastcolor];}\ncontext.beginPath();context.arc(this.x,this.y,this.radius,0,2*Math.PI,true);context.closePath();context.fill();},drawLine:function(context){var lineEnd=this.pos2D.add(this.velo2D.multiply(0.051));if(this.gradient){var grad=context.createLinearGradient(this.x,this.y,lineEnd.x,lineEnd.y);grad.addColorStop(0.0,this.colours[0]+\"00\");grad.addColorStop(0.3,this.colours[0]);grad.addColorStop(0.6,this.colours[this.colours.length-1]+\"a1\");grad.addColorStop(1.0,this.colours[this.colours.length-1]+\"00\");context.strokeStyle=grad;}else{this.lastcolor=this.lastcolor==this.colours.length?0:this.lastcolor++;context.strokeStyle=this.colours[this.lastcolor];}\nvar lineEnd=this.pos2D.add(this.velo2D.multiply(0.03));context.lineWidth=2;context.beginPath();context.moveTo(this.x,this.y);context.lineTo(lineEnd.x,lineEnd.y);context.closePath();context.stroke();},\nwrap:function(canvas){\nif(this.x<0){this.x=canvas.width;}\nif(this.x>canvas.width){this.x=0;}\nif(this.y<0){this.y=canvas.height;}\nif(this.y>canvas.height){this.y=0;}\n\n}};\n\nfunction Forces(){};Forces.zeroForce=function(){return(new Vector2D(0,0));};Forces.constantGravity=function(m,g){return new Vector2D(0,m*g);};Forces.gravity=function(G,m1,m2,r){return r.multiply(-G*m1*m2/(r.lengthSquared()*r.length()));};Forces.gravityModified=function(G,m1,m2,r,eps){return r.multiply(-G*m1*m2/((r.lengthSquared()+eps*eps)*r.length()));};Forces.electric=function(k,q1,q2,r){return r.multiply(k*q1*q2/(r.lengthSquared()*r.length()));};Forces.electric2=function(k,q1,q2,r){return r.multiply(k*q1*q2/(r.lengthSquared()));};Forces.forceField=function(q,E){return E.multiply(q);};Forces.lorentz=function(q,E,B,vel){return E.multiply(q).add(vel.perp(q*B*vel.length()));};Forces.central=function(k,n,r){return r.multiply(k*Math.pow(r.length(),n-1));};Forces.linearDrag=function(k,vel){var force;var velMag=vel.length();if(velMag>0){force=vel.multiply(-k);}else{force=new Vector2D(0,0);};return force;};Forces.drag=function(k,vel){var force;var velMag=vel.length();if(velMag>0){force=vel.multiply(-k*velMag);}else{force=new Vector2D(0,0);};return force;};Forces.lift=function(k,vel){var force;var velMag=vel.length();if(velMag>0){force=vel.perp(k*velMag);}else{force=new Vector2D(0,0);};return force;};Forces.upthrust=function(rho,V,g){return new Vector2D(0,-rho*V*g);};Forces.vortex=function(vortex,particle,dt){if(typeof dt===\"undefined\")dt=0.0026;if(dt==0)return new Vector2D(0,0);var dPos,dVel,factor,force,lifeFactor;lifeFactor=vortex.life/vortex.lifetime;dPos=particle.pos2D.subtract(vortex.pos2D);dVel=particle.velo2D.subtract(vortex.velo2D).multiply(dt);force=dPos.add(dVel);force=force.perp(1,Math.sign(vortex.spinRate));force=force.multiply(dt*vortex.spinRate);factor=1/(1+dPos.dotProduct(dPos))/vortex.scale;factor*=(1-lifeFactor)*lifeFactor*4;force=force.multiply(factor);return force;};Forces.vortex2=function(k,r0,r){var force;var rMag=r.length();if(rMag>0){if(rMag>r0){force=r.multiply(-k*Math.pow(r0/rMag,4));}else{force=r.multiply(k);};}else{force=new Vector2D(0,0);};return force;};Forces.spring=function(k,r){return r.multiply(-k);};Forces.damping=function(c,vel){var force;var velMag=vel.length();if(velMag>0){force=vel.multiply(-c);}else{force=new Vector2D(0,0);};return force;};Forces.add=function(arr){var forceSum=new Vector2D(0,0);for(var i=0;i<arr.length;i++){var force=arr[i];forceSum.incrementBy(force);};return forceSum;};\n<\/script>\n<\/head>\n<body>\n<script>\n\"use strict\"\nconst\n\tprt = {radius: 1.27,\n\t\tcolours: [\"#e6dfcb\",\"#d5bb6d\",\"#c2b280\",\"#afa892\",\"#564b29\",\"#cbb676\",\"#564b29\",\"#afa892\",\"#c2b280\",\"#d5bb6d\",\"#e6dfcb\"],\n\t\tmass: 0.007,\n\t\tcharge: 1,\n\t\tgradient: false\t\n    },\n\tfps = 26,\n\tk = 30,\n\twindSpeed = 32;\n\t\nvar\twinWidth = window.innerWidth,\n\twinHeight= window.innerHeight,\n\twinCenW  = winWidth/2,\n\twinCenH  = winHeight/2,\n\twinRadius= Math.ceil(Math.sqrt((winCenW/2)**2+(winCenH/2)**2)),\n\twinCenter= new Vector2D(winCenW, winCenH),\n\tcanvas,\n\tcontext,\n\tanimId,\n\tt0 = 0,dt,\n\tspeed = {\n\t\tstart:20,\n\t\tmax:50,\n\t\tmin: 6\n    },\n\tinitVel,\n\tparticles = new Array(),\n\tmaxParticles = Math.floor(winWidth * winHeight/600),\n\tparticleLife = fps*8,\n\tmaxPartPerSec = Math.ceil(maxParticles/particleLife),\n\tvortices = new Array(),\n\tnumVortices = 3+Math.ceil(Math.random()*6),\n\tvortexLifetime= 45*fps,\n\tattractors = new Array(),\n\tnumAttractors = 1+Math.ceil(Math.random()*3),\n\tattractorsLifetime= 14*fps,\n\tforce,\n\twind     = new Vector2D(1,0).multiply(windSpeed),\n\twindForce,\n\twindDirection = 0,\n\tacc;\n\nfunction createCanvas() {\n\tcanvas  = document.createElement(\"canvas\");\n\tcanvas.width = winWidth;\n\tcanvas.height = winHeight;\n\tdocument.body.appendChild(canvas);\n\tcanvas.classList.add(\"wind\");\n\treturn canvas;\n}\nfunction init() {\n\tinitVel = new Vector2D(0,1).rotate(Math.random()*Math.PI*2).multiply(speed.start*(1000/fps));\n\tcanvas = createCanvas();\n\tcontext = canvas.getContext(\"2d\"); \n\tfor (var i=0; i< Math.floor(maxParticles/4); i++){ spawn() }\n\tfor (var i=0; i< numVortices; i++){\t\n\t\tvar vortex = new Vortex(winWidth/18, 0.0001, Math.floor(Math.random()*vortexLifetime));\t\n\t\tvortex.respawn();\n\t\tvortex.colours=[\"purple\"];\n\t\tvortex.mass = 0.2+Math.random();\n\t\tvortex.charge = -3.632\t;\n\t\tvortex.life = Math.floor(Math.random()*vortexLifetime);\n\t\tvortices.push(vortex);\n\t}\t\n\tfor (var i=0; i<numAttractors; i++){\t\n\t\tvar attractor    = new Particle(winWidth * Math.random()/5,[\"blue\",\"green\"],50+Math.random()*30,Math.random()*16,false);\t\n\t\tattractor.pos2D  = new Vector2D(Math.random()*winWidth,Math.random()*winHeight);\n\t\tattractor.velo2D = initVel.multiply(0.01);\n\t\tattractors.push(attractor);\n\t}\n\tanimFrame();\n}\nfunction spawn() {\n\tvar particle=new Particle();\n\tparticles.push(particle);\n\tparticle.colours = prt.colours;\n\trespawn(particle);\n\tparticle.lastcolor = Math.floor(Math.random()*particle.colours.length);\n\tparticle.life = Math.floor(particleLife/2 - Math.random()*0.5*particleLife);\n\tparticle.velo2D = particle.velo2D.multiply(Math.random()*0.5+0.6);\n}\nfunction respawn(particle) {\n\tif(typeof particle==\"undefined\") {particle=new Particle()}\n\tparticle.x = Math.floor(Math.random()*winWidth);\n\tparticle.y = Math.floor(Math.random()*winHeight);\n\tparticle.life = particleLife;\n\tparticle.velo2D = initVel;\n}\nfunction animFrame(){\n    setInterval(function() {\n          animId = requestAnimationFrame(animFrame,canvas);\n          onTimer();\n    }, 1000/fps);\n}\n\nfunction onTimer(){\n\tvar t1 = new Date().getTime(); \n\tdt = 0.001*(t1-t0); \n\tt0 = t1;\n\tif (dt>0.2) {dt=0;};\n\tif (dt!=0) {\n\t\twindDirection += (Math.random()-0.45)*0.00006;\n\t\twind = wind.rotate(windDirection);\n\t\tinitVel = wind.multiply(speed.start);\n\t\tif(particles.length < maxParticles) {\n\t\t\tfor (var i=0; i< maxParticles-particles.length && i < Math.max(Math.ceil(maxPartPerSec*dt), 1); i++){ respawn() }\n\t\t}\n\t\tmove();\n\t}\n}\nfunction move(){\n\tcontext.clearRect(0, 0, winWidth, winHeight);\n\twindForce = wind.multiply(speed.start*dt);\n\tfor (var i=0; i<attractors.length; i++){\n\t\tvar attractor = attractors[i];\n\t\tcalcForce(attractor, \"attractor\");\t\t\n\t\tmoveAttractor(attractor);\n\t\t//attractor.draw(context);\n\t\tupdateAccel(attractor.mass);\n\t\tupdateVelo(attractor);\t\n\t}\n\tfor (var i=0; i<vortices.length; i++){\n\t\tvar vortex=vortices[i];\n\t\tcalcForce(vortex, \"vortex\");\n\t\tvortex.update(dt);\n\t\t//vortex.draw(context);\n\t\tupdateAccel(vortex.mass);\n\t\tupdateVelo(vortex);\n\t}\n\tfor (var i=0; i<particles.length; i++){\n\t\tvar particle = particles[i];\n\t\tparticle.life -= dt;\n\t\tif(particle.life < 0) {respawn(particle);}\n\t\tcalcForce(particle, \"particle\");\n\t\tmoveParticle(particle);\n\t\tparticle.draw(context);\n\t\tupdateAccel(particle.mass);\n\t\tupdateVelo(particle);\t\t\n\t}\n\t\n}\nfunction moveParticle(obj){\n\tobj.pos2D = obj.pos2D.addScaled(obj.velo2D,dt);\t\n\tif(obj.velo2D.length() < speed.min*dt*5/16) { obj.velo2D =obj.velo2D.multiply(1.01) }\n\tif(obj.velo2D.length() > speed.max*dt*11/16) { obj.velo2D =obj.velo2D.multiply(0.98) }\n\tif(obj.vx < -speed.max*dt || obj.vx > speed.max*dt) { obj.vx = obj.vx * 0.63 }//Math.sqrt(obj.vx)}\n\tif(obj.vy < -speed.max*dt || obj.vy > speed.max*dt) { obj.vy = obj.vy * 0.63 }//Math.sqrt(obj.vy)}\n\tif(obj.vx > -speed.min*dt || obj.vx < speed.min*dt) { obj.vx = obj.vx * 1.002 }\n\tif(obj.vy > -speed.min*dt || obj.vy < speed.min*dt) { obj.vy = obj.vy * 1.002 }\n\tobj.wrap(canvas);\n}\nfunction moveAttractor(obj){\n\tif(obj.velo2D.length > speed.max*dt*0.05) { obj.velo2D.multiply(0.3); }\n\tobj.pos2D = obj.pos2D.addScaled(obj.velo2D,dt);\t\n\tobj.wrap(canvas);\n}\nfunction updateAccel(mass){\tacc = force.multiply(1/mass);}\t\nfunction updateVelo(obj)  {\tobj.velo2D = obj.velo2D.addScaled(acc,dt);}\nfunction calcForce(obj, type){\n\tforce = Forces.zeroForce();\n\tforce = Forces.add([force, windForce.subtract(obj.velo2D.multiply(dt))]);\n\tswitch(type) {\n\tcase \"particle\":\n\t\tcalcForceElectric(obj);\n\t\tcalcForceVortex(obj);\n\t\tbreak;\n\tcase \"vortex\":\n\t\tcalcForceElectric(obj);\n\t\tbreak;\n\tcase \"attractor\":\n\t\tcalcForceVortex(obj);\n\t\tbreak;\n\t}\n}\nfunction calcForceElectric(obj){\t\n\tvar electric;\n\tfor (var i=0; i<numAttractors; i++){\n\t\tvar attractor = attractors[i];\t\n\t\tvar diff = obj.pos2D.subtract(attractor.pos2D)\n\t\tvar dist = diff.length();\n\t\t\n\t\tif(dist< attractor.radius*4) {\n\t\t\telectric = Forces.electric2(k,attractor.charge,obj.charge,diff);\n\t\t\tforce = Forces.add([force, electric]);\n\t\t}\n\t}\t\t\t\n}\nfunction calcForceVortex(obj){\t\n\tvar vortex;\n\tvar vForce;\n\tvar electric;\n\tfor (var i=0; i<numVortices; i++){\n\t\tvortex = vortices[i];\n\t\tvar diff = obj.pos2D.subtract(vortex.pos2D)\n\t\tvar dist = diff.length();\n\t\tif(dist< vortex.radius*3) {\n\t\t\tvForce = Forces.vortex(vortex, obj, dt).multiply(dt);\n\t\t\tforce = Forces.add([force, vForce]);\n\t\t}\n\t\tif(dist< vortex.radius*9) {\n\t\t\tif(dist < vortex.radius) {\n\t\t\t\telectric = Forces.electric2(k,-vortex.charge,obj.charge,diff);\n\t\t\t} else {\n\t\t\t\telectric = Forces.electric2(k,vortex.charge*3.8,obj.charge,diff);\n\t\t\t};\n\t\t\tforce = Forces.add([force, electric]);\n\t\t}\n\t}\n}\nVortex.prototype.respawn = function(radius, spinRate, obj=spawnPoint()) {\n\tif(typeof radius   ===\"undefined\")   radius = Math.floor(18+Math.random()*winHeight/8);\n\tif(typeof spinRate ===\"undefined\") spinRate = Math.sign(Math.random()-0.5)*8-Math.random()*1.8;\n\tif(typeof obj      ===\"undefined\")      obj = {};\n\tif(obj[\"x\"]   ) { this.x    =obj[\"x\"]   } else {this.x       = 0};\n\tif(obj[\"y\"]   ) { this.y    =obj[\"y\"]   } else {this.y       = 0};\n\tif(obj[\"v\"]   ) { this.velo2D=obj[\"v\"]  } else {this.this.velo2D = new vector2d(1,1)};\n\tif(obj[\"vy\"]  ) { this.vy   =obj[\"vy\"]  } else {this.vy      = 0};\n\tif(obj[\"life\"]) { this.life =obj[\"life\"]} else {this.life    = 0};\n\tif(obj[\"lifetime\"]){ this.lifetime=obj[\"lifetime\"]} else {this.lifetime= vortexLifetime};\n\tthis.radius_  = radius;\n\tthis.spinRate= spinRate*this.scale;\n\tif(obj[\"scale\"]){this.scale = obj[\"scale\"]} else {this.scale = defaults.scale};\n}\nfunction spawnPoint() {\n\tvar obj = {\n\t\tx :Math.random()*winWidth,\n\t\ty :Math.random()*winHeight,\n\t\tv :wind.multiply(0.6),\n\t\tlife:Math.ceil(Math.random()*vortexLifetime),\n\t\tscale:3.51\n\t}\n\treturn obj;\n}\nwindow.onresize = function() {\n\twinWidth = canvas.width = window.innerWidth;\n\twinHeight = canvas.height = window.innerHeight;\n\t}\nwindow.onload = init;']\n<\/script>\n<\/body>\n<\/html>\n}]",
      "maxWidth": "",
      "tooltip": "https://github.com/devramtal/Physics-for-JavaScript-Games-Animation-Simulations\nhttps://gamedevelopment.tutsplus.com/tutorials/adding-turbulence-to-a-particle-system--gamedev-13332",
      "applyToSelected": false,
      "compare": [],
      "metadata":       {
        "uuid": "a0f33882-8017-45b7-87fb-8bfaef013995",
        "commandChecksum": "1d02fe8f530bcc81edac74dcf8c3a965",
        "propsChecksum": "da1d32c3daf1e6baf85ad0b6884147e5"
      }
    },
        {
      "autoExecute": true,
      "color": "red",
      "fontColor": "black",
      "group": "Controls",
      "includeLabel": false,
      "sortBy": "0",
      "index": 121,
      "label": "Close FX",
      "fontSize": "1.00em",
      "minWidth": "110",
      "playerEditable": false,
      "command": "[h, if(!isFunctionDefined(\"runMacro\")): defineFunction(\"runMacro\", \"runMacro@\"+getMacroLocation())]\n[h: runMacro(\"Stop Sounds\")]\n[h, for(i, 0, 24), code:{\n\t[if(isOverlayRegistered(\"fx_\"+i)) :runMacro(\"emptyOverlay\", \"fx_\"+i, 0)][if(isOverlayRegistered(\"fx\"+i)) :runMacro(\"emptyOverlay\", \"fx\"+i, 0)]\n}]",
      "maxWidth": "",
      "tooltip": "",
      "applyToSelected": false,
      "compare":       [
        "group",
        "sortPrefix",
        "command",
        "includeLabel",
        "autoExecute",
        "applyToSelected"
      ],
      "metadata":       {
        "uuid": "f77472dc-32f9-4eba-9f91-f106671f311c",
        "commandChecksum": "ba82fa29766d7984f23985a6ce3f2965",
        "propsChecksum": "ea733d521e14bfa1ea9c27678be35e33"
      }
    },
        {
      "autoExecute": true,
      "color": "green",
      "fontColor": "white",
      "group": "Controls",
      "includeLabel": false,
      "sortBy": "0",
      "index": 124,
      "label": "SFXShortcuts",
      "fontSize": "1.00em",
      "minWidth": "110",
      "playerEditable": false,
      "command": "[h: assert(isGM(), \"You are not powerful enough to control the noise.\")]\n[h: lib = getMacroLocation()][h: defineFunction(\"runMacro\", \"runMacro@\"+lib)]\n\n[h: frameName=\"Sound Shortcuts\"]\n[h: frameProps=\"width=100; height=220; temporary=0; title=Sound Shortcuts; tabtitle=SFX Shortcuts\"]\n[h: devcache=1][h: debug=0]\n[h, code:{\n\t[soundIDList      = getMacroGroup(\"Sounds\", \"json\", lib)]\n\t[soundNameList    = \"\"]\n\t[foreach(sound, soundIDList): soundNameList = json.append(soundNameList, json.get(getMacroProps(sound, \"json\", lib),\"label\"))]\n\t\n\t[soundNameList = json.sort(soundNameList)]\n\t[soundVarList  = replace(soundNameList, \" \", \"_\")]\n\t\n\t[sfxShortcutHistory=getLibProperty(\"sfxShortcutHistory\", lib)]\n\t[json.toVars(sfxShortcutHistory)]\n\t[inputArr = \"tab0|Shortcut Selection||TAB##vlabel|<html><h3>Sound shortcuts to display||LABEL|SPAN=TRUE\"]\n\t[for(i, 0, json.length(soundNameList)-1), code:{\n\t\t[inputVar   = json.get(soundVarList, i)]\n\t\t[if(json.contains(sfxShortcutHistory, inputVar)): inputVal = eval(inputVar); inputVal = 0]\n\t\t[inputLabel = json.get(soundNameList, i)]\n\t\t[inputArr = json.append(inputArr, inputVar+\"|\"+inputVal+\"|\"+inputLabel+\"|CHECK\")]\n\t}]\n\n\t[inputArr=json.append(inputArr,\n\"tab1|Display Options 1,||TAB\",\n\"vlabel|<html><h3>Button CSS||LABEL|SPAN=TRUE\",\n\"cssbackground_color| #ddeeff|Background Colour|TEXT\",\n\"cssborder|1px dotted #aaaaff|Border|TEXT\",\n\"cssborder_radius| 6px|Border Radius|TEXT\",\n\"csscolor| navy|Text Colour|TEXT\",\n\"csscursor| pointer|Cursor Type|TEXT\",\n\"cssfloat|left|Float|TEXT\",\n\"cssfont_size| 9pt|Font Size|TEXT\",\n\"cssmargin| 2px|Margin|TEXT\",\n\"cssmargin_bottom| 6px|Margin(Bottom)|TEXT\",\n\"cssoverflow| hidden|Overflow|TEXT\",\n\"csspadding| 2px 4px|Padding|TEXT\",\n\"csstext_align| center|Text Align|TEXT\",\n\"csstext_decoration|none|Text Decoration|TEXT\",\n\"csstext_overflow| ellipsis|Text Overflow|TEXT\",\n\"csstext_shadow| 1px 1px 2px white, -1px -1px 2px white, 1px -1px 3px white, -1px 1px 3px white|Text Shadow|TEXT\",\n\"csswhite_space| nowrap|White Space|TEXT\",\n\"cssmax_width| 140px|Maximum Width|TEXT\",\n\"csswidth| 94vw|Width|TEXT\",\n\n\"tab1|Display Options 2,||TAB\",\n\"vlabel|<html><h3>Button CSS on Hover||LABEL|SPAN=TRUE\",\n\"csshover_background_color| #eeeeff|Background Colour|TEXT\",\n\"csshover_background_image| repeating-radial-gradient(#eeeeff 0%, #dad0ff 4%)|Background Image|TEXT\",\n\"csshover_border|1px solid #8888ff|Border|TEXT\",\n\"vlabel|<html><h3>Close Button CSS||LABEL|SPAN=TRUE\",\n\"cssclose_background_color| #ffddee|Background Colour|TEXT\",\n\"cssclose_border|1px dotted #ffaaaa|Border|TEXT\",\n\"cssclose_color| maroon|Text Colour|TEXT\",\n\"vlabel|<html><h3>Close Button CSS on Hover||LABEL|SPAN=TRUE\",\n\"cssclose_hover_background_color| #ffeeee|Background Colour|TEXT\",\n\"cssclose_hover_background_image| repeating-radial-gradient(#ffeeee 0%, #ffdad0 4%)|Background Image|TEXT\",\n\"cssclose_hover_border|1px solid #ff8888|Border|TEXT\"\n)]\n\t\n\t[abort(input(json.toList(inputArr, \"##\")))]\n\n\t[foreach(varName, soundVarList):\n\t\tsfxShortcutHistory=json.set(sfxShortcutHistory, varName, eval(varName))]\t\n\t[setLibProperty(\"sfxShortcutHistory\", sfxShortcutHistory, lib)]\n}]\n\n[h, if(devCache), code:{\n\t[buttonObj='']\n\t[for(i, 0, json.length(soundNameList)-1), code:{\n\t\t[buttonid   = json.get(soundVarList, i)]\n\t\t[buttonname = json.get(soundNameList, i)]\n\t\t[uri        = macroLink(buttonname, \"runMacro@\"+lib, \"all\", json.append(\"\", buttonname, 0), lib)]\n\t\t[buttonObj  = json.set(buttonObj, buttonname, \n\t\tstrformat('<div name=\"%{buttonname}\" id=\"%{buttonid}\"><span title=\"%{buttonname}\">%{uri}<\/span><\/div>'))]\n\t}]\n\t[setLibProperty(\"vfxShortcutButtons\", buttonObj, lib)]\n\t[if(debug): broadcast(\"Buttons cached\", \"gm\")]\n};{\n\t[buttonObj = getLibProperty(\"vfxShortcutButtons\", lib)]\n\t[if(debug): broadcast(\"Button cache read\", \"gm\")]\n}]\n\n[h: uri = macroLink(\"Stop Sounds\", \"runMacro@\"+lib, \"all\", json.append(\"\", \"Stop Sounds\", 0), lib)]\n[h: uri = replace(uri, 'a href', 'a class=\"close\" href')]\n[h: buttons=\t\tstrformat('<div name=\"Close SFX\" id=\"CloseSFX\"><span title=\"Stop all sounds\">%{uri}<\/span><\/div>')]\n[h, for(i, 0, json.length(soundNameList)-1), code:{\n\t[ifTest=eval(json.get(soundVarList, i))]\n\t[if(ifTest): buttons=buttons+json.get(buttonObj, json.get(soundNameList, i))]\n\t\n}]\n[h, if(debug): broadcast(\"Buttons selected from cache\", \"gm\")]\n[h: css=strformat('\n:root{\n--background-color:\t\t\t\t%{cssbackground_color};\n--border:                       %{cssborder};\n--border-radius:                %{cssborder_radius};\n--color:                        %{csscolor};\n--cursor:                       %{csscursor};\n--float:                        %{cssfloat};\n--font-size:                    %{cssfont_size};\n--margin:                       %{cssmargin};\n--margin-bottom:                %{cssmargin_bottom};\n--overflow:                     %{cssoverflow};\n--padding:                      %{csspadding};\n--text-align:                   %{csstext_align};\n--text-decoration:              %{csstext_decoration};\n--text-overflow:                %{csstext_overflow};\n--text-shadow:                  %{csstext_shadow};\n--white-space:                  %{csswhite_space};\n--max-width:                    %{cssmax_width};\n--width:                        %{csswidth};\n--close-background-color:       %{cssclose_background_color};\n--close-border:                 %{cssclose_border};\n--close-color:                  %{cssclose_color};\n--close-hover-background-color: %{cssclose_hover_background_color}; \n--close-hover-background-image: %{cssclose_hover_background_image};\n--close-hover-border:           %{cssclose_hover_border};\n--hover-background-color:       %{csshover_background_color}; \n--hover-background-image:       %{csshover_background_image};\n--hover-border:                 %{csshover_border};\n}\n* {\n\tbox-sizing: border-box;\n\tmargin: 0;\n\tpadding:0;\n}\n.buttonContainer {\n\tmargin:6px;\n}\nspan { width:100%; }\nbody {\n\tbackground: white;\n}\na {\nbackground-color: var(--background-color);\nborder:           var(--border);\nborder-radius:    var(--border-radius);\ncolor:            var(--color);\ncursor:           var(--cursor);\nfloat:            var(--float);\nfont-size:        var(--font-size);\nmargin:           var(--margin);\nmargin-bottom:    var(--margin-bottom);\noverflow:         var(--overflow);\npadding:          var(--padding);\ntext-align:       var(--text-align);\ntext-decoration:  var(--text-decoration);\ntext-overflow:    var(--text-overflow);\ntext-shadow:      var(--text-shadow);\nwhite-space:      var(--white-space);\nmax-width:        var(--max-width);\nwidth:            var(--width);\n}\n.close {\n\tbackground-color: var(--close-background-color);\n\tborder:           var(--close-border);\n\tcolor:            var(--close-color);\n}\n.close:hover {\n\tbackground-color: var(--close-hover-background-color); \n\tbackground-image: var(--close-hover-background-image);\n\tborder:           var(--close-hover-);\n\t\n}\na:hover {\n\tbackground-color: var(--hover-background-color); \n\tbackground-image: var(--hover-background-image);\n\tborder:           var(--hover-border);\n')]\n\n\n[h: frameHead= strformat('\n\t<head>\n\t<meta charset=\"utf-8\">\n\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n\t<style>%{css}<\/style>\n\t<\/head>')]\n[h: frameBody=strformat('\n\t<body>\n\t<div class=\"\">\n\t\t<div class=\"buttonContainer\">\n\t\t\t%{buttons}\n\t\t<\/div><!-- layerselections -->\n\t<\/div>\n\t<\/body>')]\n\n[frame5(frameName, frameProps):{\n\t<html>\n\t[r: frameHead]\n\t[r: frameBody]\n\t<\/html>\n}]",
      "maxWidth": "",
      "tooltip": "",
      "applyToSelected": false,
      "compare": [],
      "metadata":       {
        "uuid": "f38876f7-1d63-402c-88c6-784dec3f7a94",
        "commandChecksum": "a2080404f40823a8c80c10da70d2df9f",
        "propsChecksum": "632ef86dc6b2f183288b711ceb4ffa8f"
      }
    },
        {
      "autoExecute": true,
      "color": "lime",
      "fontColor": "black",
      "group": "zFunctions: Overlay",
      "includeLabel": false,
      "sortBy": "1000",
      "index": 125,
      "label": "processControls",
      "fontSize": "1.00em",
      "minWidth": "110",
      "playerEditable": false,
      "command": "[h, if(json.get(macro.args, \"submit\") == \"Stop\"), code:{\n\t[h: runMacro(\"Close FX\")]\n\t[r: broadcast(\"Overlays closed\", \"gm\")]\n\t[h: abort(0)]\n}]\n\n[h: '<pre>'+json.indent(macro.args, 4)+'<\/pre>']\n\n[h: args=json.remove(macro.args, \"submit\")]\n[h: args=replace(args, \"-\", \"_\")]\n[h: json.toVars(args)]\n[h, for(i, topSound, -1, -1), code:{\n\t[name = eval(\"sound\"+i)]\n\t[if(name !=\"none\"), code:{\n\t\t[link  = json.get(getLibProperty(\"soundLinks\", getMacroLocation()), name)]\n\t\t[repeat= number(replace(eval(\"sound\"+i+\"_prefs_loop\"), \"_\", \"-\"))]\n\t\t[volume= eval(\"sound\"+i+\"_prefs_volume\")]\n\t\t[start = eval(\"sound\"+i+\"_prefs_start\")]\n\t\t[stop  = eval(\"sound\"+i+\"_prefs_stop\")]\n\t\t[args  = json.append(\"\", link, repeat, volume, start, stop)]\n\t\t[runMacro(\"localStream\", args, 1)]\n\t}]\n}]\n\n[h: runSet=\"\"]\n[h: macString = '\n\t[overlayString = replace(lower(overlayName), \" \", \"\")]\n\t[oArgs=json.set(\"\", \"overlayName\", \"fx_\"+j, \"zOrder\", j, \"layerOpacity\", layerOpacity)]\n\t[foreach(field, json.fields(args, \"json\"), \"<br>\"), code:{\n\t\t[test = if(startsWith(field, layerPrefix) && indexOf(field, overlayString)> -1, 1, 0)]\n\t\t[if(test), code:{\n\t\t\t[varName=substring(field, indexOf(field, \"_\", indexOf(field, overlayString))+1)]\n\t\t\t[oArgs = json.set(oArgs, varName, eval(field))]\n\t\t};{}]\n\t}]\n\t[runset=json.set(runset, overlayName, oArgs)]\n']\n[h, for(j, 0, topLayer+1), code:{\n\t[zOrder=j]\n\t[i=if(j<0, \"_\"+j, j)]\n\t[layerPrefix = strformat(\"layer%{i}\")]\n\t[layerName = strformat(\"%{layerPrefix}\")]\n\t[layerOpacity = eval(strformat(\"%{layerPrefix}_prefs_layeropacity\"))]\n\t[overlayName=eval(layerName)]\n\t[r, if(overlayName != \"none\"), code:{\n\t\t[evalMacro(macString)]\n\t};{ \n\t\t[if(isOverlayRegistered(\"fx\"+zOrder)) :runMacro(\"emptyOverlay\", \"fx\"+zOrder, 0)]\n\t}]\n}]\n[h, foreach(field, json.fields(runset)): runMacro(field, json.get(runset, field))]",
      "maxWidth": "",
      "tooltip": "",
      "applyToSelected": false,
      "compare": [],
      "metadata":       {
        "uuid": "99eca3ad-1e97-4a6e-b309-22a4332c18ce",
        "commandChecksum": "a3509815ba688cbe2b2f3a2960bacb3f",
        "propsChecksum": "ddc06857e8230b59030dc4211ea5703d"
      }
    },
        {
      "autoExecute": true,
      "color": "lime",
      "fontColor": "black",
      "group": "zFunctions: Overlay",
      "includeLabel": false,
      "sortBy": "1000",
      "index": 126,
      "label": "setStartStopMacros",
      "fontSize": "1.00em",
      "minWidth": "110",
      "playerEditable": false,
      "command": "[h: assert(isGM(), \"You are not powerful enough to control the weather.\")]\n[h: lib = getMacroLocation()]\n\n[h: startMacCommand = strformat('[r, macro(\"FX Panel@%{lib}\"):\"\"]')]\n[h: stopMacCommand = strformat(\n'[h: macroToRun = macroLinkText(\"Close FX@%{lib}\",\"none\")]\n[h: execLink(macroToRun, 0, \"all\")]')]\n[h: sfxMacCommand = strformat('[r, macro(\"SFXShortcuts@lib:weather\"):\"\"]')]\n[h: vfxMacCommand = strformat('[r, macro(\"VFXShortcuts@lib:weather\"):\"\"]')]\n\n[h: setMacroCommand(number(getMacroIndexes(\"Full FX Panel\")), startMacCommand)]\n[h: setMacroCommand(number(getMacroIndexes(\"Stop FX\")), stopMacCommand)]\n[h: setMacroCommand(number(getMacroIndexes(\"<html>🎧 Shortcuts<\/html>\")), sfxMacCommand)]\n[h: setMacroCommand(number(getMacroIndexes(\"<html>👀 Shortcuts<\/html>\")), vfxMacCommand)]\n[broadcast('\"Campaign\" Macros rewritten.', 'gm')]",
      "maxWidth": "",
      "tooltip": "",
      "applyToSelected": false,
      "compare": [],
      "metadata":       {
        "uuid": "d319b85e-6855-4917-a82f-7280dade1bde",
        "commandChecksum": "b3c462c1fa3bb0d133709ddefcc60f41",
        "propsChecksum": "f7c0f2329c3f5b7d36557fed41bd6ad6"
      }
    }
  ]
}}}
